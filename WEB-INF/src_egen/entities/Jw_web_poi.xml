<class>com.egen.develop.integration.model.VObject</class>
<lastUsedTemplate>e-gen_jdbcutil_standard_entity_mapping</lastUsedTemplate>
<name>Jw_web_poi</name>
<componentType>com.egen.webide.integration.components.StandardJavaview</componentType>
<columns>
<columns_item>
<class>com.egen.develop.integration.model.VObjectColumn</class>
<discard>false</discard>
<columnName>lin_ref</columnName>
<columnProperties>
<columnProperties_item>
<$key>type</$key>
<$value>java.lang.String</$value>
</columnProperties_item>
<columnProperties_item>
<$key>label</$key>
<$value>lin_ref</$value>
</columnProperties_item>
<columnProperties_item>
<$key>length</$key>
<$value>81</$value>
</columnProperties_item>
<columnProperties_item>
<$key>size</$key>
<$value>81</$value>
</columnProperties_item>
<columnProperties_item>
<$key>not_null</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>html_type</$key>
<$value>text</$value>
</columnProperties_item>
<columnProperties_item>
<$key>i18n</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>format</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>validate_type</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>case_restriction</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>help</$key>
<$value></$value>
</columnProperties_item>
</columnProperties>
</columns_item>
<columns_item>
<class>com.egen.develop.integration.model.VObjectColumn</class>
<discard>false</discard>
<columnName>linha</columnName>
<columnProperties>
<columnProperties_item>
<$key>type</$key>
<$value>java.lang.String</$value>
</columnProperties_item>
<columnProperties_item>
<$key>label</$key>
<$value>linha</$value>
</columnProperties_item>
<columnProperties_item>
<$key>length</$key>
<$value>-105</$value>
</columnProperties_item>
<columnProperties_item>
<$key>size</$key>
<$value>22</$value>
</columnProperties_item>
<columnProperties_item>
<$key>not_null</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>html_type</$key>
<$value>text</$value>
</columnProperties_item>
<columnProperties_item>
<$key>i18n</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>format</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>validate_type</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>case_restriction</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>help</$key>
<$value></$value>
</columnProperties_item>
</columnProperties>
</columns_item>
<columns_item>
<class>com.egen.develop.integration.model.VObjectColumn</class>
<discard>false</discard>
<columnName>ref_codigo</columnName>
<columnProperties>
<columnProperties_item>
<$key>type</$key>
<$value>java.lang.String</$value>
</columnProperties_item>
<columnProperties_item>
<$key>label</$key>
<$value>ref_codigo</$value>
</columnProperties_item>
<columnProperties_item>
<$key>length</$key>
<$value>40</$value>
</columnProperties_item>
<columnProperties_item>
<$key>size</$key>
<$value>40</$value>
</columnProperties_item>
<columnProperties_item>
<$key>not_null</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>html_type</$key>
<$value>text</$value>
</columnProperties_item>
<columnProperties_item>
<$key>i18n</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>format</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>validate_type</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>help</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>case_restriction</$key>
<$value></$value>
</columnProperties_item>
</columnProperties>
</columns_item>
<columns_item>
<class>com.egen.develop.integration.model.VObjectColumn</class>
<discard>false</discard>
<columnName>lin_nome</columnName>
<columnProperties>
<columnProperties_item>
<$key>type</$key>
<$value>java.lang.String</$value>
</columnProperties_item>
<columnProperties_item>
<$key>label</$key>
<$value>lin_nome</$value>
</columnProperties_item>
<columnProperties_item>
<$key>length</$key>
<$value>25</$value>
</columnProperties_item>
<columnProperties_item>
<$key>size</$key>
<$value>25</$value>
</columnProperties_item>
<columnProperties_item>
<$key>not_null</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>html_type</$key>
<$value>text</$value>
</columnProperties_item>
<columnProperties_item>
<$key>i18n</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>format</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>validate_type</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>case_restriction</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>help</$key>
<$value></$value>
</columnProperties_item>
</columnProperties>
</columns_item>
<columns_item>
<class>com.egen.develop.integration.model.VObjectColumn</class>
<discard>false</discard>
<columnName>mes_ano_venda</columnName>
<columnProperties>
<columnProperties_item>
<$key>type</$key>
<$value>java.lang.String</$value>
</columnProperties_item>
<columnProperties_item>
<$key>label</$key>
<$value>mes_ano_venda</$value>
</columnProperties_item>
<columnProperties_item>
<$key>length</$key>
<$value>22</$value>
</columnProperties_item>
<columnProperties_item>
<$key>size</$key>
<$value>22</$value>
</columnProperties_item>
<columnProperties_item>
<$key>not_null</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>html_type</$key>
<$value>text</$value>
</columnProperties_item>
<columnProperties_item>
<$key>i18n</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>format</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>validate_type</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>help</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>case_restriction</$key>
<$value></$value>
</columnProperties_item>
</columnProperties>
</columns_item>
<columns_item>
<class>com.egen.develop.integration.model.VObjectColumn</class>
<discard>false</discard>
<columnName>total_pares_venda</columnName>
<columnProperties>
<columnProperties_item>
<$key>type</$key>
<$value>double</$value>
</columnProperties_item>
<columnProperties_item>
<$key>label</$key>
<$value>total_pares_venda</$value>
</columnProperties_item>
<columnProperties_item>
<$key>length</$key>
<$value>22</$value>
</columnProperties_item>
<columnProperties_item>
<$key>size</$key>
<$value>22</$value>
</columnProperties_item>
<columnProperties_item>
<$key>not_null</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>html_type</$key>
<$value>text</$value>
</columnProperties_item>
<columnProperties_item>
<$key>i18n</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>format</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>validate_type</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>case_restriction</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>help</$key>
<$value></$value>
</columnProperties_item>
</columnProperties>
</columns_item>
<columns_item>
<class>com.egen.develop.integration.model.VObjectColumn</class>
<discard>false</discard>
<columnName>capacidade</columnName>
<columnProperties>
<columnProperties_item>
<$key>type</$key>
<$value>double</$value>
</columnProperties_item>
<columnProperties_item>
<$key>label</$key>
<$value>capacidade</$value>
</columnProperties_item>
<columnProperties_item>
<$key>length</$key>
<$value>22</$value>
</columnProperties_item>
<columnProperties_item>
<$key>size</$key>
<$value>22</$value>
</columnProperties_item>
<columnProperties_item>
<$key>not_null</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>html_type</$key>
<$value>text</$value>
</columnProperties_item>
<columnProperties_item>
<$key>i18n</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>format</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>validate_type</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>help</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>case_restriction</$key>
<$value></$value>
</columnProperties_item>
</columnProperties>
</columns_item>
<columns_item>
<class>com.egen.develop.integration.model.VObjectColumn</class>
<discard>false</discard>
<columnName>vendas</columnName>
<columnProperties>
<columnProperties_item>
<$key>type</$key>
<$value>double</$value>
</columnProperties_item>
<columnProperties_item>
<$key>label</$key>
<$value>vendas</$value>
</columnProperties_item>
<columnProperties_item>
<$key>length</$key>
<$value>22</$value>
</columnProperties_item>
<columnProperties_item>
<$key>size</$key>
<$value>22</$value>
</columnProperties_item>
<columnProperties_item>
<$key>not_null</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>html_type</$key>
<$value>text</$value>
</columnProperties_item>
<columnProperties_item>
<$key>i18n</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>format</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>validate_type</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>help</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>case_restriction</$key>
<$value></$value>
</columnProperties_item>
</columnProperties>
</columns_item>
<columns_item>
<class>com.egen.develop.integration.model.VObjectColumn</class>
<discard>false</discard>
<columnName>disponivel</columnName>
<columnProperties>
<columnProperties_item>
<$key>type</$key>
<$value>double</$value>
</columnProperties_item>
<columnProperties_item>
<$key>label</$key>
<$value>disponivel</$value>
</columnProperties_item>
<columnProperties_item>
<$key>length</$key>
<$value>22</$value>
</columnProperties_item>
<columnProperties_item>
<$key>size</$key>
<$value>22</$value>
</columnProperties_item>
<columnProperties_item>
<$key>not_null</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>html_type</$key>
<$value>text</$value>
</columnProperties_item>
<columnProperties_item>
<$key>i18n</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>format</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>validate_type</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>case_restriction</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>help</$key>
<$value></$value>
</columnProperties_item>
</columnProperties>
</columns_item>
<columns_item>
<class>com.egen.develop.integration.model.VObjectColumn</class>
<discard>false</discard>
<columnName>pares_ret_credito</columnName>
<columnProperties>
<columnProperties_item>
<$key>type</$key>
<$value>double</$value>
</columnProperties_item>
<columnProperties_item>
<$key>label</$key>
<$value>pares_ret_credito</$value>
</columnProperties_item>
<columnProperties_item>
<$key>length</$key>
<$value>22</$value>
</columnProperties_item>
<columnProperties_item>
<$key>size</$key>
<$value>22</$value>
</columnProperties_item>
<columnProperties_item>
<$key>not_null</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>html_type</$key>
<$value>text</$value>
</columnProperties_item>
<columnProperties_item>
<$key>i18n</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>format</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>validate_type</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>help</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>case_restriction</$key>
<$value></$value>
</columnProperties_item>
</columnProperties>
</columns_item>
<columns_item>
<class>com.egen.develop.integration.model.VObjectColumn</class>
<discard>false</discard>
<columnName>periodo</columnName>
<columnProperties>
<columnProperties_item>
<$key>type</$key>
<$value>java.lang.String</$value>
</columnProperties_item>
<columnProperties_item>
<$key>label</$key>
<$value>lin_ref</$value>
</columnProperties_item>
<columnProperties_item>
<$key>length</$key>
<$value>10</$value>
</columnProperties_item>
<columnProperties_item>
<$key>size</$key>
<$value>10</$value>
</columnProperties_item>
<columnProperties_item>
<$key>not_null</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>html_type</$key>
<$value>text</$value>
</columnProperties_item>
<columnProperties_item>
<$key>i18n</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>format</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>validate_type</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>case_restriction</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>help</$key>
<$value></$value>
</columnProperties_item>
</columnProperties>
</columns_item>
<columns_item>
<class>com.egen.develop.integration.model.VObjectColumn</class>
<discard>false</discard>
<columnName>data_inicial</columnName>
<columnProperties>
<columnProperties_item>
<$key>type</$key>
<$value>java.sql.Date</$value>
</columnProperties_item>
<columnProperties_item>
<$key>label</$key>
<$value>Data Inicial</$value>
</columnProperties_item>
<columnProperties_item>
<$key>length</$key>
<$value>12</$value>
</columnProperties_item>
<columnProperties_item>
<$key>size</$key>
<$value>12</$value>
</columnProperties_item>
<columnProperties_item>
<$key>not_null</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>html_type</$key>
<$value>text</$value>
</columnProperties_item>
<columnProperties_item>
<$key>i18n</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>format</$key>
<$value>dd/MM/yyyy</$value>
</columnProperties_item>
<columnProperties_item>
<$key>validate_type</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>help</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>case_restriction</$key>
<$value></$value>
</columnProperties_item>
</columnProperties>
</columns_item>
<columns_item>
<class>com.egen.develop.integration.model.VObjectColumn</class>
<discard>false</discard>
<columnName>data_final</columnName>
<columnProperties>
<columnProperties_item>
<$key>type</$key>
<$value>java.sql.Date</$value>
</columnProperties_item>
<columnProperties_item>
<$key>label</$key>
<$value>Data Final</$value>
</columnProperties_item>
<columnProperties_item>
<$key>length</$key>
<$value>12</$value>
</columnProperties_item>
<columnProperties_item>
<$key>size</$key>
<$value>12</$value>
</columnProperties_item>
<columnProperties_item>
<$key>not_null</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>html_type</$key>
<$value>text</$value>
</columnProperties_item>
<columnProperties_item>
<$key>i18n</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>format</$key>
<$value>dd/MM/yyyy</$value>
</columnProperties_item>
<columnProperties_item>
<$key>validate_type</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>help</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>case_restriction</$key>
<$value></$value>
</columnProperties_item>
</columnProperties>
</columns_item>
</columns>
<properties>
<properties_item>
<$key>query</$key>
<$value>SELECT t.lin_codigo || DECODE(t.ref_codigo, 0, NULL, '.') || DECODE(t.ref_codigo, 0, NULL, t.ref_codigo) lin_ref
      ,t.lin_codigo linha
      ,DECODE(t.ref_codigo, 0, '', t.ref_codigo) ref_codigo
      ,l.lin_nome
      ,mes || SUBSTR(cs.ano, 3, 4) mes_ano_venda
      ,0 total_pares_venda
      ,SUM(capacidade_pares) capacidade
      ,SUM(venda_pares) vendas
      ,SUM(capacidade_pares) - SUM(venda_pares) disponivel
      ,fnc_pares_retidos_credito(TO_DATE(mes || cs.ano, 'mmyyyy'), TRUNC(LAST_DAY(TO_DATE(mes || cs.ano, 'mmyyyy'))), t.lin_codigo) pares_ret_credito
      ,t.periodo
      ,data_inicial
      ,data_final      
  FROM toneis t
      ,lin l
      ,(SELECT DISTINCT cod_empresa
                       ,cod_filial
                       ,periodo
                       ,EXTRACT(YEAR FROM data) ano
                       ,LPAD(EXTRACT(MONTH FROM data), 2, 0) mes
                       ,MIN(DATA) data_inicial, MAX(data) data_final
          FROM calendarios_semanal
         WHERE data BETWEEN NVL(TO_DATE('1112', 'mmrr'), data) AND NVL(LAST_DAY(TO_DATE('1112', 'mmrr')), data)
         GROUP BY cod_empresa
                       ,cod_filial
                       ,periodo
                       ,EXTRACT(YEAR FROM DATA)
                       ,LPAD(EXTRACT(MONTH FROM data), 2, 0)) cs
 WHERE cs.cod_empresa = t.cod_empresa
   AND cs.cod_filial = t.cod_filial
   AND cs.periodo = t.periodo
   AND t.ano = cs.ano
   AND t.lin_codigo = l.lin_cdgo
   AND t.ref_codigo = NVL(NULL, t.ref_codigo)
   AND t.lin_codigo = NVL(NULL, t.lin_codigo)
   AND t.lin_codigo = NVL(NULL, t.lin_codigo)
 GROUP BY cs.ano
         ,cs.mes
         ,t.periodo
         ,cs.data_inicial
         ,cs.data_final
         ,t.lin_codigo
         ,t.ref_codigo
         ,l.lin_nome
 ORDER BY cs.ano
         ,cs.mes
         ,t.lin_codigo
         ,t.ref_codigo
         ,l.lin_nome</$value>
</properties_item>
<properties_item>
<$key>metadata</$key>
<$value></$value>
</properties_item>
<properties_item>
<$key>db_type</$key>
<$value>javaview</$value>
</properties_item>
<properties_item>
<$key>schema</$key>
<$value></$value>
</properties_item>
</properties>
