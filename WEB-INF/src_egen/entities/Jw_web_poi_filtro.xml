<class>com.egen.develop.integration.model.VObject</class>
<lastUsedTemplate>e-gen_jdbcutil_standard_entity_mapping</lastUsedTemplate>
<name>Jw_web_poi_filtro</name>
<componentType>com.egen.webide.integration.components.StandardJavaview</componentType>
<columns>
<columns_item>
<class>com.egen.develop.integration.model.VObjectColumn</class>
<discard>false</discard>
<columnName>lin_ref</columnName>
<columnProperties>
<columnProperties_item>
<$key>type</$key>
<$value>java.lang.String</$value>
</columnProperties_item>
<columnProperties_item>
<$key>label</$key>
<$value>lin_ref</$value>
</columnProperties_item>
<columnProperties_item>
<$key>length</$key>
<$value>81</$value>
</columnProperties_item>
<columnProperties_item>
<$key>size</$key>
<$value>81</$value>
</columnProperties_item>
<columnProperties_item>
<$key>not_null</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>html_type</$key>
<$value>text</$value>
</columnProperties_item>
<columnProperties_item>
<$key>i18n</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>case_restriction</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>validate_type</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>help</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>format</$key>
<$value></$value>
</columnProperties_item>
</columnProperties>
</columns_item>
<columns_item>
<class>com.egen.develop.integration.model.VObjectColumn</class>
<discard>false</discard>
<columnName>linha</columnName>
<columnProperties>
<columnProperties_item>
<$key>type</$key>
<$value>java.lang.Integer</$value>
</columnProperties_item>
<columnProperties_item>
<$key>label</$key>
<$value>linha</$value>
</columnProperties_item>
<columnProperties_item>
<$key>length</$key>
<$value>22</$value>
</columnProperties_item>
<columnProperties_item>
<$key>size</$key>
<$value>22</$value>
</columnProperties_item>
<columnProperties_item>
<$key>not_null</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>html_type</$key>
<$value>text</$value>
</columnProperties_item>
<columnProperties_item>
<$key>i18n</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>case_restriction</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>format</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>validate_type</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>help</$key>
<$value></$value>
</columnProperties_item>
</columnProperties>
</columns_item>
<columns_item>
<class>com.egen.develop.integration.model.VObjectColumn</class>
<discard>false</discard>
<columnName>ref_codigo</columnName>
<columnProperties>
<columnProperties_item>
<$key>type</$key>
<$value>java.lang.String</$value>
</columnProperties_item>
<columnProperties_item>
<$key>label</$key>
<$value>ref_codigo</$value>
</columnProperties_item>
<columnProperties_item>
<$key>length</$key>
<$value>40</$value>
</columnProperties_item>
<columnProperties_item>
<$key>size</$key>
<$value>40</$value>
</columnProperties_item>
<columnProperties_item>
<$key>not_null</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>html_type</$key>
<$value>text</$value>
</columnProperties_item>
<columnProperties_item>
<$key>i18n</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>validate_type</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>help</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>format</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>case_restriction</$key>
<$value></$value>
</columnProperties_item>
</columnProperties>
</columns_item>
<columns_item>
<class>com.egen.develop.integration.model.VObjectColumn</class>
<discard>false</discard>
<columnName>lin_nome</columnName>
<columnProperties>
<columnProperties_item>
<$key>type</$key>
<$value>java.lang.String</$value>
</columnProperties_item>
<columnProperties_item>
<$key>label</$key>
<$value>lin_nome</$value>
</columnProperties_item>
<columnProperties_item>
<$key>length</$key>
<$value>25</$value>
</columnProperties_item>
<columnProperties_item>
<$key>size</$key>
<$value>25</$value>
</columnProperties_item>
<columnProperties_item>
<$key>not_null</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>html_type</$key>
<$value>text</$value>
</columnProperties_item>
<columnProperties_item>
<$key>i18n</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>case_restriction</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>help</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>format</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>validate_type</$key>
<$value></$value>
</columnProperties_item>
</columnProperties>
</columns_item>
<columns_item>
<class>com.egen.develop.integration.model.VObjectColumn</class>
<discard>false</discard>
<columnName>mes</columnName>
<columnProperties>
<columnProperties_item>
<$key>type</$key>
<$value>java.lang.Integer</$value>
</columnProperties_item>
<columnProperties_item>
<$key>label</$key>
<$value>mes</$value>
</columnProperties_item>
<columnProperties_item>
<$key>length</$key>
<$value>22</$value>
</columnProperties_item>
<columnProperties_item>
<$key>size</$key>
<$value>22</$value>
</columnProperties_item>
<columnProperties_item>
<$key>not_null</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>html_type</$key>
<$value>text</$value>
</columnProperties_item>
<columnProperties_item>
<$key>i18n</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>format</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>help</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>case_restriction</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>validate_type</$key>
<$value></$value>
</columnProperties_item>
</columnProperties>
</columns_item>
<columns_item>
<class>com.egen.develop.integration.model.VObjectColumn</class>
<discard>false</discard>
<columnName>ano</columnName>
<columnProperties>
<columnProperties_item>
<$key>type</$key>
<$value>java.lang.Integer</$value>
</columnProperties_item>
<columnProperties_item>
<$key>label</$key>
<$value>ano</$value>
</columnProperties_item>
<columnProperties_item>
<$key>length</$key>
<$value>22</$value>
</columnProperties_item>
<columnProperties_item>
<$key>size</$key>
<$value>22</$value>
</columnProperties_item>
<columnProperties_item>
<$key>not_null</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>html_type</$key>
<$value>text</$value>
</columnProperties_item>
<columnProperties_item>
<$key>i18n</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>validate_type</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>format</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>case_restriction</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>help</$key>
<$value></$value>
</columnProperties_item>
</columnProperties>
</columns_item>
<columns_item>
<class>com.egen.develop.integration.model.VObjectColumn</class>
<discard>false</discard>
<columnName>periodos</columnName>
<columnProperties>
<columnProperties_item>
<$key>type</$key>
<$value>java.lang.Integer</$value>
</columnProperties_item>
<columnProperties_item>
<$key>label</$key>
<$value>periodos</$value>
</columnProperties_item>
<columnProperties_item>
<$key>length</$key>
<$value>22</$value>
</columnProperties_item>
<columnProperties_item>
<$key>size</$key>
<$value>22</$value>
</columnProperties_item>
<columnProperties_item>
<$key>not_null</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>html_type</$key>
<$value>text</$value>
</columnProperties_item>
<columnProperties_item>
<$key>i18n</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>validate_type</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>help</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>case_restriction</$key>
<$value></$value>
</columnProperties_item>
<columnProperties_item>
<$key>format</$key>
<$value></$value>
</columnProperties_item>
</columnProperties>
</columns_item>
</columns>
<properties>
<properties_item>
<$key>query</$key>
<$value>SELECT t.lin_codigo || DECODE(t.ref_codigo, 0, NULL, '.') || DECODE(t.ref_codigo, 0, NULL, t.ref_codigo) lin_ref
       ,t.lin_codigo linha
       ,DECODE(t.ref_codigo, 0, '', t.ref_codigo) ref_codigo
       ,l.lin_nome
       ,cs.mes
       ,cs.ano
       ,COUNT(DISTINCT t.periodo) periodos
   FROM toneis t
       ,lin l
       ,(SELECT DISTINCT cod_empresa
                        ,cod_filial
                        ,periodo
                        ,EXTRACT(YEAR FROM data) ano
                        ,EXTRACT(MONTH FROM DATA) mes
                        ,MIN(data) data_inicial
                        ,MAX(data) data_final
           FROM calendarios_semanal
          WHERE data BETWEEN NVL(TO_DATE('1112', 'mmrr'), data) AND NVL(LAST_DAY(TO_DATE('1112', 'mmrr')), data)
          GROUP BY cod_empresa
                  ,cod_filial
                  ,periodo
                  ,EXTRACT(YEAR FROM data)
                  ,EXTRACT(MONTH FROM data)) cs
  WHERE cs.cod_empresa = t.cod_empresa
    AND cs.cod_filial = t.cod_filial
    AND cs.periodo = t.periodo
    AND t.ano = cs.ano
    AND t.lin_codigo = l.lin_cdgo
    AND t.ref_codigo = NVL(NULL, t.ref_codigo)
    AND t.lin_codigo = NVL(NULL, t.lin_codigo)
    AND t.lin_codigo = NVL(NULL, t.lin_codigo)
  GROUP BY cs.ano
          ,cs.mes
          ,t.lin_codigo
          ,t.ref_codigo
          ,l.lin_nome
  ORDER BY cs.ano
          ,cs.mes
          ,t.lin_codigo
          ,t.ref_codigo
          ,l.lin_nome
 </$value>
</properties_item>
<properties_item>
<$key>metadata</$key>
<$value></$value>
</properties_item>
<properties_item>
<$key>db_type</$key>
<$value>javaview</$value>
</properties_item>
<properties_item>
<$key>schema</$key>
<$value></$value>
</properties_item>
</properties>
