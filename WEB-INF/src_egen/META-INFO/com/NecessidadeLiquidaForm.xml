<?xml version="1.0" encoding="ISO-8859-1"?>
<generator>
<VERSION>v 2.8</VERSION>
<generation_day>19/03/2021</generation_day>
<module>com</module>
<file_name>NecessidadeLiquida</file_name>
<app_type>Form</app_type>
<css></css>
<table_size>99%</table_size>
<grid>30</grid>
<message_footer>no_message</message_footer>
<message_header>no_message</message_header>
<actionFormTemplate></actionFormTemplate>
<actionFormCode>package portalbr.com;
import java.util.*;
import javax.servlet.http.*;
import org.apache.struts.action.*;

/**
 * Creation Date 04/10/2005 13:34:42
 * Last Modify Date 07/07/2006 17:41:49
 */

public class NecessidadeLiquidaActionForm extends org.apache.struts.action.ActionForm
{
  public String fornecedor;
  public String for_codigo;
  public String for_razsoc;
  public String ies_codigo;
  public String cor_cdgo;
  public String necessidade;
  public String tipo;
  public String pedido_inicial;
  public String pedido_final;
  private boolean valida = false;
  public NecessidadeLiquidaActionForm() {
  }

  /**
    * FOR_CODIGO: Method to get the field value.
    */
  public String getFor_codigo() {
    return for_codigo;
  }
  /**
    * FOR_CODIGO: Method to set the field value.
    */
  public void setFor_codigo(String FOR_CODIGO) {
    for_codigo = FOR_CODIGO;
  }

  /**
    * FOR_RAZSOC: Method to get the field value.
    */
  public String getFor_razsoc() {
    return for_razsoc;
  }
  /**
    * FOR_RAZSOC: Method to set the field value.
    */
  public void setFor_razsoc(String FOR_RAZSOC) {
    for_razsoc = FOR_RAZSOC;
  }

  /**
    * TIPO: Método Gets para este campo
    */
  public String getTipo() {
    return tipo;
  }
  /**
    * TIPO: Método Sets pára este campo.
    */
  public void setTipo(String TIPO) {
    tipo = TIPO;
  }

  /**
    * FORNECEDOR: Method to get the field value.
    */
  public String getFornecedor() {
    return fornecedor;
  }
  /**
    * FORNECEDOR: Method to set the field value.
    */
  public void setFornecedor(String FORNECEDOR) {
    fornecedor = FORNECEDOR;
  }
  /**
    * IES_CODIGO: Method to get the field value.
    */
  public String getIes_codigo() {
    return ies_codigo;
  }
  /**
    * IES_CODIGO: Method to set the field value.
    */
  public void setIes_codigo(String IES_CODIGO) {
    ies_codigo = IES_CODIGO;
  }
  /**
    * COR_CDGO: Method to get the field value.
    */
  public String getCor_cdgo() {
    return cor_cdgo;
  }
  /**
    * COR_CDGO: Method to set the field value.
    */
  public void setCor_cdgo(String COR_CDGO) {
    cor_cdgo = COR_CDGO;
  }
  /**
    * NECESSIDADE: Method to get the field value.
    */
  public String getNecessidade() {
    return necessidade;
  }
  /**
    * NECESSIDADE: Method to set the field value.
    */
  public void setNecessidade(String NECESSIDADE) {
    necessidade = NECESSIDADE;
  }


  Vector necessidadeList = new Vector(10, 1);
  public java.util.Vector getNecessidadeList() {
    if (necessidadeList == null || necessidadeList.size() == 0) {
      necessidadeList.addElement("-999999999");
      necessidadeLabelList.addElement("Não");
      necessidadeList.addElement("0");
      necessidadeLabelList.addElement("Sim");
    }
    java.util.Vector list = necessidadeList;
    return list;
  }
  java.util.Vector necessidadeLabelList = new Vector(10, 1);
  public java.util.Vector getNecessidadeLabelList() {
    java.util.Vector list = necessidadeLabelList;
    return list;
  }
  /**
    * PEDIDO_INICIAL: Method to get the field value.
    */
  public String getPedido_inicial() {
    return pedido_inicial;
  }
  /**
    * PEDIDO_INICIAL: Method to set the field value.
    */
  public void setPedido_inicial(String PEDIDO_INICIAL) {
    pedido_inicial = PEDIDO_INICIAL;
  }
  /**
    * PEDIDO_FINAL: Method to get the field value.
    */
  public String getPedido_final() {
    return pedido_final;
  }
  /**
    * PEDIDO_FINAL: Method to set the field value.
    */
  public void setPedido_final(String PEDIDO_FINAL) {
    pedido_final = PEDIDO_FINAL;
  }
  /**
    * Reset all fields.
    */
  public void reset(org.apache.struts.action.ActionMapping mapping, javax.servlet.http.HttpServletRequest request) {
    fornecedor = null;
    ies_codigo = null;
    cor_cdgo = null;
    necessidade = null;
    pedido_inicial = null;
    pedido_final = null;
    for_codigo = null;
    for_razsoc = null;
    tipo = null;
  }
  /**
    * Validate fields and return errors.
    */
  public ActionErrors validate(org.apache.struts.action.ActionMapping mapping, javax.servlet.http.HttpServletRequest request) {
    javax.servlet.http.HttpSession session = request.getSession(true);
    ActionForward actionForward = null;
    ActionErrors errors = new ActionErrors();
    valida = false;
    if (com.egen.util.text.Validate.isValidate("select_action,", request)) {
      if (!com.egen.util.text.Validate.isNull(ies_codigo)) {
        if (!com.egen.util.text.Validate.isRegex(ies_codigo, "^[0-9]*$")) {
          errors.add("ActionErrors.GLOBAL_ERROR_bl_form_NecessidadeLiquida", new ActionMessage("error.validate.regex","Item","ies_codigo","0"));
        }
      }
      if (!com.egen.util.text.Validate.isNull(cor_cdgo)) {
        if (!com.egen.util.text.Validate.isRegex(cor_cdgo, "^[0-9]*$")) {
          errors.add("ActionErrors.GLOBAL_ERROR_bl_form_NecessidadeLiquida", new ActionMessage("error.validate.regex","Cor","cor_cdgo","0"));
        }
      }

      if (!com.egen.util.text.Validate.isNull(for_codigo)) {
        if (!com.egen.util.text.Validate.isRegex(for_codigo, "^[0-9]*$")) {
          errors.add("ActionErrors.GLOBAL_ERROR_bl_form_NecessidadeLiquida", new ActionMessage("error.validate.regex","Fornecedor","for_codigo","0"));
        }
      }

      if (com.egen.util.text.Validate.isNull(pedido_inicial)) {
        errors.add("ActionErrors.GLOBAL_ERROR_bl_form_NecessidadeLiquida", new ActionMessage("error.validate.notnull","Entrada de Pedido Inicial","pedido_inicial","0"));
      }
      if (!com.egen.util.text.Validate.isDate(pedido_inicial)) {
        errors.add("ActionErrors.GLOBAL_ERROR_bl_form_NecessidadeLiquida", new ActionMessage("error.validate.date","Entrada de Pedido Inicial","pedido_inicial","0"));
      }
      if (com.egen.util.text.Validate.isNull(pedido_final)) {
        errors.add("ActionErrors.GLOBAL_ERROR_bl_form_NecessidadeLiquida", new ActionMessage("error.validate.notnull","Entrada de Pedido Final","pedido_final","0"));
      }
      if (!com.egen.util.text.Validate.isDate(pedido_final)) {
        errors.add("ActionErrors.GLOBAL_ERROR_bl_form_NecessidadeLiquida", new ActionMessage("error.validate.date","Entrada de Pedido Final","pedido_final","0"));
      }
//-----------------
     String chave2="";
     String tipo2="";
     acesso.Usuario u2 = new acesso.Usuario();
     u2 = (acesso.Usuario)session.getAttribute("User");
     acesso.EntidadeNegocio ent2 = new acesso.EntidadeNegocio();
     acesso.TipoEntidadeNegocio tipoent2 = new acesso.TipoEntidadeNegocio();

     if(!(u2.getEntidadeNegocio()==null)){
          ent2 = (acesso.EntidadeNegocio) u2.getEntidadeNegocio();
          tipoent2 = (acesso.TipoEntidadeNegocio) ent2.getTipoEntidadeNegocio();
          tipo2 = tipoent2.getTipo()+"";
          if(tipo2.equals("FORNECEDOR")){
            chave2 = ent2.getChave()+"";
          }

     }
     if(chave2.equals("")){
        if (com.egen.util.text.Validate.isNull(for_codigo)) {
           errors.add("ActionErrors.GLOBAL_ERROR_bl_form_NecessidadeLiquida", new ActionMessage("error.validate.notnull","Fornecedor","for_codigo","0"));
        }
     }

//-----------------

    }
    if (errors != null && errors.size() > 0) {
      session.setAttribute(mapping.getName(), this);
    }
    return errors;
  }
}
</actionFormCode>
<actionTemplate>default_action</actionTemplate>
<actionCode></actionCode>
<jspTemplate></jspTemplate>
<jspCode><%@ include file="../system/HeaderStrutsForm.jsp"%>
<%@ page  extends='acesso.web.HttpJspSessao' %>
<html>
  <head>
    <title>
      Consulta Necessidade Líquida
    </title>
    <bean:message key="page.css"/>
    <bean:message key="page.script"/>
    <bean:message key="page.scriptcalendar"/>

  </head>
  <center>

    <body onload="if(document.forms[0].fornecedor.value=='null'){document.forms[0].for_codigo.focus();}">
      <table class="mainTable" style='width:99%;'>
        <tr>
          <td>
            <table   class="headerTable" style="width:99%" >
              <tr>
                <td class='td10'>
                  <%@ include file="../system/header.jsp" %>
                </td>
              </tr>
            </table>

<%
acesso.Sessao sessao = new acesso.Sessao(session);
if(!user.isSuperUsuario() && !user.isAutorizado(112)){
   response.sendRedirect("../system/Error.jsp");
}
%>

            <html:form action="com/NecessidadeLiquidaForm.do" method="POST" styleClass="baseForm" target="_self">
              <table class="messageTable" style='width:99%;'>
                <tr class="messageTr">
                  <td class="messageTd">
                    <bean:message key="div.campos*"/>
                    <html:errors property="ActionErrors.GLOBAL_ERROR_bl_form_NecessidadeLiquida"/>
                  </td>
                </tr>
              </table>
              <table class="itemTable" style='width:99%;'>
                <%
                portalbr.com.NecessidadeLiquidaActionForm NecessidadeLiquidaActionForm = (portalbr.com.NecessidadeLiquidaActionForm)session.getAttribute("NecessidadeLiquidaActionForm");
                java.util.Date dataatual = new java.util.Date();
                java.text.SimpleDateFormat fData2 = new java.text.SimpleDateFormat("dd/MM/yyyy");
                String pedido_inicial = "";
                String pedido_final = "";

                if((NecessidadeLiquidaActionForm.getPedido_inicial()+"").equals("null")){
                     pedido_inicial = fData2.format(dataatual);
                } else {
                     pedido_inicial = NecessidadeLiquidaActionForm.getPedido_inicial()+"";
                }
                if((NecessidadeLiquidaActionForm.getPedido_final()+"").equals("null")){
                     pedido_final = fData2.format(dataatual);
                } else {
                     pedido_final = NecessidadeLiquidaActionForm.getPedido_final()+"";
                }

                String chave = "";
                String tipo  = "";
                acesso.Usuario u = new acesso.Usuario();
                u = (acesso.Usuario)session.getAttribute("User");
                acesso.EntidadeNegocio ent = new acesso.EntidadeNegocio();
                acesso.TipoEntidadeNegocio tipoent = new acesso.TipoEntidadeNegocio();

                if(!(u.getEntidadeNegocio()==null)){
                  ent = (acesso.EntidadeNegocio) u.getEntidadeNegocio();
                  tipoent = (acesso.TipoEntidadeNegocio) ent.getTipoEntidadeNegocio();
                  tipo = tipoent.getTipo()+"";
                  if(tipo.equals("FORNECEDOR")){
                    chave = ent.getChave()+"";
                  }
                }
                %>
                <html:hidden property="fornecedor" value="<%= ent.getChave()+"" %>"/>
                <%
                if(chave.equals("")){
                  %>
                  <tr>
                    <td class="formLabel">
                      <span class="spamFormLabel" >
                        Fornecedor
                      </span>
                      <bean:message key="jsp.fieldnotnull"/>
                    </td>
                    <td class="formField">
                      <html:text property="for_codigo" styleClass="baseField" size="9" maxlength="9"/>
                      <input type="button" class="lovButton" value="..." tabindex="-1" onclick="window.open('../lov/LvFornecedorLov.do?resetfull_action=&returnBlock=0&return0=for_codigo&return1=for_razsoc','','scrollbars,height=510,width=600,top=0,left=0,')"/>
                      <span class="spamFormLabel" >
                      </span>
                      <html:text property="for_razsoc" styleClass="disabled" tabindex="-1" readonly="true" size="40" maxlength="40"/>
                    </td>
                  </tr>
                  <%
                }
                %>

                <tr>
                  <td class="formLabel">
                    <span class="spamFormLabel" >
                      Item
                    </span>
                  </td>
                  <td class="formField">
                    <html:text property="ies_codigo" styleClass="baseField" size="21" maxlength="21"/>
                    <input type="button" class="lovButton" value="..." tabindex="-1" onclick="if(document.forms[0].fornecedor.value==''){document.forms[0].fornecedor.value=document.forms[0].for_codigo.value;}window.open('../lov/ItemLov.do?resetfull_action=&returnBlock=0&return0=ies_codigo','','scrollbars,height=500,width=580,top=0,left=0,')"/>
                  </td>
                </tr>
                <tr>
                  <td class="formLabel">
                    <span class="spamFormLabel" >
                      Cor
                    </span>
                  </td>
                  <td class="formField">
                    <html:text property="cor_cdgo" styleClass="baseField" size="21" maxlength="21"/>
                    <input type="button" class="lovButton" value="..." tabindex="-1" onclick="if(document.forms[0].fornecedor.value==''){document.forms[0].fornecedor.value=document.forms[0].for_codigo.value;}window.open('../lov/LvCorFornecedorLov.do?resetfull_action=&returnBlock=0&return0=cor_cdgo','','scrollbars,height=500,width=580,top=0,left=0,')"/>
                  </td>
                </tr>
                <tr>
                  <td class="formLabel">
                    <span class="spamFormLabel" >
                      Necess. maior que zero?
                    </span>
                  </td>
                  <td class="formField">
                    <html:select property="necessidade" styleClass="baseField" size="1">
                      <html:option styleClass="baseOption" value="-999999999">
                        Não
                      </html:option>
                      <html:option styleClass="baseOption" value="0">
                        Sim
                      </html:option>
                    </html:select>
                  </td>
                </tr>
                <tr>
                  <td class="formLabel">
                    <span class="spamFormLabel" >
                      Entr. de Pedido Inicial
                    </span>
                    <bean:message key="jsp.fieldnotnull"/>
                  </td>
                  <td class="formField">
                    <html:text property="pedido_inicial" onkeypress="FormataData(this,event);" styleClass="baseField" value="<%= pedido_inicial %>" size="10" maxlength="10"/>
                    <a tabindex="-1" href="javascript:var cal1 = new calendar1(document.forms['0'].elements['pedido_inicial']); cal1.year_scroll = true; cal1.popup();">
                      <img src="../img/calendar.gif" width="16" height="16" border="0">
                    </a>
                  </td>
                </tr>
                <tr>
                  <td class="formLabel">
                    <span class="spamFormLabel" >
                      Entr. de Pedido Final
                    </span>
                    <bean:message key="jsp.fieldnotnull"/>
                  </td>
                  <td class="formField">
                    <html:text property="pedido_final" onkeypress="FormataData(this,event);" styleClass="baseField" value="<%= pedido_final %>" size="10" maxlength="10"/>
                    <a tabindex="-1" href="javascript:var cal1 = new calendar1(document.forms['0'].elements['pedido_final']); cal1.year_scroll = true; cal1.popup();">
                      <img src="../img/calendar.gif" width="16" height="16" border="0">
                    </a>
                  </td>
                </tr>
                <%
                if(!tipo.equals("FORNECEDOR")) {
                  %>
                  <tr>
                    <td class="formLabel">
                      <span class="spamFormLabel" >
                        Tipo
                      </span>
                    </td>
                    <td class="formField">
                      <html:select property="tipo" styleClass="baseField" size="1">
                        <html:option styleClass="baseOption" value="s">
                          Sintético
                        </html:option>
                        <html:option styleClass="baseOption" value="a">
                          Analítico
                        </html:option>
                      </html:select>
                    </td>
                  </tr>
                  <%
                } else {
                  %>
                  <html:hidden property="tipo" value="s"/>
                  <%
                }
                %>


              </table>
              <table class="buttonTable" style='width:99%;'>
                <tr class="buttonTr">
                  <td class="buttonTd">
                    <html:button accesskey="p" styleClass="baseButton" property="select1_action" onclick="if(document.forms[0].fornecedor.value==''){document.forms[0].fornecedor.value=document.forms[0].for_codigo.value;}resetfull1_action.disabled=true;bloqueia();this.disabled=true;bloqueia();document.forms[0].select_action.click();">
                      <bean:message bundle="ApplicationResources" key="jsp.select"/>
                    </html:button>
                    <script>
                      function getKeySite(keyStroke) {
                        isNetscape=(document.layers);
                        eventChooser = (isNetscape) ? keyStroke.which : event.keyCode;
                        which = String.fromCharCode(eventChooser).toLowerCase();
                        keyBuffer = which;
                        if(eventChooser == 13){
                        bloqueia();
                        if(document.forms[0].select1_action.disabled==true){return false;}
                        document.forms[0].select1_action.disabled=true;
                        document.forms[0].resetfull1_action.disabled=true;
                        document.forms[0].select_action.click();
                      }
                    }
                  </script>
                  <SCRIPT>
                    document.onkeypress = getKeySite;
                    </SCRIPT><html:button accesskey="l" onclick="resetfull_action.click();" styleClass="baseButton" property="resetfull1_action"><bean:message bundle="ApplicationResources" key="jsp.reset"/></html:button>
                    <html:submit styleClass="myhidden" property="resetfull_action"><bean:message bundle="ApplicationResources" key="jsp.reset"/></html:submit>
                    <html:submit styleClass="myhidden" property="refresh_action"><bean:message bundle="ApplicationResources" key="jsp.reset"/></html:submit>
                    <html:submit styleClass="myhidden" property="select_action"><bean:message bundle="ApplicationResources" key="jsp.select"/></html:submit>
                    </td></tr></table>
                    </html:form>
                    <script type="text/javascript" language="JavaScript">
                    <!--
                    var focusControl = document.forms[0].elements["ies_codigo"];
                    if (focusControl.type != "hidden") {
                      focusControl.focus();
                    }
                  // -->
                  </script>
                </td>
              </tr>
            </table>
          </body>
        </center>
   <div id="question" style="display:none; cursor: default; color: #8D0000; font-size: 14px;">
      <img src="../img/loading.gif" />
      <br>
      <b>Por favor, aguarde...</b>
   </div>
      </html>
</jspCode>
<help></help>
<i18nHelp></i18nHelp>
<show_help>false</show_help>
<develHelp></develHelp>
<multiclick>false</multiclick>
<hidden_code>false</hidden_code>
<disableDevelHelp>false</disableDevelHelp>
<author></author>
<version></version>
<since></since>
<template_file></template_file>
<addImportAction></addImportAction>
<addImportActionForm></addImportActionForm>
<add_actionForm></add_actionForm>
<creationDate>04/10/2005 13:34:42</creationDate>
<lastModifyDate>19/03/2021 10:03:22</lastModifyDate>
<userGenerate>brio</userGenerate>
<scope_storage>session</scope_storage>
<generatorMasterTemplate>struts_1.2_master</generatorMasterTemplate>
<blocks>
<blocks_item>
<class>com.egen.develop.generator.form.BlockForm</class>
<name>bl_form_NecessidadeLiquida</name>
<title>Consulta Necessidade Líquida</title>
<i18n></i18n>
<database>pool</database>
<db_object>portalbr.dbobj.view.NecessidadeLiquida</db_object>
<script_block></script_block>
<script_template></script_template>
<obs></obs>
<maxRows>0</maxRows>
<resultSetName></resultSetName>
<select_clause></select_clause>
<where_clause>{"consumo",">",f.getNecessidade()},</where_clause>
<order_by>{"ies_descricao"}</order_by>
<group_by></group_by>
<having></having>
<styleClass></styleClass>
<style></style>
<relations></relations>
<tabs></tabs>
<receive_parameter>false</receive_parameter>
<showparameter>false</showparameter>
<message_type>default</message_type>
<message_text></message_text>
<banner_type>no_banner</banner_type>
<role></role>
<roleinclude>false</roleinclude>
<i18n_obs></i18n_obs>
<tab_pos>tab0</tab_pos>
<block_size>99%</block_size>
<block_position>Standart</block_position>
<displayError><html:errors property=ActionErrors.GLOBAL_ERROR/></displayError>
<form>
<class>com.egen.develop.generator.form.Form</class>
<action>com/NecessidadeLiquidaForm.do</action>
<enctype></enctype>
<focus>ies_codigo</focus>
<method>POST</method>
<onreset></onreset>
<onsubmit></onsubmit>
<scope>session</scope>
<style></style>
<styleClass></styleClass>
<styleId></styleId>
<target>_self</target>
<type></type>
<disabled>false</disabled><readonly>false</readonly><open_form>false</open_form>
<close_form>false</close_form>
</form>
<blockSetProperty>
</blockSetProperty>
</blockSetProperty>
<gridProperties></gridProperties>
<navigatorProperties></navigatorProperties>
<fields>
<fields_item>
<class>com.egen.develop.generator.form.Free</class>
<name>free_data</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_NecessidadeLiquida</block_name>
<role_item></role_item>
<database_column></database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs>tab0</tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<property>free_data</property>
<label></label>
<label_pos></label_pos>
<label_bg_color></label_bg_color>
<label_fg_color></label_fg_color>
<label_size></label_size>
<label_align></label_align>
<label_font></label_font>
<labelPropertytext></labelPropertytext>
<label_bold>false</label_bold>
<label_italic>false</label_italic>
<justification></justification>
<not_null>false</not_null>
<type>java.lang.String</type>
<validate_message></validate_message>
<validate_message_user></validate_message_user>
<case_restriction></case_restriction>
<break_line>true</break_line>
<lovObject></lovObject>
<lowest_value></lowest_value>
<highest_value></highest_value>
<validate_value>false</validate_value>
<validate_type>false</validate_type>
<validate_group>false</validate_group>
<validate_email>false</validate_email>
<validate_not_null>false</validate_not_null>
<validate_minlength></validate_minlength>
<validate_maxlength></validate_maxlength>
<validate_regex></validate_regex>
<src></src>
<select_allowed>false</select_allowed>
<update_allowed>false</update_allowed>
<insert_allowed>false</insert_allowed>
<isCustomized>false</isCustomized>
<labelStyle></labelStyle>
<labelTitle></labelTitle>
<labelTitleKey></labelTitleKey>
<i18nLabelTitleKey></i18nLabelTitleKey>
<fieldGridSize></fieldGridSize>
<queryOperator></queryOperator>
<round_value></round_value>
<field_prefix></field_prefix>
<field_sufix></field_sufix>
<write>false</write>
<fieldSetProperty>
</fieldSetProperty>
</fieldSetProperty>
<template></template>
<codeItem><%
  portalbr.com.NecessidadeLiquidaActionForm NecessidadeLiquidaActionForm = (portalbr.com.NecessidadeLiquidaActionForm)session.getAttribute("NecessidadeLiquidaActionForm");
  java.util.Date dataatual = new java.util.Date();
  java.text.SimpleDateFormat fData2 = new java.text.SimpleDateFormat("dd/MM/yyyy");
  String pedido_inicial = "";
  String pedido_final = "";
  if((NecessidadeLiquidaActionForm.getPedido_inicial()+"").equals("null")){
     pedido_inicial = fData2.format(dataatual);
  } else {
     pedido_inicial = NecessidadeLiquidaActionForm.getPedido_inicial()+"";
  }

  if((NecessidadeLiquidaActionForm.getPedido_final()+"").equals("null")){
     pedido_final = fData2.format(dataatual);
  } else {
     pedido_final = NecessidadeLiquidaActionForm.getPedido_final()+"";
  }

  String chave="";
  String tipo="";
  acesso.Usuario u = new acesso.Usuario();
  u = (acesso.Usuario)session.getAttribute("User");
  acesso.EntidadeNegocio ent = new acesso.EntidadeNegocio();
  acesso.TipoEntidadeNegocio tipoent = new acesso.TipoEntidadeNegocio();

  if(!(u.getEntidadeNegocio()==null)){
     ent = (acesso.EntidadeNegocio) u.getEntidadeNegocio();
     tipoent = (acesso.TipoEntidadeNegocio) ent.getTipoEntidadeNegocio();
     tipo = tipoent.getTipo()+"";
     if(tipo.equals("FORNECEDOR")){
        chave = ent.getChave()+"";
     }
  }
%>
</codeItem><script_free></script_free>
</fields_item>
<fields_item>
<class>com.egen.develop.generator.form.Text</class>
<name>fornecedor</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_NecessidadeLiquida</block_name>
<role_item></role_item>
<database_column>fornecedor</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs>tab0</tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<property>fornecedor</property>
<label></label>
<label_pos>Left</label_pos>
<label_bg_color></label_bg_color>
<label_fg_color></label_fg_color>
<label_size></label_size>
<label_align>left</label_align>
<label_font></label_font>
<labelPropertytext>vertical-align:top; </labelPropertytext>
<label_bold>false</label_bold>
<label_italic>false</label_italic>
<justification>start</justification>
<not_null>false</not_null>
<type>java.lang.Integer</type>
<validate_message></validate_message>
<validate_message_user></validate_message_user>
<case_restriction></case_restriction>
<break_line>true</break_line>
<lovObject></lovObject>
<lowest_value></lowest_value>
<highest_value></highest_value>
<validate_value>false</validate_value>
<validate_type>false</validate_type>
<validate_group>false</validate_group>
<validate_email>false</validate_email>
<validate_not_null>false</validate_not_null>
<validate_minlength></validate_minlength>
<validate_maxlength></validate_maxlength>
<validate_regex></validate_regex>
<src></src>
<select_allowed>true</select_allowed>
<update_allowed>true</update_allowed>
<insert_allowed>true</insert_allowed>
<isCustomized>true</isCustomized>
<labelStyle></labelStyle>
<labelTitle></labelTitle>
<labelTitleKey></labelTitleKey>
<i18nLabelTitleKey></i18nLabelTitleKey>
<fieldGridSize></fieldGridSize>
<queryOperator></queryOperator>
<round_value></round_value>
<field_prefix></field_prefix>
<field_sufix></field_sufix>
<write>false</write>
<fieldSetProperty>
</fieldSetProperty>
</fieldSetProperty>
<accesskey></accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass></styleClass>
<styleId></styleId>
<errorKey></errorKey>
<errorStyle></errorStyle>
<errorStyleClass></errorStyleClass>
<errorStyleId></errorStyleId>
<tabindex></tabindex>
<field_relation></field_relation>
<codeItem><html:hidden property="fornecedor" value="<%= ent.getChave()+"" %>"/>
<% if(chave.equals("")){ %>
<tr><td class="formLabel"><span class="spamFormLabel" >Fornecedor</span><bean:message key="jsp.fieldnotnull"/></td><td class="formField"><html:text property="for_codigo" styleClass="baseField" size="9" maxlength="9"/><input type="button" class="lovButton" value="..." tabindex="-1" onclick="window.open('../lov/LvFornecedorLov.do?resetfull_action=&returnBlock=0&return0=for_codigo&return1=for_razsoc','','scrollbars,height=510,width=600,top=0,left=0,')"/>
<span class="spamFormLabel" ></span><html:text property="for_razsoc" styleClass="disabled" tabindex="-1" readonly="true" size="40" maxlength="40"/></td></tr>
<% } %>

</codeItem>
<onmouseout></onmouseout>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<readonly>false</readonly>
<value><%= ent.getChave() %></value>
<size></size>
<maxlength></maxlength>
</fields_item>
<fields_item>
<class>com.egen.develop.generator.form.Text</class>
<name>ies_codigo</name>
<help>Código do Item para Filtro</help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_NecessidadeLiquida</block_name>
<role_item></role_item>
<database_column>ies_codigo</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs>tab0</tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<property>ies_codigo</property>
<label>Item</label>
<label_pos>Left</label_pos>
<label_bg_color></label_bg_color>
<label_fg_color></label_fg_color>
<label_size></label_size>
<label_align>start</label_align>
<label_font></label_font>
<labelPropertytext></labelPropertytext>
<label_bold>false</label_bold>
<label_italic>false</label_italic>
<justification>start</justification>
<not_null>false</not_null>
<type>java.lang.Integer</type>
<validate_message></validate_message>
<validate_message_user></validate_message_user>
<case_restriction></case_restriction>
<break_line>true</break_line>
<lovObject><class>com.egen.develop.generator.form.Lov</class>
<lovAction>../lov/ItemLov.do?resetfull_action=</lovAction>
<lovReturns>
<lovReturns_item>
<class>java.lang.String</class>
<value>return0=ies_codigo</value>
</lovReturns_item>
</lovReturns>
<lovParameters></lovParameters>
<lovLabel>...</lovLabel>
<lovStyle></lovStyle>
<lovStyleClass>lovButton</lovStyleClass>
<lovScrollbars>true</lovScrollbars>
<lovHeight>500</lovHeight>
<lovWidth>580</lovWidth>
<lovTop>0</lovTop>
<lovLeft>0</lovLeft>
<lovTemplate></lovTemplate>
<lovCode><input type="button" class="lovButton" tabindex="-1" value="..."  onclick="javascript:lov_open_ies_codigo()"  ><script type="text/javascript"> 
 function lov_open_ies_codigo() {
   window.open('../lov/ItemLov.do?resetfull_action=&returnBlock=0&return0=ies_codigo','','scrollbars=yes,height=500,width=580,top=0,left=0,');
}
</script>
</lovCode>
<lov_channelmode></lov_channelmode>
<lov_directories></lov_directories>
<lov_fullscreen></lov_fullscreen>
<lov_location></lov_location>
<lov_menubar></lov_menubar>
<lov_resizable></lov_resizable>
<lov_status></lov_status>
<lov_titlebar></lov_titlebar>
<lov_toolbar></lov_toolbar>
<lov_modal>false</lov_modal>
<lovSetProperty>
</lovSetProperty>
</lovSetProperty>
</lovObject>
<lowest_value></lowest_value>
<highest_value></highest_value>
<validate_value>false</validate_value>
<validate_type>false</validate_type>
<validate_group>false</validate_group>
<validate_email>false</validate_email>
<validate_not_null>true</validate_not_null>
<validate_minlength></validate_minlength>
<validate_maxlength></validate_maxlength>
<validate_regex>^[0-9]*$</validate_regex>
<src></src>
<select_allowed>true</select_allowed>
<update_allowed>true</update_allowed>
<insert_allowed>true</insert_allowed>
<isCustomized>true</isCustomized>
<labelStyle></labelStyle>
<labelTitle></labelTitle>
<labelTitleKey></labelTitleKey>
<i18nLabelTitleKey></i18nLabelTitleKey>
<fieldGridSize></fieldGridSize>
<queryOperator></queryOperator>
<round_value></round_value>
<field_prefix></field_prefix>
<field_sufix></field_sufix>
<write>false</write>
<fieldSetProperty>
</fieldSetProperty>
</fieldSetProperty>
<accesskey></accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass></styleClass>
<styleId></styleId>
<errorKey></errorKey>
<errorStyle></errorStyle>
<errorStyleClass></errorStyleClass>
<errorStyleId></errorStyleId>
<tabindex></tabindex>
<field_relation></field_relation>
<codeItem><tr><td class="formLabel"><span class="spamFormLabel" >Item</span></td><td class="formField"><html:text property="ies_codigo" styleClass="baseField" size="21" maxlength="21"/><input type="button" class="lovButton" value="..." onclick="if(document.forms[0].fornecedor.value==''){document.forms[0].fornecedor.value=document.forms[0].for_codigo.value;}window.open('../lov/ItemLov.do?resetfull_action=&returnBlock=0&return0=ies_codigo','','scrollbars,height=500,width=580,top=0,left=0,')"/></td></tr>
</codeItem>
<onmouseout></onmouseout>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<readonly>false</readonly>
<value></value>
<size>21</size>
<maxlength>21</maxlength>
</fields_item>
<fields_item>
<class>com.egen.develop.generator.form.Text</class>
<name>cor_cdgo</name>
<help>Código da Cor para Filtro</help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_NecessidadeLiquida</block_name>
<role_item></role_item>
<database_column>cor_cdgo</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs>tab0</tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<property>cor_cdgo</property>
<label>Cor</label>
<label_pos>Left</label_pos>
<label_bg_color></label_bg_color>
<label_fg_color></label_fg_color>
<label_size></label_size>
<label_align>start</label_align>
<label_font></label_font>
<labelPropertytext></labelPropertytext>
<label_bold>false</label_bold>
<label_italic>false</label_italic>
<justification>start</justification>
<not_null>false</not_null>
<type>java.lang.Integer</type>
<validate_message></validate_message>
<validate_message_user></validate_message_user>
<case_restriction></case_restriction>
<break_line>true</break_line>
<lovObject><class>com.egen.develop.generator.form.Lov</class>
<lovAction>..//lov/LvCorLov.jsp</lovAction>
<lovReturns>
<lovReturns_item>
<class>java.lang.String</class>
<value>return0=cor_cdgo</value>
</lovReturns_item>
</lovReturns>
<lovParameters></lovParameters>
<lovLabel>...</lovLabel>
<lovStyle></lovStyle>
<lovStyleClass>lovButton</lovStyleClass>
<lovScrollbars>true</lovScrollbars>
<lovHeight>510</lovHeight>
<lovWidth>730</lovWidth>
<lovTop>0</lovTop>
<lovLeft>0</lovLeft>
<lovTemplate></lovTemplate>
<lovCode><input type="button" class="lovButton" tabindex="-1" value="..."  onclick="javascript:lov_open_cor_cdgo()"  ><script type="text/javascript"> 
 function lov_open_cor_cdgo() {
   window.open('..//lov/LvCorLov.jsp?returnBlock=0&return0=cor_cdgo','','scrollbars=yes,height=510,width=730,top=0,left=0,');
}
</script>
</lovCode>
<lov_channelmode></lov_channelmode>
<lov_directories></lov_directories>
<lov_fullscreen></lov_fullscreen>
<lov_location></lov_location>
<lov_menubar></lov_menubar>
<lov_resizable></lov_resizable>
<lov_status></lov_status>
<lov_titlebar></lov_titlebar>
<lov_toolbar></lov_toolbar>
<lov_modal>false</lov_modal>
<lovSetProperty>
</lovSetProperty>
</lovSetProperty>
</lovObject>
<lowest_value></lowest_value>
<highest_value></highest_value>
<validate_value>false</validate_value>
<validate_type>false</validate_type>
<validate_group>false</validate_group>
<validate_email>false</validate_email>
<validate_not_null>true</validate_not_null>
<validate_minlength></validate_minlength>
<validate_maxlength></validate_maxlength>
<validate_regex>^[0-9]*$</validate_regex>
<src></src>
<select_allowed>true</select_allowed>
<update_allowed>true</update_allowed>
<insert_allowed>true</insert_allowed>
<isCustomized>true</isCustomized>
<labelStyle></labelStyle>
<labelTitle></labelTitle>
<labelTitleKey></labelTitleKey>
<i18nLabelTitleKey></i18nLabelTitleKey>
<fieldGridSize></fieldGridSize>
<queryOperator></queryOperator>
<round_value></round_value>
<field_prefix></field_prefix>
<field_sufix></field_sufix>
<write>false</write>
<fieldSetProperty>
</fieldSetProperty>
</fieldSetProperty>
<accesskey></accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass></styleClass>
<styleId></styleId>
<errorKey></errorKey>
<errorStyle></errorStyle>
<errorStyleClass></errorStyleClass>
<errorStyleId></errorStyleId>
<tabindex></tabindex>
<field_relation></field_relation>
<codeItem><tr><td class="formLabel"><span class="spamFormLabel" >Cor</span></td><td class="formField"><html:text property="cor_cdgo" styleClass="baseField" size="21" maxlength="21"/><input type="button" class="lovButton" value="..." onclick="if(document.forms[0].fornecedor.value==''){document.forms[0].fornecedor.value=document.forms[0].for_codigo.value;}window.open('../lov/LvCorLov.do?resetfull_action=&returnBlock=0&return0=cor_cdgo','','scrollbars,height=500,width=580,top=0,left=0,')"/></td></tr></codeItem>
<onmouseout></onmouseout>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<readonly>false</readonly>
<value></value>
<size>21</size>
<maxlength>21</maxlength>
</fields_item>
<fields_item>
<class>com.egen.develop.generator.form.Select</class>
<name>necessidade</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_NecessidadeLiquida</block_name>
<role_item></role_item>
<database_column></database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs>tab0</tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<property>necessidade</property>
<label>Necess. maior que zero?</label>
<label_pos>Left</label_pos>
<label_bg_color></label_bg_color>
<label_fg_color></label_fg_color>
<label_size></label_size>
<label_align>start</label_align>
<label_font></label_font>
<labelPropertytext></labelPropertytext>
<label_bold>false</label_bold>
<label_italic>false</label_italic>
<justification>start</justification>
<not_null>false</not_null>
<type>java.lang.String</type>
<validate_message></validate_message>
<validate_message_user></validate_message_user>
<case_restriction></case_restriction>
<break_line>true</break_line>
<lovObject></lovObject>
<lowest_value></lowest_value>
<highest_value></highest_value>
<validate_value>false</validate_value>
<validate_type>false</validate_type>
<validate_group>false</validate_group>
<validate_email>false</validate_email>
<validate_not_null>false</validate_not_null>
<validate_minlength></validate_minlength>
<validate_maxlength></validate_maxlength>
<validate_regex></validate_regex>
<src></src>
<select_allowed>false</select_allowed>
<update_allowed>true</update_allowed>
<insert_allowed>true</insert_allowed>
<isCustomized>false</isCustomized>
<labelStyle></labelStyle>
<labelTitle></labelTitle>
<labelTitleKey></labelTitleKey>
<i18nLabelTitleKey></i18nLabelTitleKey>
<fieldGridSize></fieldGridSize>
<queryOperator></queryOperator>
<round_value></round_value>
<field_prefix></field_prefix>
<field_sufix></field_sufix>
<write>false</write>
<fieldSetProperty>
</fieldSetProperty>
</fieldSetProperty>
<accesskey></accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass></styleClass>
<styleId></styleId>
<errorKey></errorKey>
<errorStyle></errorStyle>
<errorStyleClass></errorStyleClass>
<errorStyleId></errorStyleId>
<tabindex></tabindex>
<field_relation></field_relation>
<codeItem></codeItem>
<onmouseout></onmouseout>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<size>1</size>
<selectSize>1</selectSize>
<multiple></multiple>
<option>
<option_item>
<class>com.egen.develop.generator.form.Option</class>
<disabled>false</disabled>
<style></style>
<styleClass></styleClass>
<value>-999999999</value>
<label>Não</label>
<i18n></i18n>
<defaultValue>false</defaultValue>
<optionSetProperty>
</optionSetProperty>
</optionSetProperty>
</option_item>
<option_item>
<class>com.egen.develop.generator.form.Option</class>
<disabled>false</disabled>
<style></style>
<styleClass></styleClass>
<value>0</value>
<label>Sim</label>
<i18n></i18n>
<defaultValue>false</defaultValue>
<optionSetProperty>
</optionSetProperty>
</optionSetProperty>
</option_item>
</option>
</fields_item>
<fields_item>
<class>com.egen.develop.generator.form.Text</class>
<name>pedido_inicial</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_NecessidadeLiquida</block_name>
<role_item></role_item>
<database_column>pedido</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs>tab0</tabs>
<format>dd/MM/yyyy</format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<property>pedido_inicial</property>
<label>Entr. de Pedido Inicial</label>
<label_pos>Left</label_pos>
<label_bg_color></label_bg_color>
<label_fg_color></label_fg_color>
<label_size></label_size>
<label_align>start</label_align>
<label_font></label_font>
<labelPropertytext></labelPropertytext>
<label_bold>false</label_bold>
<label_italic>false</label_italic>
<justification>start</justification>
<not_null>true</not_null>
<type>java.sql.Date</type>
<validate_message>calendar</validate_message>
<validate_message_user></validate_message_user>
<case_restriction></case_restriction>
<break_line>true</break_line>
<lovObject></lovObject>
<lowest_value></lowest_value>
<highest_value></highest_value>
<validate_value>true</validate_value>
<validate_type>true</validate_type>
<validate_group>false</validate_group>
<validate_email>false</validate_email>
<validate_not_null>false</validate_not_null>
<validate_minlength></validate_minlength>
<validate_maxlength></validate_maxlength>
<validate_regex></validate_regex>
<src></src>
<select_allowed>true</select_allowed>
<update_allowed>true</update_allowed>
<insert_allowed>true</insert_allowed>
<isCustomized>false</isCustomized>
<labelStyle></labelStyle>
<labelTitle></labelTitle>
<labelTitleKey></labelTitleKey>
<i18nLabelTitleKey></i18nLabelTitleKey>
<fieldGridSize></fieldGridSize>
<queryOperator></queryOperator>
<round_value></round_value>
<field_prefix></field_prefix>
<field_sufix></field_sufix>
<write>false</write>
<fieldSetProperty>
</fieldSetProperty>
</fieldSetProperty>
<accesskey></accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress>FormataData(this,event);</onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass></styleClass>
<styleId></styleId>
<errorKey></errorKey>
<errorStyle></errorStyle>
<errorStyleClass></errorStyleClass>
<errorStyleId></errorStyleId>
<tabindex></tabindex>
<field_relation></field_relation>
<codeItem></codeItem>
<onmouseout></onmouseout>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<readonly>false</readonly>
<value><%= pedido_inicial %></value>
<size>10</size>
<maxlength>10</maxlength>
</fields_item>
<fields_item>
<class>com.egen.develop.generator.form.Text</class>
<name>pedido_final</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_NecessidadeLiquida</block_name>
<role_item></role_item>
<database_column></database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs>tab0</tabs>
<format>dd/MM/yyyy</format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<property>pedido_final</property>
<label>Entr. de Pedido Final</label>
<label_pos>Left</label_pos>
<label_bg_color></label_bg_color>
<label_fg_color></label_fg_color>
<label_size></label_size>
<label_align>start</label_align>
<label_font></label_font>
<labelPropertytext></labelPropertytext>
<label_bold>false</label_bold>
<label_italic>false</label_italic>
<justification>start</justification>
<not_null>true</not_null>
<type>java.sql.Date</type>
<validate_message>calendar</validate_message>
<validate_message_user></validate_message_user>
<case_restriction></case_restriction>
<break_line>true</break_line>
<lovObject></lovObject>
<lowest_value></lowest_value>
<highest_value></highest_value>
<validate_value>true</validate_value>
<validate_type>true</validate_type>
<validate_group>false</validate_group>
<validate_email>false</validate_email>
<validate_not_null>false</validate_not_null>
<validate_minlength></validate_minlength>
<validate_maxlength></validate_maxlength>
<validate_regex></validate_regex>
<src></src>
<select_allowed>true</select_allowed>
<update_allowed>true</update_allowed>
<insert_allowed>true</insert_allowed>
<isCustomized>true</isCustomized>
<labelStyle></labelStyle>
<labelTitle></labelTitle>
<labelTitleKey></labelTitleKey>
<i18nLabelTitleKey></i18nLabelTitleKey>
<fieldGridSize></fieldGridSize>
<queryOperator></queryOperator>
<round_value></round_value>
<field_prefix></field_prefix>
<field_sufix></field_sufix>
<write>false</write>
<fieldSetProperty>
</fieldSetProperty>
</fieldSetProperty>
<accesskey></accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress>FormataData(this,event);</onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass></styleClass>
<styleId></styleId>
<errorKey></errorKey>
<errorStyle></errorStyle>
<errorStyleClass></errorStyleClass>
<errorStyleId></errorStyleId>
<tabindex></tabindex>
<field_relation></field_relation>
<codeItem><tr><td class="formLabel"><span class="spamFormLabel" >Entr. de Pedido Final</span><bean:message key="jsp.fieldnotnull"/></td><td class="formField"><html:text property="pedido_final" onkeypress="FormataData(this,event);" styleClass="baseField" value="<%= pedido_final %>" size="10" maxlength="10"/> <a tabindex="-1" href="javascript:var cal1 = new calendar1(document.forms['0'].elements['pedido_final']); cal1.year_scroll = true; cal1.popup();"><img src="../img/calendar.gif" width="16" height="16" border="0"></a>
</td></tr>
<%
if(!tipo.equals("FORNECEDOR")) {
%>
<tr><td class="formLabel"><span class="spamFormLabel" >Tipo</span></td><td class="formField"><html:select property="tipo" styleClass="baseField" size="1"><html:option styleClass="baseOption" value="s">Sintético</html:option><html:option styleClass="baseOption" value="a">Analítico</html:option></html:select></td></tr>
<% } else { %>
<html:hidden property="tipo" value="s"/>
<% } %></codeItem>
<onmouseout></onmouseout>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<readonly>false</readonly>
<value><%= pedido_final %></value>
<size>10</size>
<maxlength>10</maxlength>
</fields_item>
<fields_item>
<class>com.egen.develop.generator.form.Select</class>
<name>consulta</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_NecessidadeLiquida</block_name>
<role_item></role_item>
<database_column></database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs>tab0</tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<property>consulta</property>
<label>Consulta</label>
<label_pos></label_pos>
<label_bg_color></label_bg_color>
<label_fg_color></label_fg_color>
<label_size></label_size>
<label_align></label_align>
<label_font></label_font>
<labelPropertytext></labelPropertytext>
<label_bold>false</label_bold>
<label_italic>false</label_italic>
<justification></justification>
<not_null>false</not_null>
<type>java.lang.String</type>
<validate_message></validate_message>
<validate_message_user></validate_message_user>
<case_restriction></case_restriction>
<break_line>true</break_line>
<lovObject></lovObject>
<lowest_value></lowest_value>
<highest_value></highest_value>
<validate_value>false</validate_value>
<validate_type>false</validate_type>
<validate_group>false</validate_group>
<validate_email>false</validate_email>
<validate_not_null>false</validate_not_null>
<validate_minlength></validate_minlength>
<validate_maxlength></validate_maxlength>
<validate_regex></validate_regex>
<src></src>
<select_allowed>true</select_allowed>
<update_allowed>true</update_allowed>
<insert_allowed>true</insert_allowed>
<isCustomized>false</isCustomized>
<labelStyle></labelStyle>
<labelTitle></labelTitle>
<labelTitleKey></labelTitleKey>
<i18nLabelTitleKey></i18nLabelTitleKey>
<fieldGridSize></fieldGridSize>
<queryOperator></queryOperator>
<round_value></round_value>
<field_prefix></field_prefix>
<field_sufix></field_sufix>
<write>false</write>
<fieldSetProperty>
</fieldSetProperty>
</fieldSetProperty>
<accesskey></accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass></styleClass>
<styleId>consulta</styleId>
<errorKey></errorKey>
<errorStyle></errorStyle>
<errorStyleClass></errorStyleClass>
<errorStyleId></errorStyleId>
<tabindex></tabindex>
<field_relation></field_relation>
<codeItem></codeItem>
<onmouseout></onmouseout>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<size>1</size>
<selectSize>1</selectSize>
<multiple></multiple>
<option>
<option_item>
<class>com.egen.develop.generator.form.Option</class>
<disabled>false</disabled>
<style></style>
<styleClass></styleClass>
<value>A</value>
<label>Antiga</label>
<i18n></i18n>
<defaultValue>false</defaultValue>
<optionSetProperty>
</optionSetProperty>
</optionSetProperty>
</option_item>
<option_item>
<class>com.egen.develop.generator.form.Option</class>
<disabled>false</disabled>
<style></style>
<styleClass></styleClass>
<value>N</value>
<label>Nova</label>
<i18n></i18n>
<defaultValue>false</defaultValue>
<optionSetProperty>
</optionSetProperty>
</optionSetProperty>
</option_item>
</option>
</fields_item>
</fields>
<buttons>
<buttons_item>
<class>com.egen.develop.generator.form.Button</class>
<name>select1_action</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_NecessidadeLiquida</block_name>
<role_item></role_item>
<database_column></database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n>ApplicationResources</i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left>200</left>
<top>100</top>
<z_index></z_index>
<value>jsp.select</value>
<accesskey>s</accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass></styleClass>
<styleId></styleId>
<tabindex></tabindex>
<bean_validate>false</bean_validate>
<src></src>
<isCustomized>true</isCustomized>
<codeItem><html:button accesskey="p" styleClass="baseButton" property="select1_action" onclick="if(document.forms[0].fornecedor.value==''){document.forms[0].fornecedor.value=document.forms[0].for_codigo.value;}resetfull1_action.disabled=true;this.disabled=true;document.forms[0].select_action.click();"><bean:message bundle="ApplicationResources" key="jsp.select"/></html:button>
<script>
function getKeySite(keyStroke) {
      isNetscape=(document.layers);
      eventChooser = (isNetscape) ? keyStroke.which : event.keyCode;
      which = String.fromCharCode(eventChooser).toLowerCase();
      keyBuffer = which;
      if(eventChooser == 13){
                              if(document.forms[0].select1_action.disabled==true){return false;}
                              document.forms[0].select1_action.disabled=true;
                              document.forms[0].resetfull1_action.disabled=true;
                              document.forms[0].select_action.click();
      }
    }
</script>
<SCRIPT>
    document.onkeypress = getKeySite;
</SCRIPT></codeItem>
<buttonPosition></buttonPosition>
<select_clause></select_clause>
<where_clause></where_clause>
<order_by_clause></order_by_clause>
<group_by_clause></group_by_clause>
<having_clause></having_clause>
<button_db_object></button_db_object>
<triggers></triggers>
<template></template>
<action_code></action_code>
<property>select1_action</property>
<forward></forward>
<forward_error></forward_error>
<baseButtonSetProperty>
</baseButtonSetProperty>
</baseButtonSetProperty>
</buttons_item>
<buttons_item>
<class>com.egen.develop.generator.form.Button</class>
<name>resetfull1_action</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_NecessidadeLiquida</block_name>
<role_item></role_item>
<database_column></database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n>ApplicationResources</i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left>200</left>
<top>100</top>
<z_index></z_index>
<value>jsp.reset</value>
<accesskey>l</accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick>resetfull_action.click();</onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass></styleClass>
<styleId></styleId>
<tabindex></tabindex>
<bean_validate>false</bean_validate>
<src></src>
<isCustomized>false</isCustomized>
<codeItem></codeItem>
<buttonPosition></buttonPosition>
<select_clause></select_clause>
<where_clause></where_clause>
<order_by_clause></order_by_clause>
<group_by_clause></group_by_clause>
<having_clause></having_clause>
<button_db_object></button_db_object>
<triggers></triggers>
<template></template>
<action_code></action_code>
<property>resetfull1_action</property>
<forward></forward>
<forward_error></forward_error>
<baseButtonSetProperty>
</baseButtonSetProperty>
</baseButtonSetProperty>
</buttons_item>
<buttons_item>
<class>com.egen.develop.generator.form.Submit</class>
<name>resetfull_action</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_NecessidadeLiquida</block_name>
<role_item></role_item>
<database_column></database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n>ApplicationResources</i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left>260</left>
<top>100</top>
<z_index></z_index>
<value>jsp.reset</value>
<accesskey></accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass>myhidden</styleClass>
<styleId></styleId>
<tabindex></tabindex>
<bean_validate>false</bean_validate>
<src></src>
<isCustomized>false</isCustomized>
<codeItem></codeItem>
<buttonPosition></buttonPosition>
<select_clause></select_clause>
<where_clause></where_clause>
<order_by_clause></order_by_clause>
<group_by_clause></group_by_clause>
<having_clause></having_clause>
<button_db_object></button_db_object>
<triggers></triggers>
<template>reset_full_button_action</template>
<action_code></action_code>
<property>resetfull_action</property>
<forward>same</forward>
<forward_error>same</forward_error>
<baseButtonSetProperty>
</baseButtonSetProperty>
</baseButtonSetProperty>
</buttons_item>
<buttons_item>
<class>com.egen.develop.generator.form.Submit</class>
<name>select_action</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_NecessidadeLiquida</block_name>
<role_item></role_item>
<database_column></database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n>ApplicationResources</i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left>200</left>
<top>100</top>
<z_index></z_index>
<value>jsp.select</value>
<accesskey></accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass>myhidden</styleClass>
<styleId></styleId>
<tabindex></tabindex>
<bean_validate>true</bean_validate>
<src></src>
<isCustomized>false</isCustomized>
<codeItem></codeItem>
<buttonPosition></buttonPosition>
<select_clause></select_clause>
<where_clause></where_clause>
<order_by_clause></order_by_clause>
<group_by_clause></group_by_clause>
<having_clause></having_clause>
<button_db_object></button_db_object>
<triggers></triggers>
<template></template>
<action_code>public ActionForward perform_select_action(ActionMapping mapping, ActionForm form, HttpServletRequest request, HttpServletResponse response) {
  HttpSession session = request.getSession(true);
  ActionForward actionForward = null;
  com.egen.util.jdbc.JdbcUtil j = null;
  try {
    j = new com.egen.util.jdbc.JdbcUtil();
    select_action(j, mapping, form, request, response);
    NecessidadeLiquidaActionForm f = (NecessidadeLiquidaActionForm) form;
    actionForward = new ActionForward("/com/NecessLiquidaReport.do?tipo="+f.getTipo(),true);
  } catch (Exception e) {
    ActionErrors errors = new ActionErrors();
    errors.add("ActionErrors.GLOBAL_ERROR_bl_form_NecessidadeLiquida", new ActionMessage("error.action.exception",com.egen.util.system.Error.getMessage(e)));
    request.setAttribute(org.apache.struts.Globals.ERROR_KEY, errors);
    session.setAttribute("exception", com.egen.util.system.Error.getDescription(e));
    actionForward = mapping.findForward("same");
  } finally {
    if (j != null) {
         j.close();
         j = null;
    }
  }
  return actionForward;
}

private void select_action(JdbcUtil j, ActionMapping mapping, ActionForm form, HttpServletRequest request, HttpServletResponse response) throws Exception {
  HttpSession session = request.getSession(true);
  NecessidadeLiquidaActionForm f = (NecessidadeLiquidaActionForm) form;

  String fornecedor = "";
  if(f.getFor_codigo()!=""){
       fornecedor = f.getFor_codigo();
  }
  if((f.getFor_codigo()+"").equals("null")){
       fornecedor = f.getFornecedor();
  }
//---------------------
  portalbr.dbobj.table.Fornecedores table_forn = new portalbr.dbobj.table.Fornecedores();
  String[][] selectf = null;
  Object[][] wheref  = {
                          {"Codigo","=", com.egen.util.text.FormatNumber.toInt(fornecedor)}
                       };
  Vector res_Fornecedores = j.select(table_forn, selectf, wheref, null, null, null);
  session.setAttribute("res_Fornecedores",res_Fornecedores);
  if (res_Fornecedores != null && res_Fornecedores.size() == 0) {
     throw new Exception("Fornecedor inexistente!");
  }

//---------------------
  if((!(f.getCor_cdgo().equals("")))){
     portalbr.dbobj.view.Corfornecedorview table_cor = new portalbr.dbobj.view.Corfornecedorview();
     Vector res_CorFornecedorView = j.select(table_cor,
        new StringBuilder ("select dif.cor_cdgo codigo ")
                  .append("   from dom_item_fornecedor    dif ")
                  .append("  where dif.for_codigo = ").append(fornecedor)
                  .append("    and dif.cor_cdgo   = ").append(f.getCor_cdgo())
                  .append("    and rownum = 1 ").toString()
  ,null);
     if (res_CorFornecedorView == null || res_CorFornecedorView.size() == 0) {
        throw new Exception("Cor invalida para o Fornecedor!");
     }
  }
//-----------------------
  if((!(f.getIes_codigo().equals("")))){
     portalbr.dbobj.view.Itemfornecedorview table_item = new portalbr.dbobj.view.Itemfornecedorview();
     Vector res_ItemFornecedorView = j.select(table_item,
        new StringBuilder("Select dif.ies_codigo ")
                  .append("  from dom_item_fornecedor dif")
                  .append(" where dif.for_codigo = ").append(fornecedor)
                  .append("   and dif.ies_codigo = ").append(f.getIes_codigo())
                  .append("   and rownum = 1 ").toString()
   ,null);
     if (res_ItemFornecedorView == null || res_ItemFornecedorView.size() == 0) {
        throw new Exception("Item invalido para o Fornecedor!");
     }
  }
  
//------------------------
  java.util.Date data_pedido_inicial = com.egen.util.text.FormatDate.parse(f.getPedido_inicial());
  java.util.Date data_pedido_final = com.egen.util.text.FormatDate.parse(f.getPedido_final());
  if(data_pedido_inicial.after(data_pedido_final)){
      throw new Exception("A data final deve ser igual ou maior que a data inicial!");
  }
  java.lang.String cor        = "";
  java.lang.String ies        = "";
  java.lang.String tai_codigo = "";
  java.lang.String cor_cdgo   = "";
  java.lang.String ies_codigo = "";

  StringBuilder parametros = new StringBuilder();
  if(f.getIes_codigo().equals("")){
       parametros.append("");
  } else {
       parametros.append(" and ifo.ies_codigo=").append(f.getIes_codigo()).append(" ");
  }

  if(f.getCor_cdgo().equals("")){
       parametros.append("");
  } else {
       parametros.append(" and ifo.cor_cdgo=").append(f.getCor_cdgo()).append(" ");
  }

//--- VETOR PRINCIPAL --------------------------------------------------------------------------------------
  portalbr.dbobj.view.Necessidadeliquida table = new portalbr.dbobj.view.Necessidadeliquida();
  StringBuilder query = new StringBuilder();
  query.append(" SELECT /*+ rule */ com.fornecedor_razsoc, ");
  query.append("        com.fornecedor, ");
  query.append("        com.fen_seq, ");
  query.append("        com.ies_codigo, ");
  query.append("        com.ies_descricao, ");
  query.append("        com.unm_codigo, ");
  query.append("        com.cor_mater cor_cdgo, ");
  query.append("        com.cor_desc, ");
  query.append("        com.tai_codigo, ");
  query.append("        com.nomeclatura, ");
  query.append("        SUM(com.consumo - com.consumo_anterior) Consumo_anterior, ");
  query.append("        (SELECT sum(mmmm.consumo) / 7 FROM mv_mix_materiais_mapao mmmm WHERE mmmm.ies_codigo = com.ies_codigo AND mmmm.cor_cdgo = com.cor_mater AND mmmm.tai_codigo = com.tai_codigo AND (TRUNC((TRUNC(SYSDATE-1) - mmmm.data_digitacao - 1) / 7) + 1) = 1) entrada_retroativa, ");
  query.append("        (SELECT sum(mmmm.consumo) / 7 FROM mv_mix_materiais_mapao mmmm WHERE mmmm.ies_codigo = com.ies_codigo AND mmmm.cor_cdgo = com.cor_mater AND mmmm.tai_codigo = com.tai_codigo AND (TRUNC((TRUNC(SYSDATE-1) - mmmm.data_digitacao - 1) / 7) + 1) = 2) entrada_retroativa2, ");
  query.append("        SUM(NVL(com.qtd_estoque, 0)) Estoque, ");
  query.append("        SUM(NVL(com.qtd_compra, 0)) OC, ");
  query.append("        SUM(NVL(com.qtd_abastec, 0)) Abastec, ");
  query.append("        (SUM(NVL(com.qtd_consumo, 0) + NVL(com.qtd_reposicao, 0) - NVL(com.qtd_compra, 0) - ");
  query.append("        NVL(com.qtd_abastec, 0) -  NVL(com.qtd_estoque, 0)) * (decode(NVL(com.perc_compra, 100),0,100,NVL(com.perc_compra, 100)) / 100)) Consumo, ");
  query.append("        0 Liq_prod, ");
  query.append("        SUM(DECODE(TO_CHAR(com.Entrega, 'WW/YYYY'), TO_CHAR(SYSDATE, 'WW/YYYY'), ");
  query.append("                   NVL(com.qtd_compra, 0), 0)) OCSemana1, ");
  query.append("        SUM(DECODE(TO_CHAR(com.Entrega, 'WW/YYYY'), TO_CHAR(SYSDATE + 7, 'WW/YYYY'), ");
  query.append("                   NVL(com.qtd_compra, 0), 0)) OCSemana2, ");
  query.append("        SUM(DECODE(TO_CHAR(com.Entrega, 'WW/YYYY'), TO_CHAR(SYSDATE + 14, 'WW/YYYY'), ");
  query.append("                   NVL(com.qtd_compra, 0), 0)) OCSemana3, ");
  query.append("        SUM(DECODE(TO_CHAR(com.Entrega, 'WW/YYYY'), TO_CHAR(SYSDATE + 21, 'WW/YYYY'), ");
  query.append("                   NVL(com.qtd_compra, 0), 0)) OCSemana4, ");
  query.append("        SUM(DECODE(TO_CHAR(com.Entrega, 'MM/YYYY'), TO_CHAR(SYSDATE, 'MM/YYYY'), ");
  query.append("                   NVL(com.qtd_compra, 0), 0)) OCMes1, ");
  query.append("        SUM(DECODE(TO_CHAR(com.Entrega, 'MM/YYYY'), TO_CHAR(ADD_MONTHS(TO_DATE('01/' || ");
  query.append("                   TO_CHAR(SYSDATE, 'MM/YYYY'), 'DD/MM/YYYY'), 1),'MM/YYYY'),NVL(com.qtd_compra, 0),0)) OCMes2, ");
  query.append("        SUM(DECODE(TO_CHAR(com.Entrega, 'MM/YYYY'), TO_CHAR(ADD_MONTHS(TO_DATE('01/' || ");
  query.append("                   TO_CHAR(ADD_MONTHS(TO_DATE('01/' || TO_CHAR(SYSDATE,'MM/YYYY'),'DD/MM/YYYY'),1), ");
  query.append("                   'MM/YYYY'),'DD/MM/YYYY'),1),'MM/YYYY'),NVL(com.qtd_compra, 0),0)) OCMes3, ");
  query.append("        (SUM(DECODE(TO_CHAR(com.Entrega, 'WW/YYYY'),TO_CHAR(SYSDATE, 'WW/YYYY'),NVL(com.qtd_consumo, 0), ");
  query.append("                    0)) - SUM(DECODE(TO_CHAR(com.Entrega, 'WW/YYYY'),TO_CHAR(SYSDATE, 'WW/YYYY'), ");
  query.append("                    NVL(com.qtd_compra, 0), 0))) PedSemana1, ");
  query.append("        (SUM(DECODE(TO_CHAR(com.Entrega, 'WW/YYYY'),TO_CHAR(SYSDATE + 7, 'WW/YYYY'), ");
  query.append("                    NVL(com.qtd_consumo, 0), 0)) - SUM(DECODE(TO_CHAR(com.Entrega, 'WW/YYYY'), ");
  query.append("                    TO_CHAR(SYSDATE + 7, 'WW/YYYY'), NVL(com.qtd_compra, 0), 0))) PedSemana2, ");
  query.append("        (SUM(DECODE(TO_CHAR(com.Entrega, 'WW/YYYY'), TO_CHAR(SYSDATE + 14, 'WW/YYYY'), ");
  query.append("                    NVL(com.qtd_consumo, 0), 0)) - SUM(DECODE(TO_CHAR(com.Entrega, 'WW/YYYY'), ");
  query.append("                    TO_CHAR(SYSDATE + 14, 'WW/YYYY'), NVL(com.qtd_compra, 0), 0))) PedSemana3, ");
  query.append("        (SUM(DECODE(TO_CHAR(com.Entrega, 'WW/YYYY'), TO_CHAR(SYSDATE + 21, 'WW/YYYY'), ");
  query.append("                    NVL(com.qtd_consumo, 0), 0)) - SUM(DECODE(TO_CHAR(com.Entrega, 'WW/YYYY'), ");
  query.append("                    TO_CHAR(SYSDATE + 21, 'WW/YYYY'), NVL(com.qtd_compra, 0), 0))) PedSemana4, ");
  query.append("        (SUM(DECODE(TO_CHAR(com.Entrega, 'MM/YYYY'), TO_CHAR(SYSDATE, 'MM/YYYY'), ");
  query.append("                    NVL(com.qtd_consumo, 0), 0)) - SUM(DECODE(TO_CHAR(com.Entrega, 'MM/YYYY'), ");
  query.append("                    TO_CHAR(SYSDATE, 'MM/YYYY'), NVL(com.qtd_compra, 0), 0))) PedMes1, ");
  query.append("        (SUM(DECODE(TO_CHAR(com.Entrega, 'MM/YYYY'), TO_CHAR(ADD_MONTHS(TO_DATE('01/' || ");
  query.append("                    TO_CHAR(SYSDATE, 'MM/YYYY'), 'DD/MM/YYYY'), 1),'MM/YYYY'), NVL(com.qtd_consumo, 0), 0)) - ");
  query.append("        SUM(DECODE(TO_CHAR(com.Entrega, 'MM/YYYY'), TO_CHAR(ADD_MONTHS(TO_DATE('01/' || ");
  query.append("                    TO_CHAR(SYSDATE, 'MM/YYYY'), 'DD/MM/YYYY'),1),'MM/YYYY'), NVL(com.qtd_compra, 0),0))) PedMes2, ");
  query.append("        (SUM(DECODE(TO_CHAR(com.Entrega, 'MM/YYYY'), TO_CHAR(ADD_MONTHS(TO_DATE('01/' || ");
  query.append("                    TO_CHAR(ADD_MONTHS(TO_DATE('01/' || TO_CHAR(SYSDATE,'MM/YYYY'),'DD/MM/YYYY'), 1), ");
  query.append("                    'MM/YYYY'),'DD/MM/YYYY'),1),'MM/YYYY'), NVL(com.qtd_consumo, 0), ");
  query.append("                    0)) - SUM(DECODE(TO_CHAR(com.Entrega, 'MM/YYYY'),TO_CHAR(ADD_MONTHS(TO_DATE('01/' || ");
  query.append("                    TO_CHAR(ADD_MONTHS(TO_DATE('01/' || TO_CHAR(SYSDATE,'MM/YYYY'),'DD/MM/YYYY'), ");
  query.append("                    1),'MM/YYYY'),'DD/MM/YYYY'), 1),'MM/YYYY'),NVL(com.qtd_compra, 0),0))) PedMes3, ");
  query.append("            nvl(venda.venda_dia,0) venda_dia ");
  query.append("            ,com.perc_compra perc ");
  query.append("   FROM ( SELECT forn.for_codigo || '-' || forn.for_razsoc fornecedor_razsoc, ");
  query.append("                 forn.for_codigo fornecedor, ");
  query.append("                 ifo.fen_seq, ");
  query.append("                 ifo.ies_codigo, ");
  query.append("                 i.descricao ies_Descricao, ");
  query.append("                 i.unm_codigo, ");
  query.append("                 n.cor_mater, ");
  query.append("                 c.cor_desc, ");
  query.append("                 n.tai_codigo, ");
  query.append("                 ifo.nomeclatura, ");
  query.append("                 n.entrada, ");
  query.append("                 n.entrega, ");
  query.append("                 SUM(n.consumo) qtd_consumo, ");
  query.append("                 SUM(n.saldo_estoque) qtd_estoque, ");
  query.append("                 SUM(n.saldo_compra) qtd_compra, ");
  query.append("                 SUM(n.saldo_abast) qtd_abastec, ");
  query.append("                 SUM(0) consumo_anterior, ");
  query.append("                 SUM(NVL(n.consumo, 0) + NVL(n.saldo_reposicao,0) - NVL(n.saldo_compra, 0) - NVL(n.saldo_abast, 0)  - NVL(n.saldo_estoque, 0)) * (nvl(ifo.percentual_compra,100)/100) consumo, ");
  query.append("                 SUM(n.saldo_reposicao) qtd_reposicao, ");
  query.append("                 ifo.percentual_compra  perc_compra ");
  query.append("            FROM mv_mapa_compras     n             ");
  query.append("               , (select * from dom_item_fornecedor ifo where ifo.for_codigo  = ").append(fornecedor).append(" AND ifo.mostra_gef  = 'S') ifo ");
  query.append("               , dom_item_estoque    i             ");
  query.append("               , cor                 c             ");  
  query.append("               , fornecedor          forn          ");  
  query.append("           WHERE ifo.for_codigo  = forn.for_codigo ");
  query.append("             AND n.cor_mater     = c.cor_cdgo ");
  query.append("             AND i.Codigo        = n.mat_nro ");
  query.append("             AND n.mat_nro       = ifo.ies_codigo ");
  query.append("             AND n.cor_mater     = ifo.cor_cdgo ");
  query.append("             AND n.tai_codigo    = ifo.tai_codigo ");
  query.append("             AND n.fil_filial    = ifo.fil_filial ");
  query.append("             AND n.emp_empresa   = ifo.emp_empresa ");
  query.append("             AND n.entrada <= to_date('").append(f.getPedido_final()).append("','dd/mm/yyyy')  ");
  query.append(parametros.toString());
  query.append("             AND EXISTS (SELECT 1 ");
  query.append("                           FROM for_endere fe, ");
  query.append("                                dom_tabela_preco dtp ");
  query.append("                          WHERE dtp.for_codigo  = fe.for_codigo ");
  query.append("                            AND fe.fen_seq      = dtp.fen_seq ");
  query.append("                            AND dtp.for_codigo  = ifo.for_codigo ");
  query.append("                            AND dtp.fen_seq     = ifo.fen_seq ");
  query.append("                            AND dtp.ies_codigo  = n.mat_nro ");
  query.append("                            AND dtp.cor_cdgo    = n.cor_mater ");
  query.append("                            AND dtp.tai_codigo  = n.tai_codigo ");
  query.append("                            AND dtp.emp_empresa = n.emp_empresa ");
  query.append("                            AND dtp.fil_filial  = n.fil_filial ");
  query.append("                            AND fe.fen_ativo    = 'S' ");
  query.append("                            AND dtp.data_liberacao_diretor >= TRUNC(SYSDATE) ");
  query.append("                            AND dtp.status = 'A' ");
  query.append("                            AND ROWNUM = 1) ");
  query.append("                          GROUP BY ");
  query.append("                                forn.for_codigo || '-' || forn.for_razsoc, ");
  query.append("                                forn.for_codigo, ");
  query.append("                                ifo.fen_seq, ");
  query.append("                                ifo.ies_codigo, ");
  query.append("                                i.descricao, ");
  query.append("                                i.unm_codigo, ");
  query.append("                                n.cor_mater, ");
  query.append("                                c.cor_desc, ");
  query.append("                                n.tai_codigo, ");
  query.append("                                ifo.nomeclatura, ");
  query.append("                                n.entrada, ");
  query.append("                                n.entrega, ");
  query.append("                                ifo.percentual_compra");
  query.append("           UNION ALL ");
  query.append("          SELECT forn.for_codigo || '-' || forn.for_razsoc fornecedor_razsoc, ");
  query.append("                 forn.for_codigo fornecedor, ");
  query.append("                 ifo.fen_seq, ");
  query.append("                 n.ies_codigo, ");
  query.append("                 i.descricao ies_descricao, ");
  query.append("                 i.unm_codigo, ");
  query.append("                 n.cor_cdgo, ");
  query.append("                 c.cor_desc, ");
  query.append("                 n.tai_codigo, ");
  query.append("                 ifo.nomeclatura, ");
  query.append("                 n.data_entrada, ");
  query.append("                 n.data_entrega, ");
  query.append("                 SUM(0) qtd_consumo, ");
  query.append("                 SUM(0) qtd_estoque, ");
  query.append("                 SUM(0) qtd_compra, ");
  query.append("                 SUM(0) qtd_abastec, ");
  query.append("                 SUM(NVL(n.qtd_consumo, 0) + NVL(n.qtd_reposicao, 0) - NVL(n.qtd_compra, 0) - NVL(n.qtd_abastec, 0) - NVL(n.qtd_estoque, 0)) * (nvl(ifo.percentual_compra,100)/100) consumo_anterior, ");
  query.append("                 SUM(0) consumo, ");
  query.append("                 SUM(0) qtd_reposicao, ");
  query.append("                 ifo.percentual_compra perc_compra");
  query.append("            FROM necessidade_ped_com_posant n     ");
  query.append("               , (select * from dom_item_fornecedor ifo where ifo.for_codigo  = ").append(fornecedor).append(" AND ifo.mostra_gef  = 'S' ) ifo ");
  query.append("               , dom_item_estoque           i     ");  
  query.append("               , cor                        c     ");                 
  query.append("               , fornecedor                 forn  ");  
  query.append("           WHERE ifo.for_codigo =  forn.for_codigo ");
  query.append("             AND n.cor_cdgo = c.cor_cdgo ");
  query.append("             AND i.codigo        = n.ies_codigo ");
  query.append("             AND n.ies_codigo    = ifo.ies_codigo ");
  query.append("             AND n.cor_cdgo      = ifo.cor_cdgo ");
  query.append("             AND n.tai_codigo    = ifo.tai_codigo ");
  query.append("             AND n.fil_filial    = ifo.fil_filial ");
  query.append("             AND n.emp_empresa   = ifo.emp_empresa ");
  query.append("             AND n.data_entrada <= to_date('").append(f.getPedido_final()).append("','dd/mm/yyyy')  ");
  query.append(parametros );
  query.append("             AND EXISTS (SELECT 1 ");
  query.append("                           FROM for_endere fe, ");
  query.append("                                dom_tabela_preco dtp ");
  query.append("                          WHERE dtp.for_codigo = fe.for_codigo ");
  query.append("                            AND fe.fen_seq      = dtp.fen_seq ");
  query.append("                            AND dtp.for_codigo  = ifo.for_codigo ");
  query.append("                            AND dtp.fen_seq     = ifo.fen_seq ");
  query.append("                            AND dtp.ies_codigo  = n.ies_codigo ");
  query.append("                            AND dtp.cor_cdgo    = n.cor_cdgo ");
  query.append("                            AND dtp.tai_codigo  = n.tai_codigo ");
  query.append("                            AND dtp.emp_empresa = n.emp_empresa ");
  query.append("                            AND dtp.fil_filial  = n.fil_filial ");
  query.append("                            AND fe.fen_ativo    = 'S' ");
  query.append("                            AND dtp.data_liberacao_diretor >= TRUNC(SYSDATE) ");
  query.append("                            AND dtp.status = 'A' ");
  query.append("                            AND ROWNUM = 1) ");
  query.append("           GROUP BY ");
  query.append("                 forn.for_codigo || '-' || forn.for_razsoc, ");
  query.append("                 forn.for_codigo, ");
  query.append("                 ifo.fen_seq, ");
  query.append("                 n.IEs_Codigo, ");
  query.append("                 i.Descricao, ");
  query.append("                 i.UnM_Codigo, ");
  query.append("                 n.Cor_Cdgo, ");
  query.append("                 c.Cor_Desc, ");
  query.append("                 n.TaI_Codigo, ");
  query.append("                 ifo.nomeclatura, ");
  query.append("                 n.data_entrada, ");
  query.append("                 n.data_entrega, ");
  query.append("                 ifo.percentual_compra ");
  query.append("            ) com, ");
  query.append("   (SELECT SUM(n.consumo) venda_dia, ");
  query.append("        ifo.ies_codigo, ");
  query.append("        ifo.cor_cdgo, ");
  query.append("        ifo.tai_codigo, ");
  query.append("        ifo.for_codigo, ");
  query.append("        ifo.fen_seq ");
  query.append("  FROM mv_mapa_compras     n             ");
  query.append("     , (select * from dom_item_fornecedor ifo where ifo.for_codigo  = ").append(fornecedor).append(" AND ifo.mostra_gef  = 'S') ifo ");
  query.append("     , dom_item_estoque    i             ");
  query.append("     , cor                 c             ");  
  query.append("     , fornecedor          forn          ");  
  query.append(" WHERE ifo.for_codigo  = forn.for_codigo ");
  query.append("   AND n.cor_mater     = c.cor_Cdgo ");
  query.append("   AND i.Codigo        = n.mat_nro ");
  query.append("   AND n.mat_nro       = ifo.ies_codigo ");
  query.append("   AND n.cor_mater     = ifo.cor_cdgo ");
  query.append("   AND n.tai_codigo    = ifo.tai_codigo ");
  query.append("   AND n.fil_filial    = ifo.fil_filial ");
  query.append("   AND n.emp_empresa   = ifo.emp_empresa ");
  query.append(parametros );
  query.append("   AND n.entrada BETWEEN TRUNC(TO_DATE(to_date('").append(f.getPedido_inicial()).append("','dd/mm/yyyy') - 1)) AND TRUNC(TO_DATE(to_date('").append(f.getPedido_final()).append("','dd/mm/yyyy') - 1)) ");
  query.append("   AND EXISTS (SELECT 1 ");
  query.append("                 FROM for_endere fe, ");
  query.append("                      dom_tabela_preco dtp ");
  query.append("                WHERE dtp.for_codigo  = fe.for_codigo ");
  query.append("                  AND fe.fen_seq      = dtp.fen_seq ");
  query.append("                  AND dtp.for_codigo  = ifo.for_codigo ");
  query.append("                  AND dtp.fen_seq     = ifo.fen_seq ");
  query.append("                  AND dtp.ies_codigo  = n.mat_nro ");
  query.append("                  AND dtp.cor_cdgo    = n.cor_mater ");
  query.append("                  AND dtp.tai_codigo  = n.tai_codigo ");
  query.append("                  AND dtp.emp_empresa = n.emp_empresa ");
  query.append("                  AND dtp.fil_filial  = n.fil_filial ");
  query.append("                  AND fe.fen_ativo    = 'S' ");
  query.append("                  AND dtp.data_liberacao_diretor >= TRUNC(SYSDATE) ");
  query.append("                  AND dtp.status = 'A' ");
  query.append("                  AND ROWNUM = 1) ");
  query.append(" GROUP BY ");
  query.append("       ifo.ies_codigo, ");
  query.append("       ifo.cor_cdgo, ");
  query.append("       ifo.tai_codigo, ");
  query.append("       ifo.for_codigo, ");
  query.append("       ifo.fen_seq) venda ");
  query.append(" WHERE com.ies_codigo = venda.ies_codigo (+) ");
  query.append("   AND com.cor_mater  = venda.cor_cdgo   (+) ");
  query.append("   AND com.tai_codigo = venda.tai_codigo (+) ");
  query.append("   AND com.fornecedor = venda.for_codigo (+) ");
  query.append(" GROUP BY ");
  query.append("       com.fornecedor_razsoc, ");
  query.append("       com.fornecedor, ");
  query.append("       com.fen_seq, ");
  query.append("       com.IEs_Codigo, ");
  query.append("       com.IEs_Descricao, ");
  query.append("       com.UnM_Codigo, ");
  query.append("       com.cor_mater, ");
  query.append("       com.Cor_Desc, ");
  query.append("       com.TaI_Codigo, ");
  query.append("       com.nomeclatura, ");
  query.append("       venda.venda_dia ");
  query.append("       ,com.perc_compra ");
  query.append(" HAVING ");
  query.append(" (((SUM(NVL(com.qtd_consumo, 0) - NVL(com.qtd_compra, 0) - ");
  query.append(" NVL(com.qtd_abastec, 0) - NVL(com.qtd_estoque, 0))) > ").append(f.getNecessidade()).append(") ");
  query.append(" and((SUM(NVL(com.qtd_compra, 0)) > 0) OR (SUM(NVL(com.qtd_consumo, 0)) > 0))) ");

  acesso.Usuario usuario = (acesso.Usuario)session.getAttribute("User");
  if(usuario.mostraQuery()){
    throw new Exception(query.toString());
  }

  Vector res_NecessidadeLiquida = j.select(table,
                                           query.toString(),
                                           null);

  request.setAttribute("tipo",f.getTipo());
  session.setAttribute("res_NecessidadeLiquida",res_NecessidadeLiquida);
  int contador = 0;
  if (!(res_NecessidadeLiquida != null && res_NecessidadeLiquida.size() > 0)) {
       throw new Exception("Nenhum Registro Encontrado!");
  } else {


 Jw_necessidade_liquida_oc table_oc = new Jw_necessidade_liquida_oc();

      Vector res_Jw_necessidade_liquida_oc = null;

    for (int x=0; x< res_NecessidadeLiquida.size(); x++ ){

		portalbr.dbobj.view.Necessidadeliquida r2 = (portalbr.dbobj.view.Necessidadeliquida) res_NecessidadeLiquida.elementAt(x);

		StringBuilder sb_oc = new StringBuilder();
		sb_oc.append("SELECT /*+ all_rows */ nvl(sum(oc.compra),0) oc, ");
		sb_oc.append("       nvl(SUM(DECODE(TO_CHAR(oc.data_entrega, 'WW/YYYY'), TO_CHAR(SYSDATE, 'WW/YYYY'), ");
		sb_oc.append("       NVL(oc.compra, 0), 0)),0) OCSemana1, ");
		sb_oc.append("       nvl(SUM(DECODE(TO_CHAR(oc.data_entrega, 'WW/YYYY'), TO_CHAR(SYSDATE + 7, 'WW/YYYY'), ");
		sb_oc.append("       NVL(oc.compra, 0), 0)),0) OCSemana2, ");
		sb_oc.append("       nvl(SUM(DECODE(TO_CHAR(oc.data_entrega, 'WW/YYYY'), TO_CHAR(SYSDATE + 14, 'WW/YYYY'), ");
		sb_oc.append("       NVL(oc.compra, 0), 0)),0) OCSemana3, ");
		sb_oc.append("       nvl(SUM(DECODE(TO_CHAR(oc.data_entrega, 'WW/YYYY'), TO_CHAR(SYSDATE + 21, 'WW/YYYY'), ");
		sb_oc.append("       NVL(oc.compra, 0), 0)),0) OCSemana4, ");
		sb_oc.append("       nvl(SUM(DECODE(TO_CHAR(oc.data_entrega, 'MM/YYYY'), TO_CHAR(SYSDATE, 'MM/YYYY'), ");
		sb_oc.append("       NVL(oc.compra, 0), 0)),0) OCMes1, ");
		sb_oc.append("       nvl(SUM(DECODE(TO_CHAR(oc.data_entrega, 'MM/YYYY'), TO_CHAR(ADD_MONTHS(TO_DATE('01/' ||  ");
		sb_oc.append("       TO_CHAR(SYSDATE, 'MM/YYYY'), 'DD/MM/YYYY'), 1),'MM/YYYY'),NVL(oc.compra, 0),0)),0) OCMes2,  ");
		sb_oc.append("       nvl(SUM(DECODE(TO_CHAR(oc.data_entrega, 'MM/YYYY'), TO_CHAR(ADD_MONTHS(TO_DATE('01/' ||  ");
		sb_oc.append("       TO_CHAR(ADD_MONTHS(TO_DATE('01/' || TO_CHAR(SYSDATE,'MM/YYYY'),'DD/MM/YYYY'),1),  ");
		sb_oc.append("       'MM/YYYY'),'DD/MM/YYYY'),1),'MM/YYYY'),NVL(oc.compra, 0),0)),0) OCMes3 ");
		sb_oc.append("  FROM ( SELECT o.for_codigo ");
		sb_oc.append("              , o.fen_seq ");
		sb_oc.append("              , dio.ies_codigo ");
		sb_oc.append("              , dio.cor_cdgo ");
		sb_oc.append("              , dio.tai_codigo ");
		sb_oc.append("              , dei.data_entrega     ");
		sb_oc.append("              , SUM(nvl(dei.quant_comprada, 0) - nvl(dei.quant_recebida, 0)) compra ");
		sb_oc.append("           FROM dom_ordem_compra      o ");
		sb_oc.append("              , dom_item_ordem_compra dio ");
		sb_oc.append("              , dom_item_estoque      i ");
		sb_oc.append("              , dom_data_entrega_item dei ");
		sb_oc.append("          WHERE o.numero = dio.oco_numero ");
		sb_oc.append("            AND i.codigo = dio.ies_codigo ");
		sb_oc.append("            AND dio.oco_numero = dei.oco_numero ");
		sb_oc.append("            AND dio.sequencia  = dei.ioc_sequencia ");
 		sb_oc.append("            AND o.situacao = 0 ");
		sb_oc.append("            AND o.for_codigo = ").append(r2.getFornecedor());
		sb_oc.append("            AND o.fen_seq = ").append(r2.getFen_seq());
		sb_oc.append("            AND dio.ies_codigo = ").append(r2.getIes_codigo());
		sb_oc.append("            AND dio.cor_cdgo = ").append(r2.getCor_cdgo());
		sb_oc.append("            AND dio.tai_codigo = '").append(r2.getTai_codigo()).append("' ");
		sb_oc.append("          GROUP BY o.for_codigo ");
		sb_oc.append("                 , o.fen_seq ");
		sb_oc.append("                 , dio.ies_codigo ");
		sb_oc.append("                 , dio.cor_cdgo ");
		sb_oc.append("                 , dio.tai_codigo ");
		sb_oc.append("                 , dei.data_entrega ");
		sb_oc.append("       ) oc ");

		res_Jw_necessidade_liquida_oc = j.select(table_oc, sb_oc.toString(), null);
		
		if (res_Jw_necessidade_liquida_oc != null && res_Jw_necessidade_liquida_oc.size() > 0) {
			Jw_necessidade_liquida_oc r3 = (Jw_necessidade_liquida_oc) res_Jw_necessidade_liquida_oc.elementAt(0);
			r2.setOc((r3.getOc() != null) ? r3.getOc()  :null);
			r2.setOcsemana1((r3.getOcsemana1() != null) ? r3.getOcsemana1() :null);
			r2.setOcsemana2((r3.getOcsemana2() != null) ? r3.getOcsemana2() :null);
			r2.setOcsemana3((r3.getOcsemana3() != null) ? r3.getOcsemana3() :null);
			r2.setOcsemana4((r3.getOcsemana4() != null) ? r3.getOcsemana4() :null);
			r2.setOcmes1((r3.getOcmes1() != null) ? r3.getOcmes1() : null);
			r2.setOcmes2((r3.getOcmes2() != null) ? r3.getOcmes2() : null);
			r2.setOcmes3((r3.getOcmes3() != null) ? r3.getOcmes3() : null);
		}
	}

  }
  session.setAttribute("mapping.getName()", form);
}</action_code>
<property>select_action</property>
<forward>/com/NecessidadeLiquida_rForm.jsp</forward>
<forward_error>same</forward_error>
<baseButtonSetProperty>
</baseButtonSetProperty>
</baseButtonSetProperty>
</buttons_item>
</buttons>
<formTemplate>default_form_block</formTemplate>
<form_code></form_code>
<number_column></number_column>
</blocks_item>
</blocks>
<strutsConfig>
<class>com.egen.develop.generator.struts.StrutsConfig</class>
<strutsConfigFileName>struts-config.xml</strutsConfigFileName>
<formBeans>
<formBeans_item>
<class>com.egen.develop.struts.FormBean</class>
<className></className>
<dynamic>false</dynamic>
<name>NecessidadeLiquidaActionForm</name>
<type>portalbr.com.NecessidadeLiquidaActionForm</type>
<description></description>
<display_name></display_name>
<icon></icon>
<formProperties></formProperties>
<setProperties></setProperties>
</formBeans_item>
</formBeans>
<actions>
<actions_item>
<class>com.egen.develop.struts.Action</class>
<path>/com/NecessidadeLiquidaForm</path>
<type>portalbr.com.NecessidadeLiquidaAction</type>
<name>NecessidadeLiquidaActionForm</name>
<attribute></attribute>
<input>/com/NecessidadeLiquidaForm.jsp</input>
<className></className>
<forward></forward>
<include></include>
<validate>true</validate>
<scope>session</scope>
<parameter></parameter>
<prefix></prefix>
<roles></roles>
<suffix></suffix>
<unknown></unknown>
<description></description>
<display_name></display_name>
<icon></icon>
<forwards>
<forwards_item>
<class>com.egen.develop.struts.Forward</class>
<className></className>
<contextRelative></contextRelative>
<name>same</name>
<path>/com/NecessidadeLiquidaForm.jsp</path>
<description></description>
<display_name></display_name>
<icon></icon>
<setProperties></setProperties>
</forwards_item>
<forwards_item>
<class>com.egen.develop.struts.Forward</class>
<className></className>
<contextRelative></contextRelative>
<name>next</name>
<path>/com/NecessidadeLiquidaForm.jsp</path>
<description></description>
<display_name></display_name>
<icon></icon>
<setProperties></setProperties>
</forwards_item>
</forwards>
<strutsExceptions></strutsExceptions>
<setProperties></setProperties>
</actions_item>
</actions>
</strutsConfig>
<page>
<class>com.egen.develop.generator.EditPage</class>
<info></info>
<language></language>
<contentType></contentType>
<extends_>acesso.web.HttpJspSessao</extends_>
<import_></import_>
<errorPage></errorPage>
<include></include>
<buffer></buffer>
<session>true</session>
<autoFlush>true</autoFlush>
<isThreadSafe>true</isThreadSafe>
<isErrorPage>false</isErrorPage>
<cache>true</cache>
<show_buffer>false</show_buffer>
<show_header>false</show_header>
<isELIgnored>false</isELIgnored>
<trimWhiteSpace>false</trimWhiteSpace>
<enter_effects>normal</enter_effects>
<role></role>
<roleinclude>false</roleinclude>
<http_equiv></http_equiv>
<content></content>
<name></name>
<url></url>
<moremeta></moremeta>
<addHeaderCode><head><title>Consulta Necessidade Líquida</title></addHeaderCode>
<editPageSetProperty>
</editPageSetProperty>
</editPageSetProperty>
</page>
<time></time>
<body>
<class>com.egen.develop.generator.Body</class>
<id></id>
<class_></class_>
<style></style>
<title></title>
<dir></dir>
<lang></lang>
<onload></onload>
<onunload></onunload>
<onclick></onclick>
<ondblclick></ondblclick>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmouseup></onmouseup>
<onmousemove></onmousemove>
<onmouseover></onmouseover>
<onmouseout></onmouseout>
<bodySetProperty>
</bodySetProperty>
</bodySetProperty>
</body>
<header>
<class>com.egen.develop.generator.Header</class>
<id></id>
<class_></class_>
<style></style>
<include>../system/header.jsp</include>
<freeSource></freeSource>
<onclick></onclick>
<ondblclick></ondblclick>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmouseup></onmouseup>
<onmousemove></onmousemove>
<onmouseover></onmouseover>
<onmouseout></onmouseout>
<left></left>
<top></top>
<z_index></z_index>
<message_header>no_message</message_header>
<message_header_user></message_header_user>
<border></border>
<frame></frame>
<title>no_message</title>
<headerSetProperty>
</headerSetProperty>
</headerSetProperty>
</header>
<footer></footer>
<tabs_gen></tabs_gen>
<files></files>
<pluggableValidators></pluggableValidators>
<hasModelAjax>false</hasModelAjax>
<hasActionAjax>false</hasActionAjax>
<generatorSetProperty>
</generatorSetProperty>
</generatorSetProperty>
</generator>
