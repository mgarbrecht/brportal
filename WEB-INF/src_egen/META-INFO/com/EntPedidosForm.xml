<?xml version="1.0" encoding="ISO-8859-1"?>
<generator>
<VERSION>v 2.8</VERSION>
<generation_day>21/08/2013</generation_day>
<module>com</module>
<file_name>EntPedidos</file_name>
<app_type>Form</app_type>
<css></css>
<table_size>99%</table_size>
<grid>30</grid>
<message_footer>no_message</message_footer>
<message_header>no_message</message_header>
<actionFormTemplate>default_model</actionFormTemplate>
<actionFormCode></actionFormCode>
<actionTemplate>default_action</actionTemplate>
<actionCode></actionCode>
<jspTemplate>default_view</jspTemplate>
<jspCode></jspCode>
<help></help>
<i18nHelp></i18nHelp>
<show_help>false</show_help>
<develHelp></develHelp>
<multiclick>false</multiclick>
<hidden_code>false</hidden_code>
<disableDevelHelp>false</disableDevelHelp>
<author></author>
<version></version>
<since></since>
<template_file></template_file>
<addImportAction></addImportAction>
<addImportActionForm></addImportActionForm>
<add_actionForm></add_actionForm>
<creationDate>17/09/2010 10:56:28</creationDate>
<lastModifyDate>21/08/2013 11:58:10</lastModifyDate>
<userGenerate>brio</userGenerate>
<scope_storage>session</scope_storage>
<generatorMasterTemplate>struts_1.2_master</generatorMasterTemplate>
<blocks>
<blocks_item>
<class>com.egen.develop.generator.form.BlockForm</class>
<name>bl_form_Emula_faturas_proformas</name>
<title>Pedido</title>
<i18n></i18n>
<database>pool</database>
<db_object>Emula_faturas_proformas</db_object>
<script_block>jQuery(document).ready(function($) {
   $("#data_pedido").mask("99/99/9999");
});</script_block>
<script_template></script_template>
<obs></obs>
<maxRows>0</maxRows>
<resultSetName></resultSetName>
<select_clause></select_clause>
<where_clause></where_clause>
<order_by></order_by>
<group_by></group_by>
<having></having>
<styleClass></styleClass>
<style></style>
<relations></relations>
<tabs></tabs>
<receive_parameter>false</receive_parameter>
<showparameter>false</showparameter>
<message_type>default</message_type>
<message_text></message_text>
<banner_type>no_banner</banner_type>
<role></role>
<roleinclude>false</roleinclude>
<i18n_obs></i18n_obs>
<tab_pos>tab0</tab_pos>
<block_size></block_size>
<block_position>Standart</block_position>
<displayError></displayError>
<form>
<class>com.egen.develop.generator.form.Form</class>
<action>com/EntPedidosForm.do</action>
<enctype></enctype>
<focus>numero_pedido</focus>
<method>POST</method>
<onreset></onreset>
<onsubmit></onsubmit>
<scope></scope>
<style></style>
<styleClass></styleClass>
<styleId></styleId>
<target></target>
<type></type>
<disabled>false</disabled><readonly>false</readonly><open_form>false</open_form>
<close_form>false</close_form>
</form>
<blockSetProperty>
</blockSetProperty>
</blockSetProperty>
<gridProperties></gridProperties>
<navigatorProperties><class>com.egen.develop.generator.form.NavigatorProperties</class>
<block_name>bl_form_Emula_faturas_proformas</block_name>
<posFieldName>pos</posFieldName>
<navigatorFieldName>_ge_navigator</navigatorFieldName>
<navigatorFieldPosition>_last</navigatorFieldPosition>
<posButtonName>pos_action</posButtonName>
<navigatorTemplate>standard_navigator</navigatorTemplate>
</navigatorProperties>
<fields>
<fields_item>
<class>com.egen.develop.generator.form.Free</class>
<name>free</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Emula_faturas_proformas</block_name>
<role_item></role_item>
<database_column></database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs>tab0</tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<property>free</property>
<label></label>
<label_pos></label_pos>
<label_bg_color></label_bg_color>
<label_fg_color></label_fg_color>
<label_size></label_size>
<label_align></label_align>
<label_font></label_font>
<labelPropertytext></labelPropertytext>
<label_bold>false</label_bold>
<label_italic>false</label_italic>
<justification></justification>
<not_null>false</not_null>
<type>java.lang.String</type>
<validate_message></validate_message>
<validate_message_user></validate_message_user>
<case_restriction></case_restriction>
<break_line>true</break_line>
<lovObject></lovObject>
<lowest_value></lowest_value>
<highest_value></highest_value>
<validate_value>false</validate_value>
<validate_type>false</validate_type>
<validate_group>false</validate_group>
<validate_email>false</validate_email>
<validate_not_null>false</validate_not_null>
<validate_minlength></validate_minlength>
<validate_maxlength></validate_maxlength>
<validate_regex></validate_regex>
<src></src>
<select_allowed>false</select_allowed>
<update_allowed>false</update_allowed>
<insert_allowed>false</insert_allowed>
<isCustomized>false</isCustomized>
<labelStyle></labelStyle>
<labelTitle></labelTitle>
<labelTitleKey></labelTitleKey>
<i18nLabelTitleKey></i18nLabelTitleKey>
<fieldGridSize></fieldGridSize>
<queryOperator></queryOperator>
<round_value></round_value>
<field_prefix></field_prefix>
<field_sufix></field_sufix>
<write>false</write>
<fieldSetProperty>
</fieldSetProperty>
</fieldSetProperty>
<template></template>
<codeItem><%
  acesso.Sessao se = new acesso.Sessao(session);
  String cliente = "";
  if(se.getTipoEntidadeNegocio().equals("CLIENTE MERCADO EXTERNO")){
     cliente = se.getChave();
  }
%></codeItem><script_free></script_free>
</fields_item>
<fields_item>
<class>com.egen.develop.generator.form.Text</class>
<name>numero_pedido</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Emula_faturas_proformas</block_name>
<role_item></role_item>
<database_column>numero_pedido</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n>ComercialResources</i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs>tab0</tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<property>numero_pedido</property>
<label>EntPedidosForm.numero_pedido</label>
<label_pos>Left</label_pos>
<label_bg_color></label_bg_color>
<label_fg_color></label_fg_color>
<label_size></label_size>
<label_align>start</label_align>
<label_font></label_font>
<labelPropertytext></labelPropertytext>
<label_bold>false</label_bold>
<label_italic>false</label_italic>
<justification>start</justification>
<not_null>false</not_null>
<type>java.lang.Integer</type>
<validate_message></validate_message>
<validate_message_user></validate_message_user>
<case_restriction></case_restriction>
<break_line>true</break_line>
<lovObject></lovObject>
<lowest_value></lowest_value>
<highest_value></highest_value>
<validate_value>false</validate_value>
<validate_type>false</validate_type>
<validate_group>false</validate_group>
<validate_email>false</validate_email>
<validate_not_null>false</validate_not_null>
<validate_minlength></validate_minlength>
<validate_maxlength></validate_maxlength>
<validate_regex></validate_regex>
<src></src>
<select_allowed>true</select_allowed>
<update_allowed>true</update_allowed>
<insert_allowed>true</insert_allowed>
<isCustomized>false</isCustomized>
<labelStyle></labelStyle>
<labelTitle></labelTitle>
<labelTitleKey></labelTitleKey>
<i18nLabelTitleKey></i18nLabelTitleKey>
<fieldGridSize></fieldGridSize>
<queryOperator></queryOperator>
<round_value></round_value>
<field_prefix></field_prefix>
<field_sufix></field_sufix>
<write>false</write>
<fieldSetProperty>
</fieldSetProperty>
</fieldSetProperty>
<accesskey></accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass></styleClass>
<styleId>numero_pedido</styleId>
<errorKey></errorKey>
<errorStyle></errorStyle>
<errorStyleClass></errorStyleClass>
<errorStyleId></errorStyleId>
<tabindex></tabindex>
<field_relation></field_relation>
<codeItem></codeItem>
<onmouseout></onmouseout>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<readonly>false</readonly>
<value></value>
<size>6</size>
<maxlength>6</maxlength>
</fields_item>
<fields_item>
<class>com.egen.develop.generator.form.Text</class>
<name>codigo_cliente</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Emula_faturas_proformas</block_name>
<role_item></role_item>
<database_column>codigo_cliente</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs>tab0</tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<property>codigo_cliente</property>
<label>Cliente</label>
<label_pos>Left</label_pos>
<label_bg_color></label_bg_color>
<label_fg_color></label_fg_color>
<label_size></label_size>
<label_align>start</label_align>
<label_font></label_font>
<labelPropertytext></labelPropertytext>
<label_bold>false</label_bold>
<label_italic>false</label_italic>
<justification>start</justification>
<not_null>true</not_null>
<type>java.lang.Integer</type>
<validate_message></validate_message>
<validate_message_user></validate_message_user>
<case_restriction></case_restriction>
<break_line>false</break_line>
<lovObject><class>com.egen.develop.generator.form.Lov</class>
<lovAction>..//lov/LvClienteLov.do?resetfull_action=</lovAction>
<lovReturns>
<lovReturns_item>
<class>java.lang.String</class>
<value>return0=codigo_cliente</value>
</lovReturns_item>
<lovReturns_item>
<class>java.lang.String</class>
<value>return1=cli_rzao</value>
</lovReturns_item>
</lovReturns>
<lovParameters></lovParameters>
<lovLabel>...</lovLabel>
<lovStyle></lovStyle>
<lovStyleClass>lovButton</lovStyleClass>
<lovScrollbars>true</lovScrollbars>
<lovHeight>510</lovHeight>
<lovWidth>600</lovWidth>
<lovTop>0</lovTop>
<lovLeft>0</lovLeft>
<lovTemplate></lovTemplate>
<lovCode><input type="button" class="lovButton" tabindex="-1" value="<img src=aflist.png>"  onclick="javascript:lov_open_codigo_cliente()"  ><script type="text/javascript"> 
 function lov_open_codigo_cliente() {
   window.open('..//lov/LvClienteLov.do?resetfull_action=&returnBlock=0&return0=codigo_cliente&return1=cli_rzao','','scrollbars=yes,height=510,width=600,top=0,left=0,');
}
</script>
</lovCode>
<lov_channelmode></lov_channelmode>
<lov_directories></lov_directories>
<lov_fullscreen></lov_fullscreen>
<lov_location></lov_location>
<lov_menubar></lov_menubar>
<lov_resizable></lov_resizable>
<lov_status></lov_status>
<lov_titlebar></lov_titlebar>
<lov_toolbar></lov_toolbar>
<lov_modal>false</lov_modal>
<lovSetProperty>
</lovSetProperty>
</lovSetProperty>
</lovObject>
<lowest_value></lowest_value>
<highest_value></highest_value>
<validate_value>true</validate_value>
<validate_type>true</validate_type>
<validate_group>false</validate_group>
<validate_email>false</validate_email>
<validate_not_null>false</validate_not_null>
<validate_minlength></validate_minlength>
<validate_maxlength></validate_maxlength>
<validate_regex></validate_regex>
<src></src>
<select_allowed>true</select_allowed>
<update_allowed>true</update_allowed>
<insert_allowed>true</insert_allowed>
<isCustomized>true</isCustomized>
<labelStyle></labelStyle>
<labelTitle></labelTitle>
<labelTitleKey></labelTitleKey>
<i18nLabelTitleKey></i18nLabelTitleKey>
<fieldGridSize></fieldGridSize>
<queryOperator></queryOperator>
<round_value></round_value>
<field_prefix></field_prefix>
<field_sufix></field_sufix>
<write>false</write>
<fieldSetProperty>
</fieldSetProperty>
</fieldSetProperty>
<accesskey></accesskey>
<disabled>false</disabled>
<onblur>if(this.value!=''){fillFields(0,new Array('codigo_cliente'),'EntPedidosActionForm.getCli_rzao_Ajax',new Array('cli_rzao'));}else{cli_rzao.value='';}</onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass></styleClass>
<styleId>codigo_cliente</styleId>
<errorKey></errorKey>
<errorStyle></errorStyle>
<errorStyleClass></errorStyleClass>
<errorStyleId></errorStyleId>
<tabindex></tabindex>
<field_relation></field_relation>
<codeItem><tr class="itemTr">
  <td class="formLabel">
    <span class="spamFormLabel">Cliente</span>
    <bean:message key="jsp.fieldnotnull"/>
  </td> 
  <td class="formField">

<% if(cliente.equals("")){ %>
    <html:text property="codigo_cliente" styleId="codigo_cliente" onblur="if(this.value!=''){fillFields(0,new Array('codigo_cliente'),'EntPedidosActionForm.getCli_rzao_Ajax',new Array('cli_rzao'));}else{cli_rzao.value='';}" styleClass="baseField" size="5" maxlength="5"/>
    <input type="button" tabindex="-1" value="..." onclick="javascript:lov_open_codigo_cliente()"  >
<% } else { %>
    <html:text property="codigo_cliente" value="<%= cliente %>" styleId="codigo_cliente" styleClass="disabled" tabindex="-1" readonly="true" size="5" maxlength="5"/>
    <input type="button" class="lovButton" tabindex="-1" value="..." disabled="true"  >
    <script>fillFields(0,new Array('codigo_cliente'),'EntPedidosActionForm.getCli_rzao_Ajax',new Array('cli_rzao'));</script>
<% } %>
    <script type="text/javascript"> 
      function lov_open_codigo_cliente() {
        window.open('..//lov/LvClienteLov.do?resetfull_action=&returnBlock=0&return0=codigo_cliente&return1=cli_rzao','','scrollbars=yes,height=510,width=600,top=0,left=0,');
      }
    </script>
</codeItem>
<onmouseout></onmouseout>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<readonly>false</readonly>
<value></value>
<size>10</size>
<maxlength>22</maxlength>
</fields_item>
<fields_item>
<class>com.egen.develop.generator.form.Text</class>
<name>cli_rzao</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Emula_faturas_proformas</block_name>
<role_item></role_item>
<database_column></database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs>tab0</tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<property>cli_rzao</property>
<label></label>
<label_pos>Left</label_pos>
<label_bg_color></label_bg_color>
<label_fg_color></label_fg_color>
<label_size></label_size>
<label_align>start</label_align>
<label_font></label_font>
<labelPropertytext></labelPropertytext>
<label_bold>false</label_bold>
<label_italic>false</label_italic>
<justification>start</justification>
<not_null>false</not_null>
<type>java.lang.String</type>
<validate_message></validate_message>
<validate_message_user></validate_message_user>
<case_restriction></case_restriction>
<break_line>true</break_line>
<lovObject></lovObject>
<lowest_value></lowest_value>
<highest_value></highest_value>
<validate_value>false</validate_value>
<validate_type>false</validate_type>
<validate_group>false</validate_group>
<validate_email>false</validate_email>
<validate_not_null>false</validate_not_null>
<validate_minlength></validate_minlength>
<validate_maxlength></validate_maxlength>
<validate_regex></validate_regex>
<src></src>
<select_allowed>true</select_allowed>
<update_allowed>true</update_allowed>
<insert_allowed>true</insert_allowed>
<isCustomized>false</isCustomized>
<labelStyle></labelStyle>
<labelTitle></labelTitle>
<labelTitleKey></labelTitleKey>
<i18nLabelTitleKey></i18nLabelTitleKey>
<fieldGridSize></fieldGridSize>
<queryOperator></queryOperator>
<round_value></round_value>
<field_prefix></field_prefix>
<field_sufix></field_sufix>
<write>false</write>
<fieldSetProperty>
</fieldSetProperty>
</fieldSetProperty>
<accesskey></accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass>disabled</styleClass>
<styleId>cli_rzao</styleId>
<errorKey></errorKey>
<errorStyle></errorStyle>
<errorStyleClass></errorStyleClass>
<errorStyleId></errorStyleId>
<tabindex>-1</tabindex>
<field_relation><class>com.egen.develop.generator.form.FieldRelation</class>
<db_object>Cli</db_object>
<elements>
<elements_item>
<class>com.egen.develop.generator.ElementRelation</class>
<master_name>codigo_cliente</master_name>
<slave_name>cli_cdgo</slave_name>
<relation_type>P</relation_type>
<elementRelationSetProperty>
</elementRelationSetProperty>
</elementRelationSetProperty>
</elements_item>
<elements_item>
<class>com.egen.develop.generator.ElementRelation</class>
<master_name>cli_rzao</master_name>
<slave_name>cli_rzao</slave_name>
<relation_type>R</relation_type>
<elementRelationSetProperty>
</elementRelationSetProperty>
</elementRelationSetProperty>
</elements_item>
</elements>
<fieldRelationTemplate></fieldRelationTemplate>
<fieldRelationCode>public String getCli_rzao() {
com.egen.util.jdbc.JdbcUtil j = null;
try {
  if (codigo_cliente !=null && codigo_cliente.length()>0) {
    j = new com.egen.util.jdbc.JdbcUtil();
    Cli db_object = new Cli();
    String[][] select = {
      {"cli_rzao",null}
      };
    Object[][] where = {
      {"cli_cdgo","=",com.egen.util.text.FormatNumber.toInt(codigo_cliente)},
      };
    String[] group = null;
    String[] having = null;
    String[] order = null;
    java.util.Vector results = j.select(db_object, select, where, group, having, order);
    if (results!=null && results.size()>0) {
      db_object = (Cli)results.elementAt(0);
      cli_rzao = (db_object.getCli_rzao()!=null)?db_object.getCli_rzao()+"":"";
    } else {
      cli_rzao = "";
    }
  }
} catch (Exception e) {
      cli_rzao = "";
} finally {
  if (j!=null) { j.close(); }
}
return cli_rzao;
}

public String[][] getCli_rzao_Ajax(EntPedidosActionForm PARAM) {
  String[][] list = new String[1][2];
com.egen.util.jdbc.JdbcUtil j = null;
try {
  if (PARAM.getCodigo_cliente() !=null && PARAM.getCodigo_cliente().length()>0) {
    j = new com.egen.util.jdbc.JdbcUtil();
    Cli db_object = new Cli();
    Object[][] where = {
      {"cli_cdgo","=",PARAM.getCodigo_cliente()},
      };
    String[] order = null;
    java.util.Vector results = j.select(db_object, where, order);
    if (results!=null && results.size()>0) {
      db_object = (Cli)results.elementAt(0);
      list[0] = new String[]{"cli_rzao", (db_object.getCli_rzao()!=null)?db_object.getCli_rzao()+"":""};
    } else {
      list[0] = new String[]{"cli_rzao", ""};
    }
  }
} catch (Exception e) {
      list[0] = new String[]{"cli_rzao", ""};
} finally {
  if (j!=null) { j.close(); }
}
return list;
}
</fieldRelationCode>
<fieldRelationEnumerationFile></fieldRelationEnumerationFile>
<fieldRelationSetProperty>
</fieldRelationSetProperty>
</fieldRelationSetProperty>
</field_relation>
<codeItem></codeItem>
<onmouseout></onmouseout>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<readonly>true</readonly>
<value></value>
<size>50</size>
<maxlength>50</maxlength>
</fields_item>
<fields_item>
<class>com.egen.develop.generator.form.Hidden</class>
<name>estabelecimento_cliente</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Emula_faturas_proformas</block_name>
<role_item></role_item>
<database_column>estabelecimento_cliente</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs>tab0</tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<property>estabelecimento_cliente</property>
<label>Estabelecimento_cliente</label>
<label_pos>Left</label_pos>
<label_bg_color></label_bg_color>
<label_fg_color></label_fg_color>
<label_size></label_size>
<label_align>start</label_align>
<label_font></label_font>
<labelPropertytext></labelPropertytext>
<label_bold>false</label_bold>
<label_italic>false</label_italic>
<justification>start</justification>
<not_null>false</not_null>
<type>java.lang.Integer</type>
<validate_message></validate_message>
<validate_message_user></validate_message_user>
<case_restriction></case_restriction>
<break_line>true</break_line>
<lovObject></lovObject>
<lowest_value></lowest_value>
<highest_value></highest_value>
<validate_value>false</validate_value>
<validate_type>true</validate_type>
<validate_group>false</validate_group>
<validate_email>false</validate_email>
<validate_not_null>false</validate_not_null>
<validate_minlength></validate_minlength>
<validate_maxlength></validate_maxlength>
<validate_regex></validate_regex>
<src></src>
<select_allowed>true</select_allowed>
<update_allowed>true</update_allowed>
<insert_allowed>true</insert_allowed>
<isCustomized>false</isCustomized>
<labelStyle></labelStyle>
<labelTitle></labelTitle>
<labelTitleKey></labelTitleKey>
<i18nLabelTitleKey></i18nLabelTitleKey>
<fieldGridSize></fieldGridSize>
<queryOperator></queryOperator>
<round_value></round_value>
<field_prefix></field_prefix>
<field_sufix></field_sufix>
<write>false</write>
<fieldSetProperty>
</fieldSetProperty>
</fieldSetProperty>
<value>1</value>
<codeItem></codeItem>
</fields_item>
<fields_item>
<class>com.egen.develop.generator.form.Text</class>
<name>data_pedido</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Emula_faturas_proformas</block_name>
<role_item></role_item>
<database_column>data_pedido</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs>tab0</tabs>
<format>dd/MM/yyyy</format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<property>data_pedido</property>
<label>Data pedido</label>
<label_pos>Left</label_pos>
<label_bg_color></label_bg_color>
<label_fg_color></label_fg_color>
<label_size></label_size>
<label_align>start</label_align>
<label_font></label_font>
<labelPropertytext></labelPropertytext>
<label_bold>false</label_bold>
<label_italic>false</label_italic>
<justification>start</justification>
<not_null>true</not_null>
<type>java.sql.Date</type>
<validate_message>calendar</validate_message>
<validate_message_user></validate_message_user>
<case_restriction></case_restriction>
<break_line>true</break_line>
<lovObject></lovObject>
<lowest_value></lowest_value>
<highest_value></highest_value>
<validate_value>true</validate_value>
<validate_type>true</validate_type>
<validate_group>false</validate_group>
<validate_email>false</validate_email>
<validate_not_null>false</validate_not_null>
<validate_minlength></validate_minlength>
<validate_maxlength></validate_maxlength>
<validate_regex></validate_regex>
<src></src>
<select_allowed>true</select_allowed>
<update_allowed>true</update_allowed>
<insert_allowed>true</insert_allowed>
<isCustomized>false</isCustomized>
<labelStyle></labelStyle>
<labelTitle></labelTitle>
<labelTitleKey></labelTitleKey>
<i18nLabelTitleKey></i18nLabelTitleKey>
<fieldGridSize></fieldGridSize>
<queryOperator></queryOperator>
<round_value></round_value>
<field_prefix></field_prefix>
<field_sufix></field_sufix>
<write>false</write>
<fieldSetProperty>
</fieldSetProperty>
</fieldSetProperty>
<accesskey></accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass></styleClass>
<styleId>data_pedido</styleId>
<errorKey></errorKey>
<errorStyle></errorStyle>
<errorStyleClass></errorStyleClass>
<errorStyleId></errorStyleId>
<tabindex></tabindex>
<field_relation></field_relation>
<codeItem></codeItem>
<onmouseout></onmouseout>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<readonly>false</readonly>
<value></value>
<size>10</size>
<maxlength>10</maxlength>
</fields_item>
<fields_item>
<class>com.egen.develop.generator.form.Text</class>
<name>nome_planilha</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Emula_faturas_proformas</block_name>
<role_item></role_item>
<database_column>nome_planilha</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs>tab0</tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<property>nome_planilha</property>
<label>Observação</label>
<label_pos>Left</label_pos>
<label_bg_color></label_bg_color>
<label_fg_color></label_fg_color>
<label_size></label_size>
<label_align>start</label_align>
<label_font></label_font>
<labelPropertytext></labelPropertytext>
<label_bold>false</label_bold>
<label_italic>false</label_italic>
<justification>start</justification>
<not_null>false</not_null>
<type>java.lang.String</type>
<validate_message></validate_message>
<validate_message_user></validate_message_user>
<case_restriction></case_restriction>
<break_line>true</break_line>
<lovObject></lovObject>
<lowest_value></lowest_value>
<highest_value></highest_value>
<validate_value>false</validate_value>
<validate_type>false</validate_type>
<validate_group>false</validate_group>
<validate_email>false</validate_email>
<validate_not_null>false</validate_not_null>
<validate_minlength></validate_minlength>
<validate_maxlength></validate_maxlength>
<validate_regex></validate_regex>
<src></src>
<select_allowed>true</select_allowed>
<update_allowed>true</update_allowed>
<insert_allowed>true</insert_allowed>
<isCustomized>false</isCustomized>
<labelStyle></labelStyle>
<labelTitle></labelTitle>
<labelTitleKey></labelTitleKey>
<i18nLabelTitleKey></i18nLabelTitleKey>
<fieldGridSize></fieldGridSize>
<queryOperator></queryOperator>
<round_value></round_value>
<field_prefix></field_prefix>
<field_sufix></field_sufix>
<write>false</write>
<fieldSetProperty>
</fieldSetProperty>
</fieldSetProperty>
<accesskey></accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass></styleClass>
<styleId>nome_planilha</styleId>
<errorKey></errorKey>
<errorStyle></errorStyle>
<errorStyleClass></errorStyleClass>
<errorStyleId></errorStyleId>
<tabindex></tabindex>
<field_relation></field_relation>
<codeItem></codeItem>
<onmouseout></onmouseout>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<readonly>false</readonly>
<value></value>
<size>30</size>
<maxlength>30</maxlength>
</fields_item>
<fields_item>
<class>com.egen.develop.generator.form.Select</class>
<name>status</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Emula_faturas_proformas</block_name>
<role_item></role_item>
<database_column>status</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs>tab0</tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<property>status</property>
<label>Status</label>
<label_pos>Left</label_pos>
<label_bg_color></label_bg_color>
<label_fg_color></label_fg_color>
<label_size></label_size>
<label_align>start</label_align>
<label_font></label_font>
<labelPropertytext></labelPropertytext>
<label_bold>false</label_bold>
<label_italic>false</label_italic>
<justification>start</justification>
<not_null>false</not_null>
<type>java.lang.String</type>
<validate_message></validate_message>
<validate_message_user></validate_message_user>
<case_restriction></case_restriction>
<break_line>true</break_line>
<lovObject></lovObject>
<lowest_value></lowest_value>
<highest_value></highest_value>
<validate_value>false</validate_value>
<validate_type>false</validate_type>
<validate_group>false</validate_group>
<validate_email>false</validate_email>
<validate_not_null>false</validate_not_null>
<validate_minlength></validate_minlength>
<validate_maxlength></validate_maxlength>
<validate_regex></validate_regex>
<src></src>
<select_allowed>true</select_allowed>
<update_allowed>true</update_allowed>
<insert_allowed>true</insert_allowed>
<isCustomized>true</isCustomized>
<labelStyle></labelStyle>
<labelTitle></labelTitle>
<labelTitleKey></labelTitleKey>
<i18nLabelTitleKey></i18nLabelTitleKey>
<fieldGridSize></fieldGridSize>
<queryOperator></queryOperator>
<round_value></round_value>
<field_prefix></field_prefix>
<field_sufix></field_sufix>
<write>false</write>
<fieldSetProperty>
</fieldSetProperty>
</fieldSetProperty>
<accesskey></accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass></styleClass>
<styleId></styleId>
<errorKey></errorKey>
<errorStyle></errorStyle>
<errorStyleClass></errorStyleClass>
<errorStyleId></errorStyleId>
<tabindex></tabindex>
<field_relation></field_relation>
<codeItem><tr 
 class="itemTr">
<td 
 class="formLabel"><span 
 class="spamFormLabel">Status</span>
</td> 
<td 
 class="formField"><html:select property="status" styleClass="baseField" size="1">
<html:option styleClass="baseOption" value=""><bean:message bundle="ComercialResources" key="EntPedidosForm.all"/></html:option>
<html:option styleClass="baseOption" value="O"><bean:message bundle="ComercialResources" key="EntPedidosForm.open"/></html:option>
<html:option styleClass="baseOption" value="C"><bean:message bundle="ComercialResources" key="EntPedidosForm.completed"/></html:option>
</html:select></td> 
</tr>

</codeItem>
<onmouseout></onmouseout>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<size>1</size>
<selectSize>1</selectSize>
<multiple></multiple>
<option>
<option_item>
<class>com.egen.develop.generator.form.Option</class>
<disabled>false</disabled>
<style></style>
<styleClass></styleClass>
<value></value>
<label>Todos</label>
<i18n></i18n>
<defaultValue>false</defaultValue>
<optionSetProperty>
</optionSetProperty>
</optionSetProperty>
</option_item>
<option_item>
<class>com.egen.develop.generator.form.Option</class>
<disabled>false</disabled>
<style></style>
<styleClass></styleClass>
<value>O</value>
<label>Open</label>
<i18n></i18n>
<defaultValue>false</defaultValue>
<optionSetProperty>
</optionSetProperty>
</optionSetProperty>
</option_item>
<option_item>
<class>com.egen.develop.generator.form.Option</class>
<disabled>false</disabled>
<style></style>
<styleClass></styleClass>
<value>C</value>
<label>Completed</label>
<i18n></i18n>
<defaultValue>false</defaultValue>
<optionSetProperty>
</optionSetProperty>
</optionSetProperty>
</option_item>
</option>
</fields_item>
<fields_item>
<class>com.egen.develop.generator.form.Hidden</class>
<name>tem_alteracao</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Emula_faturas_proformas</block_name>
<role_item></role_item>
<database_column></database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs>tab0</tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<property>tem_alteracao</property>
<label></label>
<label_pos>Left</label_pos>
<label_bg_color></label_bg_color>
<label_fg_color></label_fg_color>
<label_size></label_size>
<label_align>start</label_align>
<label_font></label_font>
<labelPropertytext></labelPropertytext>
<label_bold>false</label_bold>
<label_italic>false</label_italic>
<justification>start</justification>
<not_null>false</not_null>
<type>java.lang.String</type>
<validate_message></validate_message>
<validate_message_user></validate_message_user>
<case_restriction></case_restriction>
<break_line>true</break_line>
<lovObject></lovObject>
<lowest_value></lowest_value>
<highest_value></highest_value>
<validate_value>false</validate_value>
<validate_type>false</validate_type>
<validate_group>false</validate_group>
<validate_email>false</validate_email>
<validate_not_null>false</validate_not_null>
<validate_minlength></validate_minlength>
<validate_maxlength></validate_maxlength>
<validate_regex></validate_regex>
<src></src>
<select_allowed>false</select_allowed>
<update_allowed>true</update_allowed>
<insert_allowed>true</insert_allowed>
<isCustomized>false</isCustomized>
<labelStyle></labelStyle>
<labelTitle></labelTitle>
<labelTitleKey></labelTitleKey>
<i18nLabelTitleKey></i18nLabelTitleKey>
<fieldGridSize></fieldGridSize>
<queryOperator></queryOperator>
<round_value></round_value>
<field_prefix></field_prefix>
<field_sufix></field_sufix>
<write>false</write>
<fieldSetProperty>
</fieldSetProperty>
</fieldSetProperty>
<value></value>
<codeItem></codeItem>
</fields_item>
<fields_item>
<class>com.egen.develop.generator.form.Hidden</class>
<name>pos</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Emula_faturas_proformas</block_name>
<role_item></role_item>
<database_column></database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs>tab0</tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<property>pos</property>
<label></label>
<label_pos></label_pos>
<label_bg_color></label_bg_color>
<label_fg_color></label_fg_color>
<label_size></label_size>
<label_align></label_align>
<label_font></label_font>
<labelPropertytext></labelPropertytext>
<label_bold>false</label_bold>
<label_italic>false</label_italic>
<justification></justification>
<not_null>false</not_null>
<type>int</type>
<validate_message></validate_message>
<validate_message_user></validate_message_user>
<case_restriction></case_restriction>
<break_line>true</break_line>
<lovObject></lovObject>
<lowest_value></lowest_value>
<highest_value></highest_value>
<validate_value>false</validate_value>
<validate_type>false</validate_type>
<validate_group>false</validate_group>
<validate_email>false</validate_email>
<validate_not_null>false</validate_not_null>
<validate_minlength></validate_minlength>
<validate_maxlength></validate_maxlength>
<validate_regex></validate_regex>
<src></src>
<select_allowed>true</select_allowed>
<update_allowed>true</update_allowed>
<insert_allowed>true</insert_allowed>
<isCustomized>false</isCustomized>
<labelStyle></labelStyle>
<labelTitle></labelTitle>
<labelTitleKey></labelTitleKey>
<i18nLabelTitleKey></i18nLabelTitleKey>
<fieldGridSize></fieldGridSize>
<queryOperator></queryOperator>
<round_value></round_value>
<field_prefix></field_prefix>
<field_sufix></field_sufix>
<write>false</write>
<fieldSetProperty>
</fieldSetProperty>
</fieldSetProperty>
<value></value>
<codeItem></codeItem>
</fields_item>
<fields_item>
<class>com.egen.develop.generator.form.Free</class>
<name>_ge_navigator</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Emula_faturas_proformas</block_name>
<role_item></role_item>
<database_column></database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs>tab0</tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left>0</left>
<top>0</top>
<z_index></z_index>
<property></property>
<label></label>
<label_pos></label_pos>
<label_bg_color></label_bg_color>
<label_fg_color></label_fg_color>
<label_size></label_size>
<label_align></label_align>
<label_font></label_font>
<labelPropertytext></labelPropertytext>
<label_bold>false</label_bold>
<label_italic>false</label_italic>
<justification></justification>
<not_null>false</not_null>
<type>java.lang.String</type>
<validate_message></validate_message>
<validate_message_user></validate_message_user>
<case_restriction></case_restriction>
<break_line>true</break_line>
<lovObject></lovObject>
<lowest_value></lowest_value>
<highest_value></highest_value>
<validate_value>false</validate_value>
<validate_type>false</validate_type>
<validate_group>false</validate_group>
<validate_email>false</validate_email>
<validate_not_null>false</validate_not_null>
<validate_minlength></validate_minlength>
<validate_maxlength></validate_maxlength>
<validate_regex></validate_regex>
<src></src>
<select_allowed>false</select_allowed>
<update_allowed>false</update_allowed>
<insert_allowed>false</insert_allowed>
<isCustomized>false</isCustomized>
<labelStyle></labelStyle>
<labelTitle></labelTitle>
<labelTitleKey></labelTitleKey>
<i18nLabelTitleKey></i18nLabelTitleKey>
<fieldGridSize></fieldGridSize>
<queryOperator></queryOperator>
<round_value></round_value>
<field_prefix></field_prefix>
<field_sufix></field_sufix>
<write>false</write>
<fieldSetProperty>
</fieldSetProperty>
</fieldSetProperty>
<template></template>
<codeItem><%
{
  %>
  <%
  java.util.Vector res_Emula_faturas_proformas = (java.util.Vector)session.getAttribute("res_Emula_faturas_proformas");
  %>
  <%
  String pos = "0";
  if (res_Emula_faturas_proformas!=null) {
    pos = "" + res_Emula_faturas_proformas.size();
  }
  %>
</table>
<table class="navigatorTable" style="width:99%;">
  <tr class="navigatorTr" >
    <td class="navigatorTd" >
      <img border="0" style="cursor:pointer" src="../img/first.gif" title="Primeiro" onclick="javascript:new_pos0('1');" />
       
      <img border="0" style="cursor:pointer" src="../img/prev.gif" title="Anterior" onclick="javascript:new_pos0(parseInt(document.forms[0].navigation_pos0.value)-1);" accesskey="," />
       
      <input type="text" name="navigation_pos0" size="5" class="navigatorInput" >
       
      <img border="0" style="cursor:pointer" src="../img/next.gif" title="Próximo"  onclick="javascript:new_pos0(parseInt(document.forms[0].navigation_pos0.value)+1);" accesskey="." />
       
      <img border="0" style="cursor:pointer" src="../img/last.gif" title="Último" onclick="javascript:new_pos0(document.forms[0].navigation_max0.value);">
       
      <bean:message key="jsp.navigator.register"/>
      :
      <input type="text" name="navigation_max0" value="<%= pos %>" size="5" class="navigatorInput" >
    </td>
  </tr>
  <script type="text/javascript">
    if (document.forms[0].pos.value!="") {
      document.forms[0].navigation_pos0.value= parseInt(document.forms[0].pos.value) + 1;
    }
    function new_pos0(POS) {
      if (POS>0 && POS<=document.forms[0].navigation_max0.value ) {
        if(document.forms[0].tem_alteracao.value=='s'){if(confirm('Existem alterações não salvas! Deseja continuar?')){}else{return false;};}
        document.forms[0].tem_alteracao.value='';
        document.forms[0].navigation_pos0.value=POS;
        document.forms[0].pos.value=parseInt(document.forms[0].navigation_pos0.value) - 1;
        document.forms[0].pos_action.click();
      } else {
        alert("<bean:message key="jsp.endregistries"/>");
      }
    }
  </script>
  <%}%>

</codeItem><script_free></script_free>
</fields_item>
</fields>
<buttons>
<buttons_item>
<class>com.egen.develop.generator.form.Submit</class>
<name>select_action</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Emula_faturas_proformas</block_name>
<role_item></role_item>
<database_column></database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n>ApplicationResources</i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left>200</left>
<top>100</top>
<z_index></z_index>
<value>jsp.select</value>
<accesskey>p</accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass></styleClass>
<styleId></styleId>
<tabindex></tabindex>
<bean_validate>false</bean_validate>
<src></src>
<isCustomized>true</isCustomized>
<codeItem><%
  portalbr.com.EntPedidosActionForm entped = (portalbr.com.EntPedidosActionForm)session.getAttribute("EntPedidosActionForm");
%>
  <html:submit accesskey="p" styleClass="baseButton" property="select_action"><bean:message bundle="ApplicationResources" key="jsp.select"/></html:submit>
</codeItem>
<buttonPosition></buttonPosition>
<select_clause></select_clause>
<where_clause></where_clause>
<order_by_clause></order_by_clause>
<group_by_clause></group_by_clause>
<having_clause></having_clause>
<button_db_object></button_db_object>
<triggers></triggers>
<template></template>
<action_code>public ActionForward perform_select_action(ActionMapping mapping, ActionForm form, HttpServletRequest request, HttpServletResponse response) {
  HttpSession session = request.getSession(true);
  ActionForward actionForward = null;
  com.egen.util.jdbc.JdbcUtil j = null;
  try {
    j = new com.egen.util.jdbc.JdbcUtil();
    EntPedidosActionForm f = (EntPedidosActionForm) form;
    try {
      select_action(j, mapping, form, request, response);
    }
    finally {
      org.apache.struts.config.ModuleConfig moduleConfig = mapping.getModuleConfig();
      ActionMapping detailMapping = (ActionMapping) moduleConfig.findActionConfig("/com/EntPedidosGrid");
      DynaActionForm detailActionForm = null;
      if (detailMapping != null) {
        org.apache.struts.config.FormBeanConfig config = moduleConfig.findFormBeanConfig(detailMapping.getName());
        if (config.getDynamic()) {
          DynaActionFormClass dynaClass = DynaActionFormClass.createDynaActionFormClass(config);
          detailActionForm = (DynaActionForm) dynaClass.newInstance();
          detailActionForm.initialize(mapping);
        }
      }
      if (detailActionForm != null) {
        EntPedidosActionForm[]_ge_grid_array = (EntPedidosActionForm[]) detailActionForm.get("bl_form_Emula_itens_faturas_proformas_lines");
        EntPedidosActionForm f0 = _ge_grid_array[0];
        f0.setNumero_pedido1(((EntPedidosActionForm) form).getNumero_pedido());
        perform_select1_action(detailMapping, detailActionForm, request, response);
        request.setAttribute(detailMapping.getName(), detailActionForm);
      }
    }
    actionForward = mapping.findForward("same");
  } catch (Exception e) {
    ActionErrors errors = new ActionErrors();
    errors.add("ActionErrors.GLOBAL_ERROR_bl_form_Emula_faturas_proformas", new ActionMessage("error.action.exception",com.egen.util.system.Error.getMessage(e)));
    request.setAttribute(org.apache.struts.Globals.ERROR_KEY, errors);
    session.setAttribute("exception", com.egen.util.system.Error.getDescription(e));
    actionForward = mapping.findForward("same");
  } finally {
    if (j != null) {
      j.close();
    }
  }
  return actionForward;
}
private void select_action(JdbcUtil j, ActionMapping mapping, ActionForm form, HttpServletRequest request, HttpServletResponse response) throws Exception {
  HttpSession session = request.getSession(true);
  EntPedidosActionForm f = (EntPedidosActionForm) form;
  util.consultas.Query query = new util.consultas.Query();
  session.removeAttribute("pedido_tem_erros");
//----- Se o usuário logado for EX, seta o codigo do usuário na WHERE ------
  acesso.Sessao se = new acesso.Sessao(session);
  String cliente = "";
  if(se.getTipoEntidadeNegocio().equals("CLIENTE MERCADO EXTERNO")){
     f.setCodigo_cliente(se.getChave());
  }
  Emula_faturas_proformas table = new Emula_faturas_proformas();
  String[][] select = null;
  String[] order = null;
  String[] groupby = null;
  String[] having = null;
  Object[][] where = {
                       {"numero_pedido","=", com.egen.util.text.FormatNumber.toInteger(f.getNumero_pedido())}, 
                       {"codigo_cliente","=", com.egen.util.text.FormatNumber.toInteger(f.getCodigo_cliente())}, 
                       {"estabelecimento_cliente","=", com.egen.util.text.FormatNumber.toInteger(f.getEstabelecimento_cliente())},
                       {"data_pedido","=", com.egen.util.text.FormatDate.parseDate(f.getData_pedido(), "dd/MM/yyyy")}, 
                       {"nome_planilha","like", f.getNome_planilha()},
                       {"status","=", f.getStatus()}
                     };
  Vector res_Emula_faturas_proformas = j.select(table, select, where, groupby, having, order);
  session.setAttribute("res_Emula_faturas_proformas",res_Emula_faturas_proformas);
  if (res_Emula_faturas_proformas != null && res_Emula_faturas_proformas.size() > 0) {
    Emula_faturas_proformas r = (Emula_faturas_proformas) res_Emula_faturas_proformas.elementAt(0);
    f.setNumero_pedido((r.getNumero_pedido() != null) ? r.getNumero_pedido() + "":"");
    f.setCodigo_cliente((r.getCodigo_cliente() != null) ? r.getCodigo_cliente() + "":"");
    f.setEstabelecimento_cliente((r.getEstabelecimento_cliente() != null) ? r.getEstabelecimento_cliente() + "":"");
    f.setData_pedido(com.egen.util.text.FormatDate.format(r.getData_pedido(), "dd/MM/yyyy"));
    f.setNome_planilha((r.getNome_planilha() != null) ? r.getNome_planilha() + "":"");
    f.setStatus((r.getStatus() != null) ? r.getStatus() + "":"");   
//---------------------------------------
    String tem_erros = "";
    tem_erros = query.retorna("SELECT 1 from emula_itens_faturas_proformas i WHERE numero_pedido = "+f.getNumero_pedido()+" AND descricao_erro is NOt NULL AND ROWNUM = 1");
    if(!tem_erros.equals("")){
       session.setAttribute("pedido_tem_erros","s");
    } 
//---------------------------------------
    session.setAttribute("status_pedido", f.getStatus());
//--------------------------------------------------------------------------
    session.removeAttribute("entrada_pedidos_codigo_cliente");
    session.removeAttribute("entrada_pedidos_estabelecimento_cliente");
    session.removeAttribute("entrada_pedidos_data_pedido");
    session.removeAttribute("entrada_pedidos_nome_planilha");
//---------------------------------------
    f.setPos("0");
    session.setAttribute("pos", "0");
  } else {
     throw new Exception("Nenhum pedido encontrado!");
  }
//--------------------------------------------------------------
    session.setAttribute("numero_pedido", f.getNumero_pedido());
    session.removeAttribute("itens_adicionados");
    acesso.Sessao sessao = new acesso.Sessao(session);
    query.execute("DELETE wbrio.tmp_generic_table_brportal WHERE varchar_column1 = '"+sessao.getUsuario()+"'");
//---------------------------------------
    String tem_item = query.retorna("SELECT 's' FROM emula_itens_faturas_proformas where numero_pedido = "+(String)session.getAttribute("numero_pedido")+" and rownum=1");
    if(!tem_item.equals("s")){
      query.execute("insert INTO emula_itens_faturas_proformas VALUES ("+(String)session.getAttribute("numero_pedido")+",1,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL)");
    }
//--------------------------------------------------------------
  session.setAttribute(mapping.getName(), form);
}
</action_code>
<property>select_action</property>
<forward>same</forward>
<forward_error>same</forward_error>
<baseButtonSetProperty>
</baseButtonSetProperty>
</baseButtonSetProperty>
</buttons_item>
<buttons_item>
<class>com.egen.develop.generator.form.Submit</class>
<name>insert_action</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Emula_faturas_proformas</block_name>
<role_item></role_item>
<database_column></database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n>ApplicationResources</i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left>260</left>
<top>100</top>
<z_index></z_index>
<value>jsp.insert</value>
<accesskey>i</accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass></styleClass>
<styleId></styleId>
<tabindex></tabindex>
<bean_validate>true</bean_validate>
<src></src>
<isCustomized>true</isCustomized>
<codeItem><%
  if((entped.getStatus()+"").equals("C") || (entped.getStatus()+"").equals("O")){
%>
  <html:submit accesskey="i" styleClass="myhidden" property="insert_action"><bean:message bundle="ApplicationResources" key="jsp.insert"/></html:submit>
<% } else { %>
  <html:submit accesskey="i" styleClass="baseButton" property="insert_action"><bean:message bundle="ApplicationResources" key="jsp.insert"/></html:submit>
<% } %>



</codeItem>
<buttonPosition></buttonPosition>
<select_clause></select_clause>
<where_clause></where_clause>
<order_by_clause></order_by_clause>
<group_by_clause></group_by_clause>
<having_clause></having_clause>
<button_db_object></button_db_object>
<triggers></triggers>
<template></template>
<action_code>public ActionForward perform_insert_action(ActionMapping mapping, ActionForm form, HttpServletRequest request, HttpServletResponse response) {
  HttpSession session = request.getSession(true);
  ActionForward actionForward = null;
  com.egen.util.jdbc.JdbcUtil j = null;
  try {
    j = new com.egen.util.jdbc.JdbcUtil();
    EntPedidosActionForm f = (EntPedidosActionForm) form;
    try {
      insert_action(j, mapping, form, request, response);
    }
    finally {
      org.apache.struts.config.ModuleConfig moduleConfig = mapping.getModuleConfig();
      ActionMapping detailMapping = (ActionMapping) moduleConfig.findActionConfig("/com/EntPedidosGrid");
      DynaActionForm detailActionForm = null;
      if (detailMapping != null) {
        org.apache.struts.config.FormBeanConfig config = moduleConfig.findFormBeanConfig(detailMapping.getName());
        if (config.getDynamic()) {
          DynaActionFormClass dynaClass = DynaActionFormClass.createDynaActionFormClass(config);
          detailActionForm = (DynaActionForm) dynaClass.newInstance();
          detailActionForm.initialize(mapping);
        }
      }
      if (detailActionForm != null) {
        EntPedidosActionForm[]_ge_grid_array = (EntPedidosActionForm[]) detailActionForm.get("bl_form_Emula_itens_faturas_proformas_lines");
        EntPedidosActionForm f0 = _ge_grid_array[0];
        f0.setNumero_pedido1(((EntPedidosActionForm) form).getNumero_pedido());
        perform_select1_action(detailMapping, detailActionForm, request, response);
        request.setAttribute(detailMapping.getName(), detailActionForm);
      }
    }
//    actionForward = mapping.findForward("same");
    actionForward = new ActionForward("/com/EntPedidosForm.do?select_action=&numero_pedido="+f.getNumero_pedido(), true);
  } catch (Exception e) {
    ActionErrors errors = new ActionErrors();
    errors.add("ActionErrors.GLOBAL_ERROR_bl_form_Emula_faturas_proformas", new ActionMessage("error.action.exception",com.egen.util.system.Error.getMessage(e)));
    request.setAttribute(org.apache.struts.Globals.ERROR_KEY, errors);
    session.setAttribute("exception", com.egen.util.system.Error.getDescription(e));
    actionForward = mapping.findForward("same");
  } finally {
    if (j != null) {
      j.close();
    }
  }
  return actionForward;
}

private void insert_action(JdbcUtil j, ActionMapping mapping, ActionForm form, HttpServletRequest request, HttpServletResponse response) throws Exception {
  HttpSession session = request.getSession(true);
  util.consultas.Query query = new util.consultas.Query();
  String numero_pedido = query.retorna(j, "SELECT nvl(max(numero_pedido)+1,1) FROM emula_faturas_proformas");
  EntPedidosActionForm f = (EntPedidosActionForm) form;
  Emula_faturas_proformas table = new Emula_faturas_proformas();
  table.setNumero_pedido(com.egen.util.text.FormatNumber.parseIntegerWrapper(numero_pedido));
  table.setCodigo_cliente(com.egen.util.text.FormatNumber.parseIntegerWrapper(f.getCodigo_cliente()));
  table.setEstabelecimento_cliente(com.egen.util.text.FormatNumber.parseIntegerWrapper(f.getEstabelecimento_cliente()));
  table.setData_pedido(com.egen.util.text.FormatDate.parseDate(f.getData_pedido(), "dd/MM/yyyy"));
  table.setNome_planilha(f.getNome_planilha());
  table.setStatus("O");
  session.setAttribute("status_pedido","O");
//---------------------------------------
  f.setNumero_pedido(numero_pedido);
//---------------------------------------
  j.insert(table);
  session.setAttribute("naovalidar","s");
//---------------------------------------
  query.execute("insert INTO emula_itens_faturas_proformas VALUES ("+numero_pedido+",1,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL)");
//---------------------------------------
  Vector res_Emula_faturas_proformas = (Vector) session.getAttribute("res_Emula_faturas_proformas");
  if (res_Emula_faturas_proformas != null && table != null) {
    res_Emula_faturas_proformas.addElement(table);
    session.setAttribute("res_Emula_faturas_proformas", res_Emula_faturas_proformas);
  }
}
</action_code>
<property>insert_action</property>
<forward>same</forward>
<forward_error>same</forward_error>
<baseButtonSetProperty>
</baseButtonSetProperty>
</baseButtonSetProperty>
</buttons_item>
<buttons_item>
<class>com.egen.develop.generator.form.Submit</class>
<name>update_action</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Emula_faturas_proformas</block_name>
<role_item></role_item>
<database_column></database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n>ApplicationResources</i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left>320</left>
<top>100</top>
<z_index></z_index>
<value>jsp.update</value>
<accesskey>a</accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass></styleClass>
<styleId></styleId>
<tabindex></tabindex>
<bean_validate>true</bean_validate>
<src></src>
<isCustomized>true</isCustomized>
<codeItem><%
  if((entped.getStatus()+"").equals("C")){
%>
  <html:submit accesskey="a" disabled="true" styleClass="myhidden" property="update_action"><bean:message bundle="ApplicationResources" key="jsp.update"/></html:submit>
<% } else if((entped.getStatus()+"").equals("O")){ %>
  <html:submit accesskey="a" styleClass="baseButton" property="update_action"><bean:message bundle="ApplicationResources" key="jsp.update"/></html:submit>
<% } %>
</codeItem>
<buttonPosition></buttonPosition>
<select_clause></select_clause>
<where_clause></where_clause>
<order_by_clause></order_by_clause>
<group_by_clause></group_by_clause>
<having_clause></having_clause>
<button_db_object></button_db_object>
<triggers></triggers>
<template></template>
<action_code>public ActionForward perform_update_action(ActionMapping mapping, ActionForm form, HttpServletRequest request, HttpServletResponse response) {
  HttpSession session = request.getSession(true);
  ActionForward actionForward = null;
  com.egen.util.jdbc.JdbcUtil j = null;
  try {
    j = new com.egen.util.jdbc.JdbcUtil();
    EntPedidosActionForm f = (EntPedidosActionForm) form;
    if(f.getStatus().equals("C")){
       throw new Exception(util.file.Bundle.getKey("ComercialResources","operacao_nao_permitida"));
    }
    try {
      update_action(j, mapping, form, request, response);
    }
    finally {
      org.apache.struts.config.ModuleConfig moduleConfig = mapping.getModuleConfig();
      ActionMapping detailMapping = (ActionMapping) moduleConfig.findActionConfig("/com/EntPedidosGrid");
      DynaActionForm detailActionForm = null;
      if (detailMapping != null) {
        org.apache.struts.config.FormBeanConfig config = moduleConfig.findFormBeanConfig(detailMapping.getName());
        if (config.getDynamic()) {
          DynaActionFormClass dynaClass = DynaActionFormClass.createDynaActionFormClass(config);
          detailActionForm = (DynaActionForm) dynaClass.newInstance();
          detailActionForm.initialize(mapping);
        }
      }
      if (detailActionForm != null) {
        EntPedidosActionForm[]_ge_grid_array = (EntPedidosActionForm[]) detailActionForm.get("bl_form_Emula_itens_faturas_proformas_lines");
        EntPedidosActionForm f0 = _ge_grid_array[0];
        f0.setNumero_pedido1(((EntPedidosActionForm) form).getNumero_pedido());
        perform_select1_action(detailMapping, detailActionForm, request, response);
        request.setAttribute(detailMapping.getName(), detailActionForm);
      }
    }
    actionForward = new ActionForward("/com/EntPedidosForm.do?select_action=&numero_pedido="+(String)session.getAttribute("numero_pedido"),true);
  } catch (Exception e) {
    ActionErrors errors = new ActionErrors();
    errors.add("ActionErrors.GLOBAL_ERROR_bl_form_Emula_faturas_proformas", new ActionMessage("error.action.exception",com.egen.util.system.Error.getMessage(e)));
    request.setAttribute(org.apache.struts.Globals.ERROR_KEY, errors);
    session.setAttribute("exception", com.egen.util.system.Error.getDescription(e));
    actionForward = mapping.findForward("same");
  } finally {
    if (j != null) {
      j.close();
    }
  }
  return actionForward;
}
private void update_action(JdbcUtil j, ActionMapping mapping, ActionForm form, HttpServletRequest request, HttpServletResponse response) throws Exception {
  HttpSession session = request.getSession(true);
  EntPedidosActionForm f = (EntPedidosActionForm) form;
  Emula_faturas_proformas table = new Emula_faturas_proformas();
  Vector sets = new Vector(10, 2);
  table.setNumero_pedido(com.egen.util.text.FormatNumber.parseIntegerWrapper(f.getNumero_pedido()));
  if (f.getNumero_pedido() != null) {
    sets.addElement("numero_pedido");
  }
  table.setCodigo_cliente(com.egen.util.text.FormatNumber.parseIntegerWrapper(f.getCodigo_cliente()));
  if (f.getCodigo_cliente() != null) {
    sets.addElement("codigo_cliente");
  }
  table.setEstabelecimento_cliente(com.egen.util.text.FormatNumber.parseIntegerWrapper(f.getEstabelecimento_cliente()));
  if (f.getEstabelecimento_cliente() != null) {
    sets.addElement("estabelecimento_cliente");
  }
  table.setData_pedido(com.egen.util.text.FormatDate.parseDate(f.getData_pedido(), "dd/MM/yyyy"));
  if (f.getData_pedido() != null) {
    sets.addElement("data_pedido");
  }
  table.setNome_planilha(f.getNome_planilha());
  if (f.getNome_planilha() != null) {
    sets.addElement("nome_planilha");
  }
/*  table.setStatus(f.getStatus());
  if (f.getStatus() != null) {
    sets.addElement("status");
  }
*/
  if (sets != null && sets.size() > 0) {
    String[] set = new String[sets.size()];
    for (int i = 0; i < sets.size(); i++) {
      set[i] = (String) sets.elementAt(i);
    }
    int updated = j.update(table, set);
    String _pos_field_name = "pos";
    String _lines_name = "bl_form_Emula_faturas_proformas_lines";
    String action = null;
    int _ge_pos = com.egen.util.struts.AbstractActionHelper.getDynamicPosition(action, _pos_field_name, _lines_name, f, request);
    if (updated == 0) {
      ActionErrors errors = new ActionErrors();
      errors.add("ActionErrors.GLOBAL_ERROR_bl_form_Emula_faturas_proformas", new ActionMessage("warn.norowsupdated",": " + updated));
      request.setAttribute(org.apache.struts.Globals.ERROR_KEY, errors);
    } else {
      Vector res_Emula_faturas_proformas = (Vector) session.getAttribute("res_Emula_faturas_proformas");
      if (res_Emula_faturas_proformas != null) {
        res_Emula_faturas_proformas.setElementAt(table, _ge_pos);
        Emula_faturas_proformas r = (Emula_faturas_proformas) res_Emula_faturas_proformas.elementAt(_ge_pos);
        f.setNumero_pedido((r.getNumero_pedido() != null) ? r.getNumero_pedido() + "":"");
        f.setCodigo_cliente((r.getCodigo_cliente() != null) ? r.getCodigo_cliente() + "":"");
        f.setEstabelecimento_cliente((r.getEstabelecimento_cliente() != null) ? r.getEstabelecimento_cliente() + "":"");
        f.setData_pedido(com.egen.util.text.FormatDate.format(r.getData_pedido(), "dd/MM/yyyy"));
        f.setNome_planilha((r.getNome_planilha() != null) ? r.getNome_planilha() + "":"");
        f.setStatus((r.getStatus() != null) ? r.getStatus() + "":"");
      }
    }
  }
  session.setAttribute(mapping.getName(), form);
}

</action_code>
<property>update_action</property>
<forward>same</forward>
<forward_error>same</forward_error>
<baseButtonSetProperty>
</baseButtonSetProperty>
</baseButtonSetProperty>
</buttons_item>
<buttons_item>
<class>com.egen.develop.generator.form.Submit</class>
<name>delete_action</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Emula_faturas_proformas</block_name>
<role_item></role_item>
<database_column></database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n>ApplicationResources</i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left>380</left>
<top>100</top>
<z_index></z_index>
<value>jsp.delete</value>
<accesskey>a</accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick>return confirmSubmit('');</onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass></styleClass>
<styleId></styleId>
<tabindex></tabindex>
<bean_validate>true</bean_validate>
<src></src>
<isCustomized>true</isCustomized>
<codeItem><%
  //portalbr.com.EntPedidosActionForm entped = (portalbr.com.EntPedidosActionForm)session.getAttribute("EntPedidosActionForm");
  if((entped.getStatus()+"").equals("C")){
%>
  <html:submit accesskey="a" styleClass="myhidden" property="delete_action"><bean:message bundle="ApplicationResources" key="jsp.delete"/></html:submit>
<% } else if((entped.getStatus()+"").equals("O")){ %>
  <html:submit accesskey="a" onclick="return confirmSubmit('');" styleClass="baseButton" property="delete_action"><bean:message bundle="ApplicationResources" key="jsp.delete"/></html:submit>
<% } %>
</codeItem>
<buttonPosition></buttonPosition>
<select_clause></select_clause>
<where_clause></where_clause>
<order_by_clause></order_by_clause>
<group_by_clause></group_by_clause>
<having_clause></having_clause>
<button_db_object></button_db_object>
<triggers></triggers>
<template></template>
<action_code>public ActionForward perform_delete_action(ActionMapping mapping, ActionForm form, HttpServletRequest request, HttpServletResponse response) {
  HttpSession session = request.getSession(true);
  ActionForward actionForward = null;
  com.egen.util.jdbc.JdbcUtil j = null;
  try {
    j = new com.egen.util.jdbc.JdbcUtil();
    EntPedidosActionForm f = (EntPedidosActionForm) form;
    if(!(f.getStatus()+"").equals("O")){
       throw new Exception(util.file.Bundle.getKey("ComercialResources","operacao_nao_permitida"));
    }
//---------------------------
    util.consultas.Query query = new util.consultas.Query();
    query.execute(j, "DELETE emula_grades_itens_proformas WHERE numero_pedido = "+f.getNumero_pedido());
    query.execute(j, "DELETE emula_itens_faturas_proformas WHERE numero_pedido = "+f.getNumero_pedido());
    query.execute(j, "DELETE  emula_faturas_proformas WHERE numero_pedido = "+f.getNumero_pedido());
//-----------------------------------------------------
//  util.mensagem.Aviso.mostra(session, "Aviso", util.file.Bundle.getKey("ComercialResources","pedido_excluido"), "numero_pedido");
//-----------------------------------------------------
    actionForward = new ActionForward("/com/EntPedidosForm.do?resetfull_action=",true);
  } catch (Exception e) {
    ActionErrors errors = new ActionErrors();
    errors.add("ActionErrors.GLOBAL_ERROR_bl_form_Emula_faturas_proformas", new ActionMessage("error.action.exception",com.egen.util.system.Error.getMessage(e)));
    request.setAttribute(org.apache.struts.Globals.ERROR_KEY, errors);
    session.setAttribute("exception", com.egen.util.system.Error.getDescription(e));
    actionForward = mapping.findForward("same");
  } finally {
    if (j != null) {
      j.close();
    }
  }
  return actionForward;
}</action_code>
<property>delete_action</property>
<forward>same</forward>
<forward_error>same</forward_error>
<baseButtonSetProperty>
</baseButtonSetProperty>
</baseButtonSetProperty>
</buttons_item>
<buttons_item>
<class>com.egen.develop.generator.form.Submit</class>
<name>resetfull_action</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Emula_faturas_proformas</block_name>
<role_item></role_item>
<database_column></database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n>ApplicationResources</i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left>440</left>
<top>100</top>
<z_index></z_index>
<value>jsp.reset</value>
<accesskey>l</accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass></styleClass>
<styleId></styleId>
<tabindex></tabindex>
<bean_validate>false</bean_validate>
<src></src>
<isCustomized>false</isCustomized>
<codeItem></codeItem>
<buttonPosition></buttonPosition>
<select_clause></select_clause>
<where_clause></where_clause>
<order_by_clause></order_by_clause>
<group_by_clause></group_by_clause>
<having_clause></having_clause>
<button_db_object></button_db_object>
<triggers></triggers>
<template></template>
<action_code>public ActionForward perform_resetfull_action(ActionMapping mapping, ActionForm form, HttpServletRequest request, HttpServletResponse response) {
  HttpSession session = request.getSession(true);
  ActionForward actionForward = null;
  try {
    EntPedidosActionForm f = (EntPedidosActionForm) form;
    session.removeAttribute("res_Emula_faturas_proformas");
    session.removeAttribute("numero_pedido");
    form.reset(mapping, request);
    session.setAttribute(mapping.getName(), form);
    session.setAttribute("pos","0");
    org.apache.struts.config.ModuleConfig moduleConfig = mapping.getModuleConfig();
    ActionMapping detailMapping = (ActionMapping) moduleConfig.findActionConfig("/com/EntPedidosGrid");
    DynaActionForm detailActionForm = null;
    if (detailMapping != null) {
      org.apache.struts.config.FormBeanConfig config = moduleConfig.findFormBeanConfig(detailMapping.getName());
      if (config.getDynamic()) {
        DynaActionFormClass dynaClass = DynaActionFormClass.createDynaActionFormClass(config);
        detailActionForm = (DynaActionForm) dynaClass.newInstance();
        detailActionForm.initialize(mapping);
      }
    }
    if (detailActionForm != null) {
      detailActionForm.reset(detailMapping, request);
      request.setAttribute(detailMapping.getName(), detailActionForm);
      session.setAttribute(detailMapping.getName(), detailActionForm);
    }
//    actionForward = mapping.findForward("same");

    session.removeAttribute("entrada_pedidos_codigo_cliente");
    session.removeAttribute("entrada_pedidos_cli_rzao");
    session.removeAttribute("entrada_pedidos_data_pedido");
    session.removeAttribute("entrada_pedidos_nome_planilha");
    session.setAttribute("total_pares", "0");

    actionForward = new ActionForward("/com/EntPedidosGrid.do?resetfull1_action=",true);
  } catch (Exception e) {
    ActionErrors errors = new ActionErrors();
    errors.add("ActionErrors.GLOBAL_ERROR_bl_form_Emula_faturas_proformas", new ActionMessage("error.action.exception",com.egen.util.system.Error.getMessage(e)));
    request.setAttribute(org.apache.struts.Globals.ERROR_KEY, errors);
    session.setAttribute("exception", com.egen.util.system.Error.getDescription(e));
    actionForward = mapping.findForward("same");
  }
  return actionForward;
}

</action_code>
<property>resetfull_action</property>
<forward>same</forward>
<forward_error>same</forward_error>
<baseButtonSetProperty>
</baseButtonSetProperty>
</baseButtonSetProperty>
</buttons_item>
<buttons_item>
<class>com.egen.develop.generator.form.Submit</class>
<name>pos_action</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Emula_faturas_proformas</block_name>
<role_item></role_item>
<database_column></database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<value>Pos</value>
<accesskey></accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass>myhidden</styleClass>
<styleId></styleId>
<tabindex></tabindex>
<bean_validate>false</bean_validate>
<src></src>
<isCustomized>false</isCustomized>
<codeItem></codeItem>
<buttonPosition></buttonPosition>
<select_clause></select_clause>
<where_clause></where_clause>
<order_by_clause></order_by_clause>
<group_by_clause></group_by_clause>
<having_clause></having_clause>
<button_db_object></button_db_object>
<triggers></triggers>
<template></template>
<action_code>public ActionForward perform_pos_action(ActionMapping mapping, ActionForm form, HttpServletRequest request, HttpServletResponse response) {
  HttpSession session = request.getSession(true);
  ActionForward actionForward = null;
  try {
    try {
      String _pos_field_name = "pos";
      String _lines_name = "bl_form_Emula_faturas_proformas_lines";
      String action = null;
      int pos = com.egen.util.struts.AbstractActionHelper.getDynamicPosition(action, _pos_field_name, _lines_name, form, request);
      pos_action(pos, mapping, form, request, response);
    }
    finally {
      com.egen.util.jdbc.JdbcUtil j = null;
      try {
        j = new com.egen.util.jdbc.JdbcUtil();
        org.apache.struts.config.ModuleConfig moduleConfig = mapping.getModuleConfig();
        ActionMapping detailMapping = (ActionMapping) moduleConfig.findActionConfig("/com/EntPedidosGrid");
        DynaActionForm detailActionForm = null;
        if (detailMapping != null) {
          org.apache.struts.config.FormBeanConfig config = moduleConfig.findFormBeanConfig(detailMapping.getName());
          if (config.getDynamic()) {
            DynaActionFormClass dynaClass = DynaActionFormClass.createDynaActionFormClass(config);
            detailActionForm = (DynaActionForm) dynaClass.newInstance();
            detailActionForm.initialize(mapping);
          }
        }
        if (detailActionForm != null) {
          EntPedidosActionForm[]_ge_grid_array = (EntPedidosActionForm[]) detailActionForm.get("bl_form_Emula_itens_faturas_proformas_lines");
          EntPedidosActionForm f0 = _ge_grid_array[0];
          f0.setNumero_pedido1(((EntPedidosActionForm) form).getNumero_pedido());
          perform_select1_action(detailMapping, detailActionForm, request, response);
          request.setAttribute(detailMapping.getName(), detailActionForm);
        }
      }
      finally {
        if (j != null) {
          j.close();
        }
      }
    }
    actionForward = mapping.findForward("same");
  } catch (Exception e) {
    ActionErrors errors = new ActionErrors();
    errors.add("ActionErrors.GLOBAL_ERROR_bl_form_Emula_faturas_proformas", new ActionMessage("error.action.exception",com.egen.util.system.Error.getMessage(e)));
    request.setAttribute(org.apache.struts.Globals.ERROR_KEY, errors);
    session.setAttribute("exception", com.egen.util.system.Error.getDescription(e));
    actionForward = mapping.findForward("same");
  }
  return actionForward;
} private void pos_action(int _ge_pos, ActionMapping mapping, ActionForm form, HttpServletRequest request, HttpServletResponse response) throws Exception {
  HttpSession session = request.getSession(true);
  EntPedidosActionForm f = (EntPedidosActionForm) form;
  Vector res_Emula_faturas_proformas = (Vector) session.getAttribute("res_Emula_faturas_proformas");
  if (res_Emula_faturas_proformas != null && _ge_pos < res_Emula_faturas_proformas.size()) {
    Emula_faturas_proformas r = (Emula_faturas_proformas) res_Emula_faturas_proformas.elementAt(_ge_pos);
    f.setNumero_pedido((r.getNumero_pedido() != null) ? r.getNumero_pedido() + "":"");
    f.setCodigo_cliente((r.getCodigo_cliente() != null) ? r.getCodigo_cliente() + "":"");
    f.setEstabelecimento_cliente((r.getEstabelecimento_cliente() != null) ? r.getEstabelecimento_cliente() + "":"");
    f.setData_pedido(com.egen.util.text.FormatDate.format(r.getData_pedido(), "dd/MM/yyyy"));
    f.setNome_planilha((r.getNome_planilha() != null) ? r.getNome_planilha() + "":"");
    f.setStatus((r.getStatus() != null) ? r.getStatus() + "":"");   
    f.setPos("" + _ge_pos);
//---------------------------------------
    session.setAttribute("status_pedido", f.getStatus());
//--------------------------------------------------------------
    session.setAttribute("numero_pedido", f.getNumero_pedido());
    session.removeAttribute("itens_adicionados");
    acesso.Sessao sessao = new acesso.Sessao(session);
    util.consultas.Query query = new util.consultas.Query();
    query.execute("DELETE wbrio.tmp_generic_table_brportal WHERE varchar_column1 = '"+sessao.getUsuario()+"' and varchar_column2 = '"+f.getNumero_pedido()+"'");
//---------------------------
  } else {
    f.reset(mapping, request);
  }
  session.setAttribute("pos", "" + _ge_pos);
  session.setAttribute(mapping.getName(), form);
}
</action_code>
<property>pos_action</property>
<forward>same</forward>
<forward_error></forward_error>
<baseButtonSetProperty>
</baseButtonSetProperty>
</baseButtonSetProperty>
</buttons_item>
<buttons_item>
<class>com.egen.develop.generator.form.Submit</class>
<name>finalizar_action</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Emula_faturas_proformas</block_name>
<role_item></role_item>
<database_column></database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left>200</left>
<top>100</top>
<z_index></z_index>
<value>Finalizar Pedido</value>
<accesskey></accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick>return confirmSubmit('');</onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass></styleClass>
<styleId></styleId>
<tabindex></tabindex>
<bean_validate>false</bean_validate>
<src></src>
<isCustomized>true</isCustomized>
<codeItem><%
 if((entped.getStatus()+"").equals("O")){ 
%>
  <html:submit value="Finalizar Pedido" onclick="if(document.forms[0].tem_alteracao.value=='s'){if(confirm('Existem alterações de item(s) não salvas! Deseja continuar?')){return true;}else{return false;};}return confirmSubmit('');" styleClass="baseButton" property="finalizar_action"></html:submit>
<% } else { %>
  <html:submit value="Finalizar Pedido" onclick="if(document.forms[0].tem_alteracao.value=='s'){if(confirm('Existem alterações de item(s) não salvas! Deseja continuar?')){return true;}else{return false;};}return confirmSubmit('');" styleClass="myhidden" property="finalizar_action"></html:submit>
<% } %></codeItem>
<buttonPosition></buttonPosition>
<select_clause></select_clause>
<where_clause></where_clause>
<order_by_clause></order_by_clause>
<group_by_clause></group_by_clause>
<having_clause></having_clause>
<button_db_object></button_db_object>
<triggers></triggers>
<template></template>
<action_code>public ActionForward perform_finalizar_action(ActionMapping mapping, ActionForm form, HttpServletRequest request, HttpServletResponse response) {
  HttpSession session = request.getSession(true);
  ActionForward actionForward = null;
  com.egen.util.jdbc.JdbcUtil j = null;
  String numero_pedido = "";
  try {
    j = new com.egen.util.jdbc.JdbcUtil();
    numero_pedido  = (String)session.getAttribute("numero_pedido");
    StringBuilder sb = new StringBuilder();
    sb.append(" SELECT 's' ");
    sb.append("   FROM (SELECT SUM(NVL(g.quantidade_pares, 0)) pares ");
    sb.append("           FROM emula_itens_faturas_proformas i ");
    sb.append("               ,emula_grades_itens_proformas g ");
    sb.append("               ,emula_faturas_proformas f ");
    sb.append("          WHERE i.numero_pedido = g.numero_pedido(+) ");
    sb.append("            AND i.numero_item = g.numero_item(+) ");
    sb.append("            AND f.numero_pedido = i.numero_pedido ");
    sb.append("            AND i.numero_pedido = "+ numero_pedido );
    sb.append("          GROUP BY i.numero_pedido ");
    sb.append("                  ,i.numero_item) ");
    sb.append("  WHERE pares = 0 ");
    sb.append("    AND ROWNUM = 1 ");

    String sem_grade = "";
    util.consultas.Query query = new util.consultas.Query();
    sem_grade = query.retorna(sb.toString());
    session.removeAttribute("semgrade");
    if(sem_grade.equals("s")){
       session.setAttribute("semgrade","s");
       throw new Exception("sem grade");
    }

    EntPedidosActionForm f = (EntPedidosActionForm) form;
    if(!(f.getStatus()+"").equals("O")){
       throw new Exception(util.file.Bundle.getKey("ComercialResources","EntPedidosForm.operacao_nao_permitida"));
    }
    String tem_itens = "";
    tem_itens = query.retorna("SELECT 's' FROM emula_itens_faturas_proformas WHERE numero_pedido = "+numero_pedido+" and codigo_linha is not null AND ROWNUM = 1 ");
    if(!tem_itens.equals("s")){
       throw new Exception(util.file.Bundle.getKey("ComercialResources","EntPedidosForm.pedido_sem_item"));
    }
    if(session.getAttribute("item_invalido")!=null){
       util.mensagem.Aviso.mostra(session, "Aviso", util.file.Bundle.getKey("ComercialResources","EntPedidosForm.informacoes_obrigatorias").replace("x",(String)session.getAttribute("item_invalido")));
       session.setAttribute("registro_erro", (String)session.getAttribute("posicao_item_invalido"));
       actionForward = mapping.findForward("same");
    } else {
        query.execute(j, "UPDATE emula_faturas_proformas SET status = 'C' WHERE numero_pedido = "+numero_pedido);
        query.execute(j, "DELETE emula_itens_faturas_proformas WHERE numero_pedido = "+numero_pedido+" AND codigo_linha is NULL AND codigo_referencia IS NULL AND codigo_cabedal is NULL AND codigo_cor IS NULL AND codigo_grade is NULL AND quantidade_pares is NULL AND preco_unitario IS NULL AND descricao_item is NULL AND descricao_erro IS NULL AND loja_cliente is NULL");
        util.mensagem.Aviso.mostra(session, "Aviso", util.file.Bundle.getKey("ComercialResources","EntPedidosForm.pedido_finalizado"), "numero_pedido");
        Prc_envia_email_emula_faturas r = new Prc_envia_email_emula_faturas();
        r.setP_numero_pedido((String)session.getAttribute("numero_pedido"));
        r = (Prc_envia_email_emula_faturas) j.execute(r);
        actionForward = new ActionForward("/com/EntPedidosForm.do?select_action=&numero_pedido="+numero_pedido,true);
    }
//------------------------------------
  } catch (Exception e) {
    ActionErrors errors = new ActionErrors();
    errors.add("ActionErrors.GLOBAL_ERROR_bl_form_Emula_faturas_proformas", new ActionMessage("error.action.exception",com.egen.util.system.Error.getMessage(e)));
    request.setAttribute(org.apache.struts.Globals.ERROR_KEY, errors);
    session.setAttribute("exception", com.egen.util.system.Error.getDescription(e));

    if(session.getAttribute("semgrade")!=null){
        actionForward = new ActionForward("/com/EntPedidosForm.do?select_action=&numero_pedido="+numero_pedido,true);
    } else {
       actionForward = mapping.findForward("same");
    }
  } finally {
    if (j != null) {
      j.close();
    }
  }
  return actionForward;
}</action_code>
<property>finalizar_action</property>
<forward>same</forward>
<forward_error>same</forward_error>
<baseButtonSetProperty>
</baseButtonSetProperty>
</baseButtonSetProperty>
</buttons_item>
<buttons_item>
<class>com.egen.develop.generator.form.Submit</class>
<name>sessao_action</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Emula_faturas_proformas</block_name>
<role_item></role_item>
<database_column></database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left>200</left>
<top>100</top>
<z_index></z_index>
<value>sessao</value>
<accesskey></accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass></styleClass>
<styleId></styleId>
<tabindex></tabindex>
<bean_validate>false</bean_validate>
<src></src>
<isCustomized>false</isCustomized>
<codeItem></codeItem>
<buttonPosition></buttonPosition>
<select_clause></select_clause>
<where_clause></where_clause>
<order_by_clause></order_by_clause>
<group_by_clause></group_by_clause>
<having_clause></having_clause>
<button_db_object></button_db_object>
<triggers></triggers>
<template></template>
<action_code>public ActionForward perform_sessao_action(ActionMapping mapping, ActionForm form, HttpServletRequest request, HttpServletResponse response) {
  HttpSession session = request.getSession(true);
  ActionForward actionForward = null;
  try {
    EntPedidosActionForm f = (EntPedidosActionForm) form;

    session.setAttribute("entrada_pedidos_codigo_cliente",f.getCodigo_cliente());
    session.setAttribute("entrada_pedidos_cli_rzao",f.getCli_rzao());
    session.setAttribute("entrada_pedidos_data_pedido",f.getData_pedido());
    session.setAttribute("entrada_pedidos_nome_planilha",f.getNome_planilha());
  
    actionForward = mapping.findForward("same");
  } catch (Exception e) {
    ActionErrors errors = new ActionErrors();
    errors.add("ActionErrors.GLOBAL_ERROR_bl_form_Emula_faturas_proformas", new ActionMessage("error.action.exception",com.egen.util.system.Error.getMessage(e)));
    request.setAttribute(org.apache.struts.Globals.ERROR_KEY, errors);
    session.setAttribute("exception", com.egen.util.system.Error.getDescription(e));
    actionForward = mapping.findForward("same");
  } finally {
  }
  return actionForward;
}
</action_code>
<property>sessao_action</property>
<forward>same</forward>
<forward_error>same</forward_error>
<baseButtonSetProperty>
</baseButtonSetProperty>
</baseButtonSetProperty>
</buttons_item>
</buttons>
<formTemplate></formTemplate>
<form_code>	<link type="text/css" href="../css/jquery-ui-1.7.1.custom.css" rel="Stylesheet" />	
	<script type="text/javascript" src="../script/jquery-ui-1.7.1.custom.min.js"></script>

	<style type="text/css">	
		.fg-button { outline: 0; margin:0 4px 0 0; padding: .4em 1em; text-decoration:none !important; cursor:pointer; position: relative; text-align: center; zoom: 1; }
		.fg-button .ui-icon { position: absolute; top: 50%; margin-top: -8px; left: 50%; margin-left: -8px; }

		a.fg-button { float:left; }
		/* remove extra button width in IE */
		button.fg-button { width:auto; overflow:visible; }
	
		.fg-button-icon-left { padding-left: 2.1em; }
		.fg-button-icon-right { padding-right: 2.1em; }
		.fg-button-icon-left .ui-icon { right: auto; left: .2em; margin-left: 0; }
		.fg-button-icon-right .ui-icon { left: auto; right: .2em; margin-left: 0; }
	
		.fg-button-icon-solo { display:block; width:8px; text-indent: -9999px; }	 /* solo icon buttons must have block properties for the text-indent to work */	
		
		.fg-buttonset { float:left; }
		.fg-buttonset .fg-button { float: left; }
		.fg-buttonset-single .fg-button, 
		.fg-buttonset-multi .fg-button { margin-right: -1px;}
	
		.fg-toolbar { padding: .5em; margin: 0;  }
		.fg-toolbar .fg-buttonset { margin-right:1.5em; padding-left: 1px; }
		.fg-toolbar .fg-button { font-size: 1em;  }
 
		/*demo page css*/
		h2 { clear: both; padding-top:1.5em; margin-top:0; } 
		.strike { text-decoration: line-through; }
	</style>	


<script type="text/javascript"> 
	jQuery(function(){
		//all hover and click logic for buttons
		jQuery(".fg-button:not(.ui-state-disabled)")
		.hover(
			function(){ 
				jQuery(this).addClass("ui-state-hover"); 
			},
			function(){ 
				jQuery(this).removeClass("ui-state-hover"); 
			}
		)
		.mousedown(function(){
				jQuery(this).parents('.fg-buttonset-single:first').find(".fg-button.ui-state-active").removeClass("ui-state-active");
				if( jQuery(this).is('.ui-state-active.fg-button-toggleable, .fg-buttonset-multi .ui-state-active') ){ $(this).removeClass("ui-state-active"); }
				else { jQuery(this).addClass("ui-state-active"); }	
		})
		.mouseup(function(){
			if(! jQuery(this).is('.fg-button-toggleable, .fg-buttonset-single .fg-button,  .fg-buttonset-multi .fg-button') ){
				jQuery(this).removeClass("ui-state-active");
			}
		});
	});
</script>

<html:form action="com/EntPedidosForm.do" method="post" styleClass="baseForm">
  <table class="messageTable" style='width:99%;'>
    <tr class="messageTr" >
      <td class="messageTd">
        <bean:message key="div.campos*"/>
        <html:errors property="numero_pedido"/>
        <html:errors property="codigo_cliente"/>
        <html:errors property="cli_rzao"/>
        <html:errors property="data_pedido"/>
        <html:errors property="nome_planilha"/>
        <html:errors property="status"/>
        <html:errors property="ActionErrors.GLOBAL_ERROR_bl_form_Emula_faturas_proformas"/>
      </td>
    </tr>
  </table>

  <table class="itemTable"  style="width:99%;">
    <%
    acesso.Sessao se = new acesso.Sessao(session);
    String cliente = "";
    if(se.getTipoEntidadeNegocio().equals("CLIENTE MERCADO EXTERNO")){
      cliente = se.getChave();
    }
    %>
    <tr class="itemTr">
      <td class="formLabel">
        <span class="spamFormLabel">
          <bean:message bundle="ComercialResources" key="EntPedidosForm.numero_pedido"/>
        </span>
      </td>
      <td class="formField">
        <html:text property="numero_pedido" styleId="numero_pedido" styleClass="baseField" size="6" maxlength="6"/>

       <span class="spamFormLabel">
          <bean:message bundle="ComercialResources" key="EntPedidosForm.status"/>
        </span>
        <html:select property="status" tabindex="-1" styleClass="baseField" size="1">
          <html:option styleClass="baseOption" value="">
            <bean:message bundle="ComercialResources" key="EntPedidosForm.all"/>
          </html:option>
          <html:option styleClass="baseOption" value="O">
            <bean:message bundle="ComercialResources" key="EntPedidosForm.open"/>
          </html:option>
          <html:option styleClass="baseOption" value="C">
            <bean:message bundle="ComercialResources" key="EntPedidosForm.completed"/>
          </html:option>
        </html:select>

      </td>
    </tr>

    <tr class="itemTr">
      <td class="formLabel">
        <span class="spamFormLabel">
          <bean:message bundle="ComercialResources" key="EntPedidosForm.codigo_cliente"/>
        </span>
        <bean:message key="jsp.fieldnotnull"/>
      </td>
      <td class="formField">

        <%
        if(cliente.equals("")){
          %>
          <% if(session.getAttribute("entrada_pedidos_codigo_cliente")!=null){ %>
             <html:text property="codigo_cliente" value="<%= (String)session.getAttribute("entrada_pedidos_codigo_cliente") %>" styleId="codigo_cliente" onblur="jQuery.post('EntPedidosForm.do?sessao_action=&numero_pedido='+document.forms[0].numero_pedido.value+'&data_pedido='+document.forms[0].data_pedido.value+'&nome_planilha='+document.forms[0].nome_planilha.value);if(this.value!=''){fillFields(0,new Array('codigo_cliente'),'EntPedidosActionForm.getCli_rzao_Ajax',new Array('cli_rzao'));}else{cli_rzao.value='';}" styleClass="baseField" size="5" maxlength="5"/>
          <% } else { %>
             <html:text property="codigo_cliente" styleId="codigo_cliente" onblur="if(this.value!=''){jQuery.post('EntPedidosForm.do?sessao_action=&numero_pedido='+document.forms[0].numero_pedido.value+'&data_pedido='+document.forms[0].data_pedido.value+'&nome_planilha='+document.forms[0].nome_planilha.value);fillFields(0,new Array('codigo_cliente'),'EntPedidosActionForm.getCli_rzao_Ajax',new Array('cli_rzao'));}else{cli_rzao.value='';}" styleClass="baseField" size="5" maxlength="5"/>
          <% } %>
          <input type="button" tabindex="-1" value="..." onclick="javascript:lov_open_codigo_cliente()"  >
          <%
        } else {
          %>
          <html:text property="codigo_cliente" value="<%= cliente %>" styleId="codigo_cliente" styleClass="disabled" tabindex="-1" readonly="true" size="5" maxlength="5"/>
          <input type="button" class="lovButton" tabindex="-1" value="..." disabled="true"  >
          <script>
            fillFields(0,new Array('codigo_cliente'),'EntPedidosActionForm.getCli_rzao_Ajax',new Array('cli_rzao'));
          </script>
          <%
        }
        %>
        <script type="text/javascript">
          function lov_open_codigo_cliente() {
            window.open('..//lov/LvClienteLov.do?resetfull_action=&returnBlock=0&return0=codigo_cliente&return1=cli_rzao','','scrollbars=yes,height=510,width=600,top=0,left=0,');
          }
        </script>
        <span class="spamFormLabel">
        </span>

        <% if(session.getAttribute("entrada_pedidos_cli_rzao")!=null){ %>
          <html:text property="cli_rzao" styleId="cli_rzao" value="<%= (String)session.getAttribute("entrada_pedidos_cli_rzao") %>"  styleClass="disabled" tabindex="-1" readonly="true" size="50" maxlength="50"/>
        <% } else { %>
          <html:text property="cli_rzao" styleId="cli_rzao" styleClass="disabled" tabindex="-1" readonly="true" size="50" maxlength="50"/>
        <% } %>

      </td>
    </tr>

    <html:hidden property="estabelecimento_cliente" value="1"/>

    <tr class="itemTr">
      <td class="formLabel">
        <span class="spamFormLabel">
          <bean:message bundle="ComercialResources" key="EntPedidosForm.data_pedido"/>
        </span>
        <bean:message key="jsp.fieldnotnull"/>
      </td>
      <td class="formField">

        <% if(session.getAttribute("entrada_pedidos_data_pedido")!=null){ %>
          <html:text property="data_pedido" onblur="jQuery.post('EntPedidosForm.do?sessao_action=&numero_pedido='+document.forms[0].numero_pedido.value+'&data_pedido='+document.forms[0].data_pedido.value+'&nome_planilha='+document.forms[0].nome_planilha.value);" styleId="data_pedido" value="<%= (String)session.getAttribute("entrada_pedidos_data_pedido") %>" styleClass="baseField" size="10" maxlength="10"/>
        <% } else { %>
          <html:text property="data_pedido" onblur="jQuery.post('EntPedidosForm.do?sessao_action=&numero_pedido='+document.forms[0].numero_pedido.value+'&data_pedido='+document.forms[0].data_pedido.value+'&nome_planilha='+document.forms[0].nome_planilha.value);" styleId="data_pedido" styleClass="baseField" size="10" maxlength="10"/>
        <% } %>

         
        <a tabindex="-1" href="javascript:var cal1 = new calendar1(document.forms['0'].elements['data_pedido']); cal1.year_scroll = true; cal1.popup();">
          <img src="../img/calendar.gif" tabindex="9999" width="16" height="16" border="0" />
        </a>

        <span class="spamFormLabel">
          <bean:message bundle="ComercialResources" key="EntPedidosForm.observacao"/>
        </span>
         <% if(session.getAttribute("entrada_pedidos_codigo_cliente")!=null){ %>
          <html:text property="nome_planilha" onblur="jQuery.post('EntPedidosForm.do?sessao_action=&numero_pedido='+document.forms[0].numero_pedido.value+'&data_pedido='+document.forms[0].data_pedido.value+'&nome_planilha='+document.forms[0].nome_planilha.value);" styleId="nome_planilha" value="<%= (String)session.getAttribute("entrada_pedidos_codigo_cliente") %>" styleClass="baseField" size="30" maxlength="30"/>
        <% } else { %>
          <html:text property="nome_planilha" onblur="jQuery.post('EntPedidosForm.do?sessao_action=&numero_pedido='+document.forms[0].numero_pedido.value+'&data_pedido='+document.forms[0].data_pedido.value+'&nome_planilha='+document.forms[0].nome_planilha.value);" styleId="nome_planilha" styleClass="baseField" size="30" maxlength="30"/>
        <% } %>

      </td>
    </tr>

    <html:hidden property="tem_alteracao"/>
    <html:hidden property="pos"/>
    <%
    {
      %>
      <%
      java.util.Vector res_Emula_faturas_proformas = (java.util.Vector)session.getAttribute("res_Emula_faturas_proformas");
      %>
      <%
      String pos = "0";
      if (res_Emula_faturas_proformas!=null) {
        pos = "" + res_Emula_faturas_proformas.size();
      }
      %>
    </table>

 <table class="navigatorTable" style="width:99%;">
   <tr class="navigatorTr" >
     <td class="navigatorTd" >
          <img border="0" style="cursor:pointer" src="../img/first.gif" title="<bean:message bundle="ApplicationResources" key="navigator.first"/>" onclick="javascript:new_pos0('1');" />
          
          <img border="0" style="cursor:pointer" src="../img/prev.gif" title="<bean:message bundle="ApplicationResources" key="navigator.previous"/>" onclick="javascript:new_pos0(parseInt(document.forms[0].navigation_pos0.value)-1);" accesskey="," />
           
          <input type="text" name="navigation_pos0" size="5" class="navigatorInput" >
           
          <img border="0" style="cursor:pointer" src="../img/next.gif" title="<bean:message bundle="ApplicationResources" key="navigator.next"/>"  onclick="javascript:new_pos0(parseInt(document.forms[0].navigation_pos0.value)+1);" accesskey="." />
           
          <img border="0" style="cursor:pointer" src="../img/last.gif" title="<bean:message bundle="ApplicationResources" key="navigator.last"/>" onclick="javascript:new_pos0(document.forms[0].navigation_max0.value);">
           
          <bean:message key="jsp.navigator.register"/>
          :
          <input type="text" name="navigation_max0" value="<%= pos %>" size="5" class="navigatorInput" >
        </td>
      </tr>
      <script type="text/javascript">
        if (document.forms[0].pos.value!="") {
          document.forms[0].navigation_pos0.value= parseInt(document.forms[0].pos.value) + 1;
        }
        function new_pos0(POS) {
          if (POS>0 && POS<=document.forms[0].navigation_max0.value ) {
          if(document.forms[0].tem_alteracao.value=='s'){if(confirma_alteracao()){}else{return false;};}
          document.forms[0].tem_alteracao.value='';
          document.forms[0].navigation_pos0.value=POS;
          document.forms[0].pos.value=parseInt(document.forms[0].navigation_pos0.value) - 1;
          document.forms[0].pos_action.click();
        } else {
          alert("<bean:message key="jsp.endregistries"/>");
        }
      }
    </script>
    <%}%>

    </table>

    <%
    portalbr.com.EntPedidosActionForm entped = (portalbr.com.EntPedidosActionForm)session.getAttribute("EntPedidosActionForm");
    %>
   
    <html:submit accesskey="p" styleClass="myhidden" property="select_action"></html:submit>
    <html:submit accesskey="i" onclick="if(document.forms[0].tem_alteracao.value=='s'){if(confirma_alteracao()){return true;}else{return false;};}" styleClass="myhidden" property="insert_action"></html:submit>
    <html:submit accesskey="a" onclick="if(document.forms[0].tem_alteracao.value=='s'){if(confirma_alteracao()){return true;}else{return false;};}" styleClass="myhidden" property="update_action"></html:submit>
    <html:submit accesskey="a" onclick="return confirma_submit();" styleClass="myhidden" property="delete_action"></html:submit>
    <html:submit accesskey="l" onclick="if(document.forms[0].tem_alteracao.value=='s'){if(confirma_alteracao()){return true;}else{return false;};}" styleClass="myhidden" property="resetfull_action"></html:submit>
    <html:submit value="Pos" styleClass="myhidden" property="pos_action"></html:submit>
    <html:submit value="Finalizar Pedido" onclick="if(document.forms[0].tem_alteracao.value=='s'){if(confirma_alteracao()){return true;}else{return false;};}return confirma_submit();" styleClass="myhidden" property="finalizar_action"></html:submit>


    <div class="fg-toolbar ui-widget-header ui-corner-all ui-helper-clearfix">
       <div class="fg-buttonset ui-helper-clearfix">
          <a href="#" onclick="document.forms[0].select_action.click();" class="fg-button ui-state-default fg-button-icon-right ui-corner-all"><span class="ui-icon ui-icon-zoomin"></span><bean:message bundle="ComercialResources" key="EntPedidosForm.pesquisar"/></a>
     <% if((entped.getStatus()+"").equals("C") || (entped.getStatus()+"").equals("O")){ %>
     <% } else { %>
          <a href="#" onclick="document.forms[0].insert_action.click();" class="fg-button ui-state-default fg-button-icon-right ui-corner-all"><span class="ui-icon ui-icon-plusthick"></span><bean:message bundle="ComercialResources" key="EntPedidosForm.inserir"/></a>
     <% } %>

     <% if((entped.getStatus()+"").equals("C")){ %>
     <% } else if((entped.getStatus()+"").equals("O")){ %>
          <a href="#" onclick="document.forms[1].insert1_action.click();" class="fg-button ui-state-default fg-button-icon-right ui-corner-all"><span class="ui-icon ui-icon-disk"></span><bean:message bundle="ComercialResources" key="EntPedidosForm.salvar_alteracoes"/></a>
     <% } %>
     <% if((entped.getStatus()+"").equals("C")){ %>
     <% } else if((entped.getStatus()+"").equals("O")){ %>
          <a href="#" onclick="document.forms[0].delete_action.click();" class="fg-button ui-state-default fg-button-icon-right ui-corner-all"><span class="ui-icon ui-icon-closethick"></span><bean:message bundle="ComercialResources" key="EntPedidosForm.excluir_pedido"/></a>
     <% } %>
          <a href="#" onclick="document.forms[0].resetfull_action.click();" class="fg-button ui-state-default fg-button-icon-right ui-corner-all"><span class="ui-icon ui-icon-refresh"></span><bean:message bundle="ComercialResources" key="EntPedidosForm.limpar"/></a>
     <% if((entped.getStatus()+"").equals("O")){ %>
          <% if(session.getAttribute("pedido_tem_erros")==null){ %>
             <a href="#" onclick="document.forms[0].finalizar_action.click();" class="fg-button ui-state-default fg-button-icon-right ui-corner-all"><span class="ui-icon ui-icon-check"></span><bean:message bundle="ComercialResources" key="EntPedidosForm.finalizar_pedido"/></a>
          <% } %>
          <a href="#" onclick="document.forms[1].adicionar_item_action.click();" class="fg-button ui-state-default fg-button-icon-right ui-corner-all"><span class="ui-icon ui-icon-plusthick"></span><bean:message bundle="ComercialResources" key="EntPedidosForm.adicionar_item"/></a> 
          <a href="#" onclick="document.forms[1].adicionar_itens_normas_action.click();" class="fg-button ui-state-default fg-button-icon-right ui-corner-all"><span class="ui-icon ui-icon-contact"></span><bean:message bundle="ComercialResources" key="EntPedidosForm.adicionar_item_norma"/></a>
     <% } %>
          <a href="#" onclick="document.forms[1].pdf.click();" class="fg-button ui-state-default fg-button-icon-right ui-corner-all"><span class="ui-icon ui-icon-print"></span>Imprimir</a>
      
      </div>
    </div>


    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("#data_pedido").mask("99/99/9999");
        });
      </script>
    </html:form>
    <script type="text/javascript">
      var focusControl = document.forms[0].elements["numero_pedido"];
      if (focusControl.type != "hidden"){
        focusControl.focus();
      }
    </script>




<script>
function getKeySite(keyStroke) {
      isNetscape=(document.layers);
      eventChooser = (isNetscape) ? keyStroke.which : event.keyCode;
      which = String.fromCharCode(eventChooser).toLowerCase();
      keyBuffer = which;
      if(eventChooser == 13){ 
                              document.forms[0].select_action.click();
      }
    }
</script>
<SCRIPT>
    document.onkeypress = getKeySite;
</SCRIPT>


<script language="javascript">

    function confirma_alteracao() {
        var msg = "<bean:message bundle="ComercialResources" key="EntPedidosForm.alteracoes_nao_salvas_item"/>";
        return confirm(msg);
    }

    function confirma_submit() {
        var msg="<bean:message bundle="ComercialResources" key="EntPedidosForm.confirma_operacao"/>";
        return confirm(msg);
    }

</script>



<% if(session.getAttribute("adicionou_item")!=null) { %>
      <script>
        document.forms[0].select_action.click();
      </script>
<%
  session.removeAttribute("adicionou_item");
  }
%>
</form_code>
<number_column></number_column>
</blocks_item>
<blocks_item>
<class>com.egen.develop.generator.form.BlockForm</class>
<name>bl_form_Emula_itens_faturas_proformas</name>
<title>Itens</title>
<i18n></i18n>
<database>pool</database>
<db_object>Emula_itens_faturas_proformas</db_object>
<script_block>function descajax(nome){
indice = nome.substring(nome.indexOf('[')+1,nome.indexOf(']'));
var retorno = '';
linha=document.forms[1].codigo_linha[indice].value;
referencia=document.forms[1].codigo_referencia[indice].value;
cabedal=document.forms[1].codigo_cabedal[indice].value;
jQuery.ajax({
	type: 		"get",
	url: 		"Sql2Form.do?select_action=&query=SELECT d.descricao FROM ref_cab r, dom_item_estoque d WHERE d.lin_cdgo = r.lin_cdgo AND d.ref_cdgo = r.ref_cdgo AND d.cab_cdgo = r.cab_cdgo AND r.lin_cdgo = "+linha+" AND r.ref_cdgo = "+referencia+" AND r.cab_cdgo = "+cabedal,
	data: 		"number=1",
	success:	function(msg) {
	    retorno = (msg.substring(msg.indexOf('<inicio>')+8,msg.indexOf('<fim>')));
            document.forms[1].descricao_item[indice].value = retorno;
	}
});
}</script_block>
<script_template></script_template>
<obs></obs>
<maxRows>0</maxRows>
<resultSetName></resultSetName>
<select_clause></select_clause>
<where_clause></where_clause>
<order_by></order_by>
<group_by></group_by>
<having></having>
<styleClass></styleClass>
<style></style>
<relations>
<relations_item>
<class>com.egen.develop.generator.BlockRelation</class>
<master_block>bl_form_Emula_faturas_proformas</master_block>
<form_bean>portalbr.com.EntPedidosActionForm</form_bean>
<elements>
<elements_item>
<class>com.egen.develop.generator.ElementRelation</class>
<master_name>numero_pedido</master_name>
<slave_name>numero_pedido1</slave_name>
<relation_type></relation_type>
<elementRelationSetProperty>
</elementRelationSetProperty>
</elementRelationSetProperty>
</elements_item>
</elements>
<blockRelationSetProperty>
</blockRelationSetProperty>
</blockRelationSetProperty>
</relations_item>
</relations>
<tabs></tabs>
<receive_parameter>false</receive_parameter>
<showparameter>false</showparameter>
<message_type>error</message_type>
<message_text></message_text>
<banner_type>no_banner</banner_type>
<role></role>
<roleinclude>false</roleinclude>
<i18n_obs></i18n_obs>
<tab_pos>tab0</tab_pos>
<block_size></block_size>
<block_position>Standart</block_position>
<displayError></displayError>
<form>
<class>com.egen.develop.generator.form.Form</class>
<action>com/EntPedidosGrid.do</action>
<enctype></enctype>
<focus></focus>
<method>POST</method>
<onreset></onreset>
<onsubmit></onsubmit>
<scope></scope>
<style></style>
<styleClass></styleClass>
<styleId></styleId>
<target></target>
<type></type>
<disabled>false</disabled><readonly>false</readonly><open_form>false</open_form>
<close_form>false</close_form>
</form>
<blockSetProperty>
</blockSetProperty>
</blockSetProperty>
<gridProperties><class>com.egen.develop.generator.form.GridProperties</class>
<block_name>bl_form_Emula_itens_faturas_proformas</block_name>
<defaultGridSize>1</defaultGridSize>
<recordCheckMethod>gridCheckField</recordCheckMethod>
<gridCheckFieldPosition>_first</gridCheckFieldPosition>
</gridProperties>
<navigatorProperties></navigatorProperties>
<fields>
<fields_item>
<class>com.egen.develop.generator.form.Checkbox</class>
<name>gridCheckField</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Emula_itens_faturas_proformas</block_name>
<role_item></role_item>
<database_column></database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<property>gridCheckField</property>
<label></label>
<label_pos></label_pos>
<label_bg_color></label_bg_color>
<label_fg_color></label_fg_color>
<label_size></label_size>
<label_align></label_align>
<label_font></label_font>
<labelPropertytext></labelPropertytext>
<label_bold>false</label_bold>
<label_italic>false</label_italic>
<justification></justification>
<not_null>false</not_null>
<type>boolean</type>
<validate_message></validate_message>
<validate_message_user></validate_message_user>
<case_restriction></case_restriction>
<break_line>true</break_line>
<lovObject></lovObject>
<lowest_value></lowest_value>
<highest_value></highest_value>
<validate_value>false</validate_value>
<validate_type>false</validate_type>
<validate_group>false</validate_group>
<validate_email>false</validate_email>
<validate_not_null>false</validate_not_null>
<validate_minlength></validate_minlength>
<validate_maxlength></validate_maxlength>
<validate_regex></validate_regex>
<src></src>
<select_allowed>true</select_allowed>
<update_allowed>true</update_allowed>
<insert_allowed>true</insert_allowed>
<isCustomized>false</isCustomized>
<labelStyle></labelStyle>
<labelTitle></labelTitle>
<labelTitleKey></labelTitleKey>
<i18nLabelTitleKey></i18nLabelTitleKey>
<fieldGridSize></fieldGridSize>
<queryOperator></queryOperator>
<round_value></round_value>
<field_prefix></field_prefix>
<field_sufix></field_sufix>
<write>false</write>
<fieldSetProperty>
</fieldSetProperty>
</fieldSetProperty>
<accesskey></accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass></styleClass>
<styleId>gridCheckField</styleId>
<errorKey></errorKey>
<errorStyle></errorStyle>
<errorStyleClass></errorStyleClass>
<errorStyleId></errorStyleId>
<tabindex></tabindex>
<field_relation></field_relation>
<codeItem></codeItem>
<onmouseout></onmouseout>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<value>true</value>
<falseValue></falseValue>
</fields_item>
<fields_item>
<class>com.egen.develop.generator.form.Hidden</class>
<name>numero_pedido1</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Emula_itens_faturas_proformas</block_name>
<role_item></role_item>
<database_column>numero_pedido</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs>tab0</tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left>200</left>
<top>100</top>
<z_index></z_index>
<property>numero_pedido1</property>
<label>Numero_pedido</label>
<label_pos>Left</label_pos>
<label_bg_color></label_bg_color>
<label_fg_color></label_fg_color>
<label_size></label_size>
<label_align>start</label_align>
<label_font></label_font>
<labelPropertytext></labelPropertytext>
<label_bold>false</label_bold>
<label_italic>false</label_italic>
<justification>start</justification>
<not_null>true</not_null>
<type>java.lang.Integer</type>
<validate_message></validate_message>
<validate_message_user></validate_message_user>
<case_restriction></case_restriction>
<break_line>true</break_line>
<lovObject></lovObject>
<lowest_value></lowest_value>
<highest_value></highest_value>
<validate_value>true</validate_value>
<validate_type>true</validate_type>
<validate_group>false</validate_group>
<validate_email>false</validate_email>
<validate_not_null>false</validate_not_null>
<validate_minlength></validate_minlength>
<validate_maxlength></validate_maxlength>
<validate_regex></validate_regex>
<src></src>
<select_allowed>true</select_allowed>
<update_allowed>true</update_allowed>
<insert_allowed>true</insert_allowed>
<isCustomized>false</isCustomized>
<labelStyle></labelStyle>
<labelTitle></labelTitle>
<labelTitleKey></labelTitleKey>
<i18nLabelTitleKey></i18nLabelTitleKey>
<fieldGridSize></fieldGridSize>
<queryOperator></queryOperator>
<round_value></round_value>
<field_prefix></field_prefix>
<field_sufix></field_sufix>
<write>false</write>
<fieldSetProperty>
</fieldSetProperty>
</fieldSetProperty>
<value><%= (String)session.getAttribute("numero_pedido") %></value>
<codeItem></codeItem>
</fields_item>
<fields_item>
<class>com.egen.develop.generator.form.Text</class>
<name>numero_item</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Emula_itens_faturas_proformas</block_name>
<role_item></role_item>
<database_column>numero_item</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs>tab0</tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left>200</left>
<top>130</top>
<z_index></z_index>
<property>numero_item</property>
<label>Seq.</label>
<label_pos>Left</label_pos>
<label_bg_color></label_bg_color>
<label_fg_color></label_fg_color>
<label_size></label_size>
<label_align>start</label_align>
<label_font></label_font>
<labelPropertytext></labelPropertytext>
<label_bold>false</label_bold>
<label_italic>false</label_italic>
<justification>start</justification>
<not_null>true</not_null>
<type>java.lang.Integer</type>
<validate_message></validate_message>
<validate_message_user></validate_message_user>
<case_restriction></case_restriction>
<break_line>true</break_line>
<lovObject></lovObject>
<lowest_value></lowest_value>
<highest_value></highest_value>
<validate_value>true</validate_value>
<validate_type>true</validate_type>
<validate_group>false</validate_group>
<validate_email>false</validate_email>
<validate_not_null>false</validate_not_null>
<validate_minlength></validate_minlength>
<validate_maxlength></validate_maxlength>
<validate_regex></validate_regex>
<src></src>
<select_allowed>true</select_allowed>
<update_allowed>true</update_allowed>
<insert_allowed>true</insert_allowed>
<isCustomized>false</isCustomized>
<labelStyle></labelStyle>
<labelTitle></labelTitle>
<labelTitleKey></labelTitleKey>
<i18nLabelTitleKey></i18nLabelTitleKey>
<fieldGridSize></fieldGridSize>
<queryOperator></queryOperator>
<round_value></round_value>
<field_prefix></field_prefix>
<field_sufix></field_sufix>
<write>false</write>
<fieldSetProperty>
</fieldSetProperty>
</fieldSetProperty>
<accesskey></accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass></styleClass>
<styleId>numero_item</styleId>
<errorKey></errorKey>
<errorStyle></errorStyle>
<errorStyleClass></errorStyleClass>
<errorStyleId></errorStyleId>
<tabindex></tabindex>
<field_relation></field_relation>
<codeItem></codeItem>
<onmouseout></onmouseout>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<readonly>false</readonly>
<value></value>
<size>4</size>
<maxlength>4</maxlength>
</fields_item>
<fields_item>
<class>com.egen.develop.generator.form.Text</class>
<name>codigo_linha</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Emula_itens_faturas_proformas</block_name>
<role_item></role_item>
<database_column>codigo_linha</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs>tab0</tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left>200</left>
<top>160</top>
<z_index></z_index>
<property>codigo_linha</property>
<label>Linha</label>
<label_pos>Left</label_pos>
<label_bg_color></label_bg_color>
<label_fg_color></label_fg_color>
<label_size></label_size>
<label_align>start</label_align>
<label_font></label_font>
<labelPropertytext></labelPropertytext>
<label_bold>false</label_bold>
<label_italic>false</label_italic>
<justification>start</justification>
<not_null>false</not_null>
<type>java.lang.Integer</type>
<validate_message></validate_message>
<validate_message_user></validate_message_user>
<case_restriction></case_restriction>
<break_line>true</break_line>
<lovObject><class>com.egen.develop.generator.form.Lov</class>
<lovAction>..//lov/LvLinExp0400Lov.do?resetfull_action=</lovAction>
<lovReturns>
<lovReturns_item>
<class>java.lang.String</class>
<value>return0=codigo_linha</value>
</lovReturns_item>
</lovReturns>
<lovParameters></lovParameters>
<lovLabel>...</lovLabel>
<lovStyle></lovStyle>
<lovStyleClass>lovButton</lovStyleClass>
<lovScrollbars>true</lovScrollbars>
<lovHeight>510</lovHeight>
<lovWidth>600</lovWidth>
<lovTop>0</lovTop>
<lovLeft>0</lovLeft>
<lovTemplate></lovTemplate>
<lovCode><input type="button" class="lovButton" tabindex="-1" value="..."  onclick="javascript:lov_open_codigo_linha<%= indexId %>()"  ><script type="text/javascript"> 
 function lov_open_codigo_linha<%= indexId %>() {
   window.open('..//lov/LvLinExp0400Lov.do?resetfull_action=&returnBlock=1&return0=codigo_linha[<%= indexId %>]','','scrollbars=yes,height=510,width=600,top=0,left=0,');
}
</script>
</lovCode>
<lov_channelmode></lov_channelmode>
<lov_directories></lov_directories>
<lov_fullscreen></lov_fullscreen>
<lov_location></lov_location>
<lov_menubar></lov_menubar>
<lov_resizable></lov_resizable>
<lov_status></lov_status>
<lov_titlebar></lov_titlebar>
<lov_toolbar></lov_toolbar>
<lov_modal>false</lov_modal>
<lovSetProperty>
</lovSetProperty>
</lovSetProperty>
</lovObject>
<lowest_value></lowest_value>
<highest_value></highest_value>
<validate_value>false</validate_value>
<validate_type>true</validate_type>
<validate_group>false</validate_group>
<validate_email>false</validate_email>
<validate_not_null>false</validate_not_null>
<validate_minlength></validate_minlength>
<validate_maxlength></validate_maxlength>
<validate_regex></validate_regex>
<src></src>
<select_allowed>true</select_allowed>
<update_allowed>true</update_allowed>
<insert_allowed>true</insert_allowed>
<isCustomized>false</isCustomized>
<labelStyle></labelStyle>
<labelTitle></labelTitle>
<labelTitleKey></labelTitleKey>
<i18nLabelTitleKey></i18nLabelTitleKey>
<fieldGridSize></fieldGridSize>
<queryOperator></queryOperator>
<round_value></round_value>
<field_prefix></field_prefix>
<field_sufix></field_sufix>
<write>false</write>
<fieldSetProperty>
</fieldSetProperty>
</fieldSetProperty>
<accesskey></accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass></styleClass>
<styleId>codigo_linha</styleId>
<errorKey></errorKey>
<errorStyle></errorStyle>
<errorStyleClass></errorStyleClass>
<errorStyleId></errorStyleId>
<tabindex></tabindex>
<field_relation></field_relation>
<codeItem></codeItem>
<onmouseout></onmouseout>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<readonly>false</readonly>
<value></value>
<size>7</size>
<maxlength>22</maxlength>
</fields_item>
<fields_item>
<class>com.egen.develop.generator.form.Text</class>
<name>codigo_referencia</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Emula_itens_faturas_proformas</block_name>
<role_item></role_item>
<database_column>codigo_referencia</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs>tab0</tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left>200</left>
<top>190</top>
<z_index></z_index>
<property>codigo_referencia</property>
<label>Ref.</label>
<label_pos>Left</label_pos>
<label_bg_color></label_bg_color>
<label_fg_color></label_fg_color>
<label_size></label_size>
<label_align>start</label_align>
<label_font></label_font>
<labelPropertytext></labelPropertytext>
<label_bold>false</label_bold>
<label_italic>false</label_italic>
<justification>start</justification>
<not_null>false</not_null>
<type>java.lang.Integer</type>
<validate_message></validate_message>
<validate_message_user></validate_message_user>
<case_restriction></case_restriction>
<break_line>true</break_line>
<lovObject><class>com.egen.develop.generator.form.Lov</class>
<lovAction>..//lov/LvRefExp0400Lov.do?resetfull_action=</lovAction>
<lovReturns>
<lovReturns_item>
<class>java.lang.String</class>
<value>return0=codigo_referencia</value>
</lovReturns_item>
</lovReturns>
<lovParameters></lovParameters>
<lovLabel>...</lovLabel>
<lovStyle></lovStyle>
<lovStyleClass>lovButton</lovStyleClass>
<lovScrollbars>true</lovScrollbars>
<lovHeight>510</lovHeight>
<lovWidth>600</lovWidth>
<lovTop>0</lovTop>
<lovLeft>0</lovLeft>
<lovTemplate></lovTemplate>
<lovCode><input type="button" class="lovButton" tabindex="-1" value="..."  onclick="javascript:lov_open_codigo_referencia<%= indexId %>()"  ><script type="text/javascript"> 
 function lov_open_codigo_referencia<%= indexId %>() {
   window.open('..//lov/LvRefExp0400Lov.do?select_action=&lin_cdgo='+document.forms[1].codigo_linha[<%= indexId %>].value+'&returnBlock=1&return0=codigo_referencia[<%= indexId %>]','','scrollbars=yes,height=510,width=600,top=0,left=0,');
}
</script>
</lovCode>
<lov_channelmode></lov_channelmode>
<lov_directories></lov_directories>
<lov_fullscreen></lov_fullscreen>
<lov_location></lov_location>
<lov_menubar></lov_menubar>
<lov_resizable></lov_resizable>
<lov_status></lov_status>
<lov_titlebar></lov_titlebar>
<lov_toolbar></lov_toolbar>
<lov_modal>false</lov_modal>
<lovSetProperty>
</lovSetProperty>
</lovSetProperty>
</lovObject>
<lowest_value></lowest_value>
<highest_value></highest_value>
<validate_value>false</validate_value>
<validate_type>true</validate_type>
<validate_group>false</validate_group>
<validate_email>false</validate_email>
<validate_not_null>false</validate_not_null>
<validate_minlength></validate_minlength>
<validate_maxlength></validate_maxlength>
<validate_regex></validate_regex>
<src></src>
<select_allowed>true</select_allowed>
<update_allowed>true</update_allowed>
<insert_allowed>true</insert_allowed>
<isCustomized>false</isCustomized>
<labelStyle></labelStyle>
<labelTitle></labelTitle>
<labelTitleKey></labelTitleKey>
<i18nLabelTitleKey></i18nLabelTitleKey>
<fieldGridSize></fieldGridSize>
<queryOperator></queryOperator>
<round_value></round_value>
<field_prefix></field_prefix>
<field_sufix></field_sufix>
<write>false</write>
<fieldSetProperty>
</fieldSetProperty>
</fieldSetProperty>
<accesskey></accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass></styleClass>
<styleId>codigo_referencia</styleId>
<errorKey></errorKey>
<errorStyle></errorStyle>
<errorStyleClass></errorStyleClass>
<errorStyleId></errorStyleId>
<tabindex></tabindex>
<field_relation></field_relation>
<codeItem></codeItem>
<onmouseout></onmouseout>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<readonly>false</readonly>
<value></value>
<size>3</size>
<maxlength>3</maxlength>
</fields_item>
<fields_item>
<class>com.egen.develop.generator.form.Text</class>
<name>codigo_corrugado</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Emula_itens_faturas_proformas</block_name>
<role_item></role_item>
<database_column>codigo_corrugado</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs>tab0</tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<property>codigo_corrugado</property>
<label>Codigo_corrugado</label>
<label_pos>Left</label_pos>
<label_bg_color></label_bg_color>
<label_fg_color></label_fg_color>
<label_size></label_size>
<label_align>start</label_align>
<label_font></label_font>
<labelPropertytext></labelPropertytext>
<label_bold>false</label_bold>
<label_italic>false</label_italic>
<justification>start</justification>
<not_null>false</not_null>
<type>java.lang.Integer</type>
<validate_message></validate_message>
<validate_message_user></validate_message_user>
<case_restriction></case_restriction>
<break_line>true</break_line>
<lovObject></lovObject>
<lowest_value></lowest_value>
<highest_value></highest_value>
<validate_value>false</validate_value>
<validate_type>true</validate_type>
<validate_group>false</validate_group>
<validate_email>false</validate_email>
<validate_not_null>false</validate_not_null>
<validate_minlength></validate_minlength>
<validate_maxlength></validate_maxlength>
<validate_regex></validate_regex>
<src></src>
<select_allowed>true</select_allowed>
<update_allowed>true</update_allowed>
<insert_allowed>true</insert_allowed>
<isCustomized>false</isCustomized>
<labelStyle></labelStyle>
<labelTitle></labelTitle>
<labelTitleKey></labelTitleKey>
<i18nLabelTitleKey></i18nLabelTitleKey>
<fieldGridSize></fieldGridSize>
<queryOperator></queryOperator>
<round_value></round_value>
<field_prefix></field_prefix>
<field_sufix></field_sufix>
<write>false</write>
<fieldSetProperty>
</fieldSetProperty>
</fieldSetProperty>
<accesskey></accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass></styleClass>
<styleId>codigo_corrugado</styleId>
<errorKey></errorKey>
<errorStyle></errorStyle>
<errorStyleClass></errorStyleClass>
<errorStyleId></errorStyleId>
<tabindex></tabindex>
<field_relation></field_relation>
<codeItem></codeItem>
<onmouseout></onmouseout>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<readonly>false</readonly>
<value></value>
<size>22</size>
<maxlength>22</maxlength>
</fields_item>
<fields_item>
<class>com.egen.develop.generator.form.Text</class>
<name>codigo_cabedal</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Emula_itens_faturas_proformas</block_name>
<role_item></role_item>
<database_column>codigo_cabedal</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs>tab0</tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left>200</left>
<top>220</top>
<z_index></z_index>
<property>codigo_cabedal</property>
<label>Cabedal</label>
<label_pos>Left</label_pos>
<label_bg_color></label_bg_color>
<label_fg_color></label_fg_color>
<label_size></label_size>
<label_align>start</label_align>
<label_font></label_font>
<labelPropertytext></labelPropertytext>
<label_bold>false</label_bold>
<label_italic>false</label_italic>
<justification>start</justification>
<not_null>false</not_null>
<type>java.lang.Integer</type>
<validate_message></validate_message>
<validate_message_user></validate_message_user>
<case_restriction></case_restriction>
<break_line>true</break_line>
<lovObject><class>com.egen.develop.generator.form.Lov</class>
<lovAction>..//lov/LvRefCabExp0400Lov.do?resetfull_action=</lovAction>
<lovReturns>
<lovReturns_item>
<class>java.lang.String</class>
<value>return0=codigo_cabedal</value>
</lovReturns_item>
</lovReturns>
<lovParameters></lovParameters>
<lovLabel>...</lovLabel>
<lovStyle></lovStyle>
<lovStyleClass>lovButton</lovStyleClass>
<lovScrollbars>true</lovScrollbars>
<lovHeight>510</lovHeight>
<lovWidth>600</lovWidth>
<lovTop>0</lovTop>
<lovLeft>0</lovLeft>
<lovTemplate></lovTemplate>
<lovCode><input type="button" class="lovButton" tabindex="-1" value="..."  onclick="javascript:lov_open_codigo_cabedal<%= indexId %>()"  ><script type="text/javascript"> 
 function lov_open_codigo_cabedal<%= indexId %>() {
   window.open('..//lov/LvRefCabExp0400Lov.do?select_action=&lin_cdgo='+document.forms[1].codigo_linha[<%= indexId %>].value+'&ref_cdgo='+document.forms[1].codigo_referencia[<%= indexId %>].value+'&returnBlock=1&return0=codigo_cabedal[<%= indexId %>]','','scrollbars=yes,height=510,width=600,top=0,left=0,');
}
</script>
</lovCode>
<lov_channelmode></lov_channelmode>
<lov_directories></lov_directories>
<lov_fullscreen></lov_fullscreen>
<lov_location></lov_location>
<lov_menubar></lov_menubar>
<lov_resizable></lov_resizable>
<lov_status></lov_status>
<lov_titlebar></lov_titlebar>
<lov_toolbar></lov_toolbar>
<lov_modal>false</lov_modal>
<lovSetProperty>
</lovSetProperty>
</lovSetProperty>
</lovObject>
<lowest_value></lowest_value>
<highest_value></highest_value>
<validate_value>false</validate_value>
<validate_type>true</validate_type>
<validate_group>false</validate_group>
<validate_email>false</validate_email>
<validate_not_null>false</validate_not_null>
<validate_minlength></validate_minlength>
<validate_maxlength></validate_maxlength>
<validate_regex></validate_regex>
<src></src>
<select_allowed>true</select_allowed>
<update_allowed>true</update_allowed>
<insert_allowed>true</insert_allowed>
<isCustomized>true</isCustomized>
<labelStyle></labelStyle>
<labelTitle></labelTitle>
<labelTitleKey></labelTitleKey>
<i18nLabelTitleKey></i18nLabelTitleKey>
<fieldGridSize></fieldGridSize>
<queryOperator></queryOperator>
<round_value></round_value>
<field_prefix></field_prefix>
<field_sufix></field_sufix>
<write>false</write>
<fieldSetProperty>
</fieldSetProperty>
</fieldSetProperty>
<accesskey></accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass></styleClass>
<styleId>codigo_cabedal</styleId>
<errorKey></errorKey>
<errorStyle></errorStyle>
<errorStyleClass></errorStyleClass>
<errorStyleId></errorStyleId>
<tabindex></tabindex>
<field_relation></field_relation>
<codeItem><td class="tdGridField">
<html:text property="codigo_cabedal" styleId="codigo_cabedal" onclick="alert(<%= (String)session.getAttribute("where") %>);" styleClass="baseField" size="6" maxlength="22" onblur="descajax(this.name);"  name="bl_form_Emula_itens_faturas_proformas_lines" indexed="true" />

<input type="button" class="lovButton" tabindex="-1" value="..." onclick="javascript:lov_open_codigo_cabedal<%= indexId %>()"  >
<script type="text/javascript"> 
 function lov_open_codigo_cabedal<%= indexId %>() {
   window.open('..//lov/LvRefCabExp0400Lov.do?select_action=&lin_cdgo='+document.forms[1].codigo_linha[<%= indexId %>].value+'&ref_cdgo='+document.forms[1].codigo_referencia[<%= indexId %>].value+'&returnBlock=1&return0=codigo_cabedal[<%= indexId %>]','','scrollbars=yes,height=510,width=600,top=0,left=0,');
}

</script>
</td> 



</codeItem>
<onmouseout></onmouseout>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<readonly>false</readonly>
<value></value>
<size>6</size>
<maxlength>22</maxlength>
</fields_item>
<fields_item>
<class>com.egen.develop.generator.form.Text</class>
<name>descricao_item</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Emula_itens_faturas_proformas</block_name>
<role_item></role_item>
<database_column>descricao_item</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs>tab0</tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left>200</left>
<top>370</top>
<z_index></z_index>
<property>descricao_item</property>
<label>Descrição</label>
<label_pos>Left</label_pos>
<label_bg_color></label_bg_color>
<label_fg_color></label_fg_color>
<label_size></label_size>
<label_align>start</label_align>
<label_font></label_font>
<labelPropertytext></labelPropertytext>
<label_bold>false</label_bold>
<label_italic>false</label_italic>
<justification>start</justification>
<not_null>false</not_null>
<type>java.lang.String</type>
<validate_message></validate_message>
<validate_message_user></validate_message_user>
<case_restriction></case_restriction>
<break_line>true</break_line>
<lovObject></lovObject>
<lowest_value></lowest_value>
<highest_value></highest_value>
<validate_value>false</validate_value>
<validate_type>false</validate_type>
<validate_group>false</validate_group>
<validate_email>false</validate_email>
<validate_not_null>false</validate_not_null>
<validate_minlength></validate_minlength>
<validate_maxlength></validate_maxlength>
<validate_regex></validate_regex>
<src></src>
<select_allowed>true</select_allowed>
<update_allowed>true</update_allowed>
<insert_allowed>true</insert_allowed>
<isCustomized>false</isCustomized>
<labelStyle></labelStyle>
<labelTitle></labelTitle>
<labelTitleKey></labelTitleKey>
<i18nLabelTitleKey></i18nLabelTitleKey>
<fieldGridSize></fieldGridSize>
<queryOperator></queryOperator>
<round_value></round_value>
<field_prefix></field_prefix>
<field_sufix></field_sufix>
<write>false</write>
<fieldSetProperty>
</fieldSetProperty>
</fieldSetProperty>
<accesskey></accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass>disabled</styleClass>
<styleId>descricao_item</styleId>
<errorKey></errorKey>
<errorStyle></errorStyle>
<errorStyleClass></errorStyleClass>
<errorStyleId></errorStyleId>
<tabindex>-1</tabindex>
<field_relation></field_relation>
<codeItem></codeItem>
<onmouseout></onmouseout>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<readonly>true</readonly>
<value></value>
<size>50</size>
<maxlength>70</maxlength>
</fields_item>
<fields_item>
<class>com.egen.develop.generator.form.Text</class>
<name>codigo_cor</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Emula_itens_faturas_proformas</block_name>
<role_item></role_item>
<database_column>codigo_cor</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs>tab0</tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left>200</left>
<top>250</top>
<z_index></z_index>
<property>codigo_cor</property>
<label>Cor</label>
<label_pos>Left</label_pos>
<label_bg_color></label_bg_color>
<label_fg_color></label_fg_color>
<label_size></label_size>
<label_align>start</label_align>
<label_font></label_font>
<labelPropertytext></labelPropertytext>
<label_bold>false</label_bold>
<label_italic>false</label_italic>
<justification>start</justification>
<not_null>false</not_null>
<type>java.lang.Integer</type>
<validate_message></validate_message>
<validate_message_user></validate_message_user>
<case_restriction></case_restriction>
<break_line>true</break_line>
<lovObject><class>com.egen.develop.generator.form.Lov</class>
<lovAction>..//lov/LvRefCorExp0400Lov.do?select_action=</lovAction>
<lovReturns>
<lovReturns_item>
<class>java.lang.String</class>
<value>return0=codigo_cor</value>
</lovReturns_item>
</lovReturns>
<lovParameters></lovParameters>
<lovLabel>...</lovLabel>
<lovStyle></lovStyle>
<lovStyleClass>lovButton</lovStyleClass>
<lovScrollbars>true</lovScrollbars>
<lovHeight>510</lovHeight>
<lovWidth>600</lovWidth>
<lovTop>0</lovTop>
<lovLeft>0</lovLeft>
<lovTemplate></lovTemplate>
<lovCode><input type="button" class="lovButton" tabindex="-1" value="..."  onclick="javascript:lov_open_codigo_cor<%= indexId %>()"  ><script type="text/javascript"> 
 function lov_open_codigo_cor<%= indexId %>() {
   window.open('..//lov/LvRefCorExp0400Lov.do?select_action=&lin_cdgo='+document.forms[1].codigo_linha[<%= indexId %>].value+'&ref_cdgo='+document.forms[1].codigo_referencia[<%= indexId %>].value+'&cab_cdgo='+document.forms[1].codigo_cabedal[<%= indexId %>].value+'&returnBlock=1&return0=codigo_cor[<%= indexId %>]','','scrollbars=yes,height=510,width=600,top=0,left=0,');
}
</script>
</lovCode>
<lov_channelmode></lov_channelmode>
<lov_directories></lov_directories>
<lov_fullscreen></lov_fullscreen>
<lov_location></lov_location>
<lov_menubar></lov_menubar>
<lov_resizable></lov_resizable>
<lov_status></lov_status>
<lov_titlebar></lov_titlebar>
<lov_toolbar></lov_toolbar>
<lov_modal>false</lov_modal>
<lovSetProperty>
</lovSetProperty>
</lovSetProperty>
</lovObject>
<lowest_value></lowest_value>
<highest_value></highest_value>
<validate_value>false</validate_value>
<validate_type>true</validate_type>
<validate_group>false</validate_group>
<validate_email>false</validate_email>
<validate_not_null>false</validate_not_null>
<validate_minlength></validate_minlength>
<validate_maxlength></validate_maxlength>
<validate_regex></validate_regex>
<src></src>
<select_allowed>true</select_allowed>
<update_allowed>true</update_allowed>
<insert_allowed>true</insert_allowed>
<isCustomized>false</isCustomized>
<labelStyle></labelStyle>
<labelTitle></labelTitle>
<labelTitleKey></labelTitleKey>
<i18nLabelTitleKey></i18nLabelTitleKey>
<fieldGridSize></fieldGridSize>
<queryOperator></queryOperator>
<round_value></round_value>
<field_prefix></field_prefix>
<field_sufix></field_sufix>
<write>false</write>
<fieldSetProperty>
</fieldSetProperty>
</fieldSetProperty>
<accesskey></accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass></styleClass>
<styleId>codigo_cor</styleId>
<errorKey></errorKey>
<errorStyle></errorStyle>
<errorStyleClass></errorStyleClass>
<errorStyleId></errorStyleId>
<tabindex></tabindex>
<field_relation></field_relation>
<codeItem></codeItem>
<onmouseout></onmouseout>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<readonly>false</readonly>
<value></value>
<size>7</size>
<maxlength>22</maxlength>
</fields_item>
<fields_item>
<class>com.egen.develop.generator.form.Text</class>
<name>codigo_grade</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Emula_itens_faturas_proformas</block_name>
<role_item></role_item>
<database_column>codigo_grade</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs>tab0</tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left>200</left>
<top>280</top>
<z_index></z_index>
<property>codigo_grade</property>
<label>Grade</label>
<label_pos>Left</label_pos>
<label_bg_color></label_bg_color>
<label_fg_color></label_fg_color>
<label_size></label_size>
<label_align>start</label_align>
<label_font></label_font>
<labelPropertytext></labelPropertytext>
<label_bold>false</label_bold>
<label_italic>false</label_italic>
<justification>start</justification>
<not_null>false</not_null>
<type>java.lang.Integer</type>
<validate_message></validate_message>
<validate_message_user></validate_message_user>
<case_restriction></case_restriction>
<break_line>true</break_line>
<lovObject><class>com.egen.develop.generator.form.Lov</class>
<lovAction>..//lov/LvRefGdeExp0400Lov.do?select_action=</lovAction>
<lovReturns>
<lovReturns_item>
<class>java.lang.String</class>
<value>return0=codigo_grade</value>
</lovReturns_item>
</lovReturns>
<lovParameters></lovParameters>
<lovLabel>...</lovLabel>
<lovStyle></lovStyle>
<lovStyleClass>lovButton</lovStyleClass>
<lovScrollbars>true</lovScrollbars>
<lovHeight>510</lovHeight>
<lovWidth>600</lovWidth>
<lovTop>0</lovTop>
<lovLeft>0</lovLeft>
<lovTemplate></lovTemplate>
<lovCode><input type="button" class="lovButton" tabindex="-1" value="..."  onclick="javascript:lov_open_codigo_grade<%= indexId %>()"  ><script type="text/javascript"> 
 function lov_open_codigo_grade<%= indexId %>() {
   window.open('..//lov/LvRefGdeExp0400Lov.do?select_action=&lin_cdgo='+document.forms[1].codigo_linha[<%= indexId %>].value+'&ref_cdgo='+document.forms[1].codigo_referencia[<%= indexId %>].value+'&returnBlock=1&return0=codigo_grade[<%= indexId %>]','','scrollbars=yes,height=510,width=600,top=0,left=0,');
}
</script>
</lovCode>
<lov_channelmode></lov_channelmode>
<lov_directories></lov_directories>
<lov_fullscreen></lov_fullscreen>
<lov_location></lov_location>
<lov_menubar></lov_menubar>
<lov_resizable></lov_resizable>
<lov_status></lov_status>
<lov_titlebar></lov_titlebar>
<lov_toolbar></lov_toolbar>
<lov_modal>false</lov_modal>
<lovSetProperty>
</lovSetProperty>
</lovSetProperty>
</lovObject>
<lowest_value></lowest_value>
<highest_value></highest_value>
<validate_value>false</validate_value>
<validate_type>true</validate_type>
<validate_group>false</validate_group>
<validate_email>false</validate_email>
<validate_not_null>false</validate_not_null>
<validate_minlength></validate_minlength>
<validate_maxlength></validate_maxlength>
<validate_regex></validate_regex>
<src></src>
<select_allowed>true</select_allowed>
<update_allowed>true</update_allowed>
<insert_allowed>true</insert_allowed>
<isCustomized>false</isCustomized>
<labelStyle></labelStyle>
<labelTitle></labelTitle>
<labelTitleKey></labelTitleKey>
<i18nLabelTitleKey></i18nLabelTitleKey>
<fieldGridSize></fieldGridSize>
<queryOperator></queryOperator>
<round_value></round_value>
<field_prefix></field_prefix>
<field_sufix></field_sufix>
<write>false</write>
<fieldSetProperty>
</fieldSetProperty>
</fieldSetProperty>
<accesskey></accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass></styleClass>
<styleId>codigo_grade</styleId>
<errorKey></errorKey>
<errorStyle></errorStyle>
<errorStyleClass></errorStyleClass>
<errorStyleId></errorStyleId>
<tabindex></tabindex>
<field_relation></field_relation>
<codeItem></codeItem>
<onmouseout></onmouseout>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<readonly>false</readonly>
<value></value>
<size>3</size>
<maxlength>22</maxlength>
</fields_item>
<fields_item>
<class>com.egen.develop.generator.form.Text</class>
<name>quantidade_pares</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Emula_itens_faturas_proformas</block_name>
<role_item></role_item>
<database_column>quantidade_pares</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs>tab0</tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left>200</left>
<top>310</top>
<z_index></z_index>
<property>quantidade_pares</property>
<label>Qtd. Pares</label>
<label_pos>Left</label_pos>
<label_bg_color></label_bg_color>
<label_fg_color></label_fg_color>
<label_size></label_size>
<label_align>start</label_align>
<label_font></label_font>
<labelPropertytext></labelPropertytext>
<label_bold>false</label_bold>
<label_italic>false</label_italic>
<justification>start</justification>
<not_null>false</not_null>
<type>java.lang.Double</type>
<validate_message></validate_message>
<validate_message_user></validate_message_user>
<case_restriction></case_restriction>
<break_line>true</break_line>
<lovObject></lovObject>
<lowest_value></lowest_value>
<highest_value></highest_value>
<validate_value>false</validate_value>
<validate_type>true</validate_type>
<validate_group>false</validate_group>
<validate_email>false</validate_email>
<validate_not_null>false</validate_not_null>
<validate_minlength></validate_minlength>
<validate_maxlength></validate_maxlength>
<validate_regex></validate_regex>
<src></src>
<select_allowed>true</select_allowed>
<update_allowed>true</update_allowed>
<insert_allowed>true</insert_allowed>
<isCustomized>false</isCustomized>
<labelStyle></labelStyle>
<labelTitle></labelTitle>
<labelTitleKey></labelTitleKey>
<i18nLabelTitleKey></i18nLabelTitleKey>
<fieldGridSize></fieldGridSize>
<queryOperator></queryOperator>
<round_value></round_value>
<field_prefix></field_prefix>
<field_sufix></field_sufix>
<write>false</write>
<fieldSetProperty>
</fieldSetProperty>
</fieldSetProperty>
<accesskey></accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass></styleClass>
<styleId>quantidade_pares</styleId>
<errorKey></errorKey>
<errorStyle></errorStyle>
<errorStyleClass></errorStyleClass>
<errorStyleId></errorStyleId>
<tabindex></tabindex>
<field_relation></field_relation>
<codeItem></codeItem>
<onmouseout></onmouseout>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<readonly>false</readonly>
<value></value>
<size>10</size>
<maxlength>15</maxlength>
</fields_item>
<fields_item>
<class>com.egen.develop.generator.form.Hidden</class>
<name>preco_unitario</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Emula_itens_faturas_proformas</block_name>
<role_item></role_item>
<database_column>preco_unitario</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs>tab0</tabs>
<format>##,##0.00</format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left>200</left>
<top>340</top>
<z_index></z_index>
<property>preco_unitario</property>
<label>Preco</label>
<label_pos>Left</label_pos>
<label_bg_color></label_bg_color>
<label_fg_color></label_fg_color>
<label_size></label_size>
<label_align>start</label_align>
<label_font></label_font>
<labelPropertytext></labelPropertytext>
<label_bold>false</label_bold>
<label_italic>false</label_italic>
<justification>start</justification>
<not_null>false</not_null>
<type>java.lang.Double</type>
<validate_message></validate_message>
<validate_message_user></validate_message_user>
<case_restriction></case_restriction>
<break_line>true</break_line>
<lovObject></lovObject>
<lowest_value></lowest_value>
<highest_value></highest_value>
<validate_value>false</validate_value>
<validate_type>true</validate_type>
<validate_group>false</validate_group>
<validate_email>false</validate_email>
<validate_not_null>false</validate_not_null>
<validate_minlength></validate_minlength>
<validate_maxlength></validate_maxlength>
<validate_regex></validate_regex>
<src></src>
<select_allowed>true</select_allowed>
<update_allowed>true</update_allowed>
<insert_allowed>true</insert_allowed>
<isCustomized>false</isCustomized>
<labelStyle></labelStyle>
<labelTitle></labelTitle>
<labelTitleKey></labelTitleKey>
<i18nLabelTitleKey></i18nLabelTitleKey>
<fieldGridSize></fieldGridSize>
<queryOperator></queryOperator>
<round_value></round_value>
<field_prefix></field_prefix>
<field_sufix></field_sufix>
<write>false</write>
<fieldSetProperty>
</fieldSetProperty>
</fieldSetProperty>
<value></value>
<codeItem></codeItem>
</fields_item>
<fields_item>
<class>com.egen.develop.generator.form.Text</class>
<name>registro_banco</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Emula_itens_faturas_proformas</block_name>
<role_item></role_item>
<database_column></database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs>tab0</tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<property>registro_banco</property>
<label>registro_banco</label>
<label_pos></label_pos>
<label_bg_color></label_bg_color>
<label_fg_color></label_fg_color>
<label_size></label_size>
<label_align></label_align>
<label_font></label_font>
<labelPropertytext></labelPropertytext>
<label_bold>false</label_bold>
<label_italic>false</label_italic>
<justification></justification>
<not_null>true</not_null>
<type>java.lang.Integer</type>
<validate_message></validate_message>
<validate_message_user></validate_message_user>
<case_restriction></case_restriction>
<break_line>true</break_line>
<lovObject></lovObject>
<lowest_value></lowest_value>
<highest_value></highest_value>
<validate_value>true</validate_value>
<validate_type>true</validate_type>
<validate_group>false</validate_group>
<validate_email>false</validate_email>
<validate_not_null>false</validate_not_null>
<validate_minlength></validate_minlength>
<validate_maxlength></validate_maxlength>
<validate_regex></validate_regex>
<src></src>
<select_allowed>true</select_allowed>
<update_allowed>true</update_allowed>
<insert_allowed>true</insert_allowed>
<isCustomized>false</isCustomized>
<labelStyle></labelStyle>
<labelTitle></labelTitle>
<labelTitleKey></labelTitleKey>
<i18nLabelTitleKey></i18nLabelTitleKey>
<fieldGridSize></fieldGridSize>
<queryOperator></queryOperator>
<round_value></round_value>
<field_prefix></field_prefix>
<field_sufix></field_sufix>
<write>false</write>
<fieldSetProperty>
</fieldSetProperty>
</fieldSetProperty>
<accesskey></accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass></styleClass>
<styleId>registro_banco</styleId>
<errorKey></errorKey>
<errorStyle></errorStyle>
<errorStyleClass></errorStyleClass>
<errorStyleId></errorStyleId>
<tabindex></tabindex>
<field_relation></field_relation>
<codeItem></codeItem>
<onmouseout></onmouseout>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<readonly>false</readonly>
<value></value>
<size>4</size>
<maxlength>4</maxlength>
</fields_item>
<fields_item>
<class>com.egen.develop.generator.form.Text</class>
<name>registro_alterado</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Emula_itens_faturas_proformas</block_name>
<role_item></role_item>
<database_column></database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs>tab0</tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<property>registro_alterado</property>
<label></label>
<label_pos></label_pos>
<label_bg_color></label_bg_color>
<label_fg_color></label_fg_color>
<label_size></label_size>
<label_align></label_align>
<label_font></label_font>
<labelPropertytext></labelPropertytext>
<label_bold>false</label_bold>
<label_italic>false</label_italic>
<justification></justification>
<not_null>false</not_null>
<type>java.lang.String</type>
<validate_message></validate_message>
<validate_message_user></validate_message_user>
<case_restriction></case_restriction>
<break_line>true</break_line>
<lovObject></lovObject>
<lowest_value></lowest_value>
<highest_value></highest_value>
<validate_value>false</validate_value>
<validate_type>false</validate_type>
<validate_group>false</validate_group>
<validate_email>false</validate_email>
<validate_not_null>false</validate_not_null>
<validate_minlength></validate_minlength>
<validate_maxlength></validate_maxlength>
<validate_regex></validate_regex>
<src></src>
<select_allowed>true</select_allowed>
<update_allowed>true</update_allowed>
<insert_allowed>true</insert_allowed>
<isCustomized>false</isCustomized>
<labelStyle></labelStyle>
<labelTitle></labelTitle>
<labelTitleKey></labelTitleKey>
<i18nLabelTitleKey></i18nLabelTitleKey>
<fieldGridSize></fieldGridSize>
<queryOperator></queryOperator>
<round_value></round_value>
<field_prefix></field_prefix>
<field_sufix></field_sufix>
<write>false</write>
<fieldSetProperty>
</fieldSetProperty>
</fieldSetProperty>
<accesskey></accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass></styleClass>
<styleId>registro_alterado</styleId>
<errorKey></errorKey>
<errorStyle></errorStyle>
<errorStyleClass></errorStyleClass>
<errorStyleId></errorStyleId>
<tabindex></tabindex>
<field_relation></field_relation>
<codeItem></codeItem>
<onmouseout></onmouseout>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<readonly>false</readonly>
<value></value>
<size></size>
<maxlength></maxlength>
</fields_item>
<fields_item>
<class>com.egen.develop.generator.form.Text</class>
<name>loja_cliente</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Emula_itens_faturas_proformas</block_name>
<role_item></role_item>
<database_column>loja_cliente</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs>tab0</tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<property>loja_cliente</property>
<label>loja_cliente</label>
<label_pos></label_pos>
<label_bg_color></label_bg_color>
<label_fg_color></label_fg_color>
<label_size></label_size>
<label_align></label_align>
<label_font></label_font>
<labelPropertytext></labelPropertytext>
<label_bold>false</label_bold>
<label_italic>false</label_italic>
<justification></justification>
<not_null>false</not_null>
<type>java.lang.String</type>
<validate_message></validate_message>
<validate_message_user></validate_message_user>
<case_restriction></case_restriction>
<break_line>true</break_line>
<lovObject></lovObject>
<lowest_value></lowest_value>
<highest_value></highest_value>
<validate_value>false</validate_value>
<validate_type>false</validate_type>
<validate_group>false</validate_group>
<validate_email>false</validate_email>
<validate_not_null>false</validate_not_null>
<validate_minlength></validate_minlength>
<validate_maxlength></validate_maxlength>
<validate_regex></validate_regex>
<src></src>
<select_allowed>true</select_allowed>
<update_allowed>true</update_allowed>
<insert_allowed>true</insert_allowed>
<isCustomized>false</isCustomized>
<labelStyle></labelStyle>
<labelTitle></labelTitle>
<labelTitleKey></labelTitleKey>
<i18nLabelTitleKey></i18nLabelTitleKey>
<fieldGridSize></fieldGridSize>
<queryOperator></queryOperator>
<round_value></round_value>
<field_prefix></field_prefix>
<field_sufix></field_sufix>
<write>false</write>
<fieldSetProperty>
</fieldSetProperty>
</fieldSetProperty>
<accesskey></accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass></styleClass>
<styleId>loja_cliente</styleId>
<errorKey></errorKey>
<errorStyle></errorStyle>
<errorStyleClass></errorStyleClass>
<errorStyleId></errorStyleId>
<tabindex></tabindex>
<field_relation></field_relation>
<codeItem></codeItem>
<onmouseout></onmouseout>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<readonly>false</readonly>
<value></value>
<size>25</size>
<maxlength>25</maxlength>
</fields_item>
<fields_item>
<class>com.egen.develop.generator.form.Text</class>
<name>descricao_erro</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Emula_itens_faturas_proformas</block_name>
<role_item></role_item>
<database_column>descricao_erro</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs>tab0</tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<property>descricao_erro</property>
<label>Descricao_erro</label>
<label_pos></label_pos>
<label_bg_color></label_bg_color>
<label_fg_color></label_fg_color>
<label_size></label_size>
<label_align></label_align>
<label_font></label_font>
<labelPropertytext></labelPropertytext>
<label_bold>false</label_bold>
<label_italic>false</label_italic>
<justification></justification>
<not_null>false</not_null>
<type>java.lang.String</type>
<validate_message></validate_message>
<validate_message_user></validate_message_user>
<case_restriction></case_restriction>
<break_line>true</break_line>
<lovObject></lovObject>
<lowest_value></lowest_value>
<highest_value></highest_value>
<validate_value>false</validate_value>
<validate_type>false</validate_type>
<validate_group>false</validate_group>
<validate_email>false</validate_email>
<validate_not_null>false</validate_not_null>
<validate_minlength></validate_minlength>
<validate_maxlength></validate_maxlength>
<validate_regex></validate_regex>
<src></src>
<select_allowed>true</select_allowed>
<update_allowed>true</update_allowed>
<insert_allowed>true</insert_allowed>
<isCustomized>false</isCustomized>
<labelStyle></labelStyle>
<labelTitle></labelTitle>
<labelTitleKey></labelTitleKey>
<i18nLabelTitleKey></i18nLabelTitleKey>
<fieldGridSize></fieldGridSize>
<queryOperator></queryOperator>
<round_value></round_value>
<field_prefix></field_prefix>
<field_sufix></field_sufix>
<write>false</write>
<fieldSetProperty>
</fieldSetProperty>
</fieldSetProperty>
<accesskey></accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass></styleClass>
<styleId>descricao_erro</styleId>
<errorKey></errorKey>
<errorStyle></errorStyle>
<errorStyleClass></errorStyleClass>
<errorStyleId></errorStyleId>
<tabindex></tabindex>
<field_relation></field_relation>
<codeItem></codeItem>
<onmouseout></onmouseout>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<readonly>false</readonly>
<value></value>
<size>300</size>
<maxlength>300</maxlength>
</fields_item>
</fields>
<buttons>
<buttons_item>
<class>com.egen.develop.generator.form.Submit</class>
<name>select1_action</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Emula_itens_faturas_proformas</block_name>
<role_item></role_item>
<database_column></database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n>ApplicationResources</i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left>200</left>
<top>430</top>
<z_index></z_index>
<value>jsp.select</value>
<accesskey>p</accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass></styleClass>
<styleId></styleId>
<tabindex></tabindex>
<bean_validate>false</bean_validate>
<src></src>
<isCustomized>false</isCustomized>
<codeItem></codeItem>
<buttonPosition></buttonPosition>
<select_clause></select_clause>
<where_clause></where_clause>
<order_by_clause></order_by_clause>
<group_by_clause></group_by_clause>
<having_clause></having_clause>
<button_db_object></button_db_object>
<triggers></triggers>
<template></template>
<action_code>public ActionForward perform_select1_action(ActionMapping mapping, ActionForm form, HttpServletRequest request, HttpServletResponse response) {
  HttpSession session = request.getSession(true);
  ActionForward actionForward = null;
  com.egen.util.jdbc.JdbcUtil j = null;
  try {
    j = new com.egen.util.jdbc.JdbcUtil();
    DynaActionForm _ge_grid = (DynaActionForm) form;
    EntPedidosActionForm[]_ge_grid_array = (EntPedidosActionForm[])_ge_grid.get("bl_form_Emula_itens_faturas_proformas_lines");
    EntPedidosActionForm f = _ge_grid_array[0];
    try {
      select1_action(j, mapping, form, request, response);
    }
    finally {
    }
    actionForward = mapping.findForward("same");
  } catch (Exception e) {
    ActionErrors errors = new ActionErrors();
    errors.add("ActionErrors.GLOBAL_ERROR_bl_form_Emula_itens_faturas_proformas", new ActionMessage("error.action.exception",com.egen.util.system.Error.getMessage(e)));
    request.setAttribute(org.apache.struts.Globals.ERROR_KEY, errors);
    session.setAttribute("exception", com.egen.util.system.Error.getDescription(e));
    actionForward = mapping.findForward("same");
  } finally {
    if (j != null) {
      j.close();
    }
  }
  return actionForward;
}
private void select1_action(JdbcUtil j, ActionMapping mapping, ActionForm form, HttpServletRequest request, HttpServletResponse response) throws Exception {
  HttpSession session = request.getSession(true);
  util.consultas.Query query = new util.consultas.Query();
  DynaActionForm _ge_grid = (DynaActionForm) form;
  EntPedidosActionForm[]_ge_grid_array = (EntPedidosActionForm[])_ge_grid.get("bl_form_Emula_itens_faturas_proformas_lines");
  EntPedidosActionForm f = _ge_grid_array[0];
  session.removeAttribute("item_invalido");
  session.removeAttribute("posicao_item_invalido");
  boolean achou_item = false;

  int quantidade_pares_corrugado = 0;
  int quantidade_pares = 0;
  int quantidade_pares_grade = 0;
  boolean erro = false;


  int total_pares = 0;
  if (f != null) {
    Emula_itens_faturas_proformas table = new Emula_itens_faturas_proformas();
    String[][] select = null;
    String[] order = null;
    String[] groupby = null;
    String[] having = null;
    Object[][] where = { {"numero_pedido","=", (String)session.getAttribute("numero_pedido") } };
    Vector res_Emula_itens_faturas_proformas = j.select(table, select, where, groupby, having, order);
    session.setAttribute("res_Emula_itens_faturas_proformas",res_Emula_itens_faturas_proformas);
    if (res_Emula_itens_faturas_proformas != null && res_Emula_itens_faturas_proformas.size() > 0) {
//------
    session.setAttribute("quantidade_itens", res_Emula_itens_faturas_proformas.size()+"");
//------
//---------------------------------------------------------------------------
        if(res_Emula_itens_faturas_proformas.size()>1){
           session.setAttribute("qtd_itens", res_Emula_itens_faturas_proformas.size()+"");
        } else { 
           session.setAttribute("qtd_itens", "1");
        }
//---------------------------------------------------------------------------

      EntPedidosActionForm[]_ge_grid_array_flex = new EntPedidosActionForm[res_Emula_itens_faturas_proformas.size()];
      org.apache.struts.config.ConfigEGenHelper.setFormPropertySize(mapping, "bl_form_Emula_itens_faturas_proformas_lines", res_Emula_itens_faturas_proformas.size());
      int _ge_pos = 0;
      for (int _ge_grid_array_index = 0; _ge_grid_array_index < _ge_grid_array_flex.length; _ge_grid_array_index++, _ge_pos++) {
        if (_ge_grid_array_index < _ge_grid_array.length) {
          f = _ge_grid_array[_ge_grid_array_index];
        } else {
          f = new EntPedidosActionForm();
          ActionServletWrapper actionServletWrapper = form.getServletWrapper();
          org.apache.struts.upload.CommonsMultipartRequestHandler commonsMultipartRequestHandler = new org.apache.struts.upload.CommonsMultipartRequestHandler();
          actionServletWrapper.setServletFor(commonsMultipartRequestHandler);
          f.setServlet(commonsMultipartRequestHandler.getServlet());
        }
        f.reset(mapping, request);
        if (res_Emula_itens_faturas_proformas.size() > _ge_pos) {
          Emula_itens_faturas_proformas r = (Emula_itens_faturas_proformas) res_Emula_itens_faturas_proformas.elementAt(_ge_pos);
          f.setNumero_pedido1((r.getNumero_pedido() != null) ? r.getNumero_pedido() + "":"");
          f.setNumero_item((r.getNumero_item() != null) ? r.getNumero_item() + "":"");
          f.setCodigo_linha((r.getCodigo_linha() != null) ? r.getCodigo_linha() + "":"");
          f.setCodigo_referencia((r.getCodigo_referencia() != null) ? r.getCodigo_referencia() + "":"");
          f.setCodigo_corrugado((r.getCodigo_corrugado() != null) ? r.getCodigo_corrugado() + "":"");
          f.setCodigo_cabedal((r.getCodigo_cabedal() != null) ? r.getCodigo_cabedal() + "":"");
          f.setDescricao_item((r.getDescricao_item() != null) ? r.getDescricao_item() + "":"");
//          f.setDescricao_erro((r.getDescricao_erro() != null) ? r.getDescricao_erro() + "":"");
          f.setCodigo_cor((r.getCodigo_cor() != null) ? r.getCodigo_cor() + "":"");
          f.setCodigo_grade((r.getCodigo_grade() != null) ? r.getCodigo_grade() + "":"");
          f.setQuantidade_pares((r.getQuantidade_pares() != null) ? com.egen.util.text.FormatNumber.format(r.getQuantidade_pares(), "0") + "":"");
          f.setPreco_unitario((r.getPreco_unitario() != null) ? com.egen.util.text.FormatNumber.format(r.getPreco_unitario(), "##,##0.00") : "");
          f.setLoja_cliente((r.getLoja_cliente() != null) ? r.getLoja_cliente() + "":"");
          total_pares += ((r.getQuantidade_pares() != null) ? r.getQuantidade_pares() :0);
          f.setRegistro_banco("s");



 if(session.getAttribute("naovalidar")==null){

       query.execute(j, "UPDATE emula_itens_faturas_proformas SET descricao_erro = null WHERE numero_pedido = "+f.getNumero_pedido1()+" AND numero_item="+f.getNumero_item());
//----------------------- VALIDACOES -----------------------------------
    if(f.getNumero_pedido1().equals("") ||
       f.getNumero_item().equals("") ||
       f.getCodigo_linha().equals("") ||
       f.getCodigo_corrugado().equals("") ||
       f.getCodigo_referencia().equals("") ||
       f.getCodigo_cabedal().equals("") ||
       f.getCodigo_cor().equals("") ||
       f.getCodigo_grade().equals("") ||
       f.getQuantidade_pares().equals("")){
          query.execute(j, "UPDATE emula_itens_faturas_proformas SET descricao_erro = '"+util.file.Bundle.getKey("ComercialResources","EntPedidosForm.informacoes_obrigatorias").replace("x",f.getNumero_item())+"' WHERE numero_pedido = "+f.getNumero_pedido1()+" AND numero_item="+f.getNumero_item());
          erro = true;
       }
       if(!erro){
          quantidade_pares = Integer.parseInt(f.getQuantidade_pares());
          if(quantidade_pares<1){
             query.execute(j, "UPDATE emula_itens_faturas_proformas SET descricao_erro = '"+util.file.Bundle.getKey("ComercialResources","EntPedidosForm.quantidade_pares").replace("x",f.getNumero_item())+"' WHERE numero_pedido = "+f.getNumero_pedido1()+" AND numero_item="+f.getNumero_item());
             erro = true;
          }
       }
//---- Valida Linha --------------------------------------------
    if(!erro){
       StringBuilder sbl = new StringBuilder();
       sbl.append(" SELECT lin_cdgo ");
       sbl.append("   FROM lin ");
       sbl.append("  WHERE (1=1 or situacao = 'A') ");
       sbl.append("    AND lin_cdgo ="+f.getCodigo_linha());
       String linha = query.retorna(j, sbl.toString());
       if(linha.equals("")){
          query.execute(j, "UPDATE emula_itens_faturas_proformas SET descricao_erro = '"+util.file.Bundle.getKey("ComercialResources","EntPedidosForm.linha_invalida_item").replace("x",f.getNumero_item())+"' WHERE numero_pedido = "+f.getNumero_pedido1()+" AND numero_item="+f.getNumero_item());
          erro = true;
       }
    }
//---- Valida Referência ---------------------------------------
    if(!erro){
       StringBuilder sbr = new StringBuilder();
       sbr.append(" SELECT ref_cdgo ");
       sbr.append("   FROM ref ");
       sbr.append("  WHERE lin_cdgo = "+f.getCodigo_linha());
       sbr.append("    AND (1=1 or ref_status = 'A') ");
       sbr.append("    AND ref_cdgo = "+f.getCodigo_referencia());
       sbr.append("    AND ROWNUM = 1 ");
       String referencia = query.retorna(j, sbr.toString());
       if(referencia.equals("")){
          query.execute(j, "UPDATE emula_itens_faturas_proformas SET descricao_erro = '"+util.file.Bundle.getKey("ComercialResources","EntPedidosForm.referencia_invalida_item").replace("x",f.getNumero_item())+"' WHERE numero_pedido = "+f.getNumero_pedido1()+" AND numero_item="+f.getNumero_item());
          erro = true;
       }
    }
//---- Valida Corrugado ---------------------------------------
    if(!erro){
       StringBuilder sbco = new StringBuilder();
       sbco.append(" SELECT qt_par_corrug ");
       sbco.append("   FROM peso_corrugados ");
       sbco.append("  WHERE lin_cdgo = "+f.getCodigo_linha());
       sbco.append("    AND ref_cdgo = "+f.getCodigo_referencia());
       sbco.append("    AND codigo_corrug= "+f.getCodigo_corrugado());
       sbco.append("    AND ROWNUM =1 ");
       String corrugado = query.retorna(j, sbco.toString());
       if(corrugado.equals("")){
          query.execute(j, "UPDATE emula_itens_faturas_proformas SET descricao_erro = '"+util.file.Bundle.getKey("ComercialResources","EntPedidosForm.corrugado_invalido_item").replace("x",f.getNumero_item())+"' WHERE numero_pedido = "+f.getNumero_pedido1()+" AND numero_item="+f.getNumero_item());
          erro = true;
       }
       quantidade_pares_corrugado = Integer.parseInt(corrugado);
    }
//---- Valida Cabedal ------------------------------------------
    if(!erro){
       StringBuilder sbc = new StringBuilder();
       sbc.append(" SELECT rcab.cab_cdgo ");
       sbc.append("   FROM ref_cab rcab ");
       sbc.append("      , dom_item_estoque dies ");
       sbc.append("      , cabedal cabe ");
       sbc.append("  WHERE dies.lin_cdgo = rcab.lin_cdgo ");
       sbc.append("    AND dies.ref_cdgo = rcab.ref_cdgo ");
       sbc.append("    AND dies.cab_cdgo = rcab.cab_cdgo ");
       sbc.append("    AND cabe.cab_cdgo = rcab.cab_cdgo ");
       sbc.append("    AND (1=2 or rcab.rfb_status = 'A') ");
       sbc.append("    AND rcab.lin_cdgo = "+f.getCodigo_linha());
       sbc.append("    AND rcab.ref_cdgo = "+f.getCodigo_referencia());
       sbc.append("    AND rcab.cab_cdgo = "+f.getCodigo_cabedal());
       sbc.append("    AND ROWNUM = 1 ");
       String cabedal = query.retorna(j, sbc.toString());
       if(cabedal.equals("")){
          query.execute(j, "UPDATE emula_itens_faturas_proformas SET descricao_erro = '"+util.file.Bundle.getKey("ComercialResources","EntPedidosForm.cabedal_invalido_item").replace("x",f.getNumero_item())+"' WHERE numero_pedido = "+f.getNumero_pedido1()+" AND numero_item="+f.getNumero_item());
          erro = true;
       }
    }
//---- Valida Cor-----------------------------------------------
    if(!erro){
       StringBuilder sbo = new StringBuilder();
       sbo.append(" SELECT rcor.cor_cdgo ");
       sbo.append("   FROM ref_cor rcor ");
       sbo.append("       ,cor cors ");
       sbo.append("  WHERE cors.cor_cdgo = rcor.cor_cdgo ");
       sbo.append("    AND (1=2 or rcor.rfc_status = 'A') ");
       sbo.append("    AND rcor.lin_cdgo = "+f.getCodigo_linha());
       sbo.append("    AND rcor.ref_cdgo = "+f.getCodigo_referencia());
       sbo.append("    AND rcor.cab_cdgo = "+f.getCodigo_cabedal());
       sbo.append("    AND rcor.cor_cdgo = "+f.getCodigo_cor());
       sbo.append("    AND ROWNUM = 1 ");
       String cor = query.retorna(j, sbo.toString());
       if(cor.equals("")){
          query.execute(j, "UPDATE emula_itens_faturas_proformas SET descricao_erro = '"+util.file.Bundle.getKey("ComercialResources","EntPedidosForm.cor_invalida_item").replace("x",f.getNumero_item())+"' WHERE numero_pedido = "+f.getNumero_pedido1()+" AND numero_item="+f.getNumero_item());
          erro = true;
       }
    }
//---- Valida Grade ---------------------------------------------
    if(!erro){
       StringBuilder sbg = new StringBuilder();
       sbg.append(" SELECT rgde.gde_cdgo ");
       sbg.append("   FROM ref_gde rgde ");
       sbg.append("      , gre grde ");
       sbg.append("  WHERE grde.gde_cdgo = rgde.gde_cdgo ");
       sbg.append("    AND (1=1 or rgde.rfg_status = 'A') ");
       sbg.append("    AND rgde.lin_cdgo = "+f.getCodigo_linha());
       sbg.append("    AND rgde.ref_cdgo = "+f.getCodigo_referencia());
       sbg.append("    AND rgde.gde_cdgo = "+f.getCodigo_grade());
       sbg.append("    AND rownum = 1 ");
       String grade = query.retorna(j, sbg.toString());
       if(grade.equals("")){
          if(!f.getCodigo_grade().equals("99")){
             query.execute(j, "UPDATE emula_itens_faturas_proformas SET descricao_erro = '"+util.file.Bundle.getKey("ComercialResources","EntPedidosForm.grade_invalida_item").replace("x",f.getNumero_item())+"' WHERE numero_pedido = "+f.getNumero_pedido1()+" AND numero_item="+f.getNumero_item());
             erro = true;
          }
       } else {	
          quantidade_pares_grade = Integer.parseInt(query.retorna(j, "SELECT gde_tota FROM gre where gde_cdgo = "+f.getCodigo_grade()));
       }
    }
//----------------------------------------------------------------------
    if(!erro){    
       if(!(f.getCodigo_grade().equals("99"))){
          StringBuilder v1 = new StringBuilder();
          v1.append(" SELECT 1 ");
          v1.append("   FROM peso_corrugados p ");
          v1.append("      , gre g" );
          v1.append("  where p.codigo_corrug = "+f.getCodigo_corrugado());
          v1.append("    AND p.lin_cdgo = "+f.getCodigo_linha());
          v1.append("    and p.ref_cdgo = "+f.getCodigo_referencia());
          v1.append("    AND g.gde_cdgo = "+f.getCodigo_grade());
          v1.append("    AND mod(qt_par_corrug, g.gde_tota) = 0 ");
          String v_erro = query.retorna(j,v1.toString());
          if(v_erro.equals("")){
             query.execute(j, "UPDATE emula_itens_faturas_proformas SET descricao_erro = 'Quantidade da grade não é múltipla do corrugado!' WHERE numero_pedido = "+f.getNumero_pedido1()+" AND numero_item="+f.getNumero_item());
             erro = true;
          }
       }
    }

    if(!erro){
       if(!f.getCodigo_grade().equals("99")){
          if ((quantidade_pares % quantidade_pares_grade)!=0){
             query.execute(j, "UPDATE emula_itens_faturas_proformas SET descricao_erro = 'Quantidade não é múltipla da grade!' WHERE numero_pedido = "+f.getNumero_pedido1()+" AND numero_item="+f.getNumero_item());
             erro = true;
          }
       }
    }

    if(!erro){
       if(f.getCodigo_grade().equals("99")){
         if((quantidade_pares % quantidade_pares_corrugado) != 0) {
             query.execute(j, "UPDATE emula_itens_faturas_proformas SET descricao_erro = 'Quantidade não é múltipla do corrugado!' WHERE numero_pedido = "+f.getNumero_pedido1()+" AND numero_item="+f.getNumero_item());
             erro = true;
         }
       }
    }



    if(!erro){
          
         int qtd = 0;
         qtd = Integer.parseInt(query.retorna(j, "SELECT nvl(SUM(quantidade_pares),0) FROM emula_grades_itens_proformas WHERE numero_pedido = "+f.getNumero_pedido1()+" AND numero_item="+f.getNumero_item()));
         if(qtd==0) {
             query.execute(j, "UPDATE emula_itens_faturas_proformas SET descricao_erro = 'Grade não preenchida!' WHERE numero_pedido = "+f.getNumero_pedido1()+" AND numero_item="+f.getNumero_item());
             erro = true;
         }
    }

}
//----------------------------------------------------------------------


//----------------
          if(!achou_item){
             if(f.getQuantidade_pares().equals("")){
                session.setAttribute("item_invalido", f.getNumero_item());
                achou_item = true;
             }
             if(f.getCodigo_grade().equals("")){
                session.setAttribute("posicao_item_invalido", _ge_pos+"");
                achou_item = true;
             }
          }

//-----------------

        } else {
          f.reset(mapping, request);
        }
        _ge_grid_array_flex[_ge_grid_array_index] = f;
      }
      _ge_grid.set("bl_form_Emula_itens_faturas_proformas_lines", _ge_grid_array_flex);
    } else {
      ActionErrors errors = (ActionErrors) request.getAttribute(org.apache.struts.Globals.ERROR_KEY);
      if (errors == null) {
        errors = new ActionErrors();
      }
      errors.add("ActionErrors.GLOBAL_ERROR_bl_form_Emula_itens_faturas_proformas", new ActionMessage("warn.norowsselected",""));
      request.setAttribute(org.apache.struts.Globals.ERROR_KEY, errors);
    }


  if(erro){
    session.setAttribute("pedido_tem_erros", "s");
    res_Emula_itens_faturas_proformas = j.select(table, select, where, groupby, having, order);
    session.setAttribute("res_Emula_itens_faturas_proformas",res_Emula_itens_faturas_proformas);
  }

    session.removeAttribute("naovalidar");

    session.setAttribute(mapping.getName(), form);
    session.setAttribute("total_pares", total_pares+"");
  }
}</action_code>
<property>select1_action</property>
<forward>same</forward>
<forward_error>same</forward_error>
<baseButtonSetProperty>
</baseButtonSetProperty>
</baseButtonSetProperty>
</buttons_item>
<buttons_item>
<class>com.egen.develop.generator.form.Submit</class>
<name>insert1_action</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Emula_itens_faturas_proformas</block_name>
<role_item></role_item>
<database_column></database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n>ApplicationResources</i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left>260</left>
<top>430</top>
<z_index></z_index>
<value>jsp.insert</value>
<accesskey>i</accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass></styleClass>
<styleId></styleId>
<tabindex></tabindex>
<bean_validate>true</bean_validate>
<src></src>
<isCustomized>false</isCustomized>
<codeItem></codeItem>
<buttonPosition></buttonPosition>
<select_clause></select_clause>
<where_clause></where_clause>
<order_by_clause></order_by_clause>
<group_by_clause></group_by_clause>
<having_clause></having_clause>
<button_db_object></button_db_object>
<triggers>
<triggers_item>
<class>com.egen.develop.generator.form.Trigger</class>
<name>tg_insert1_action</name>
<type>pos</type>
<connectionType></connectionType>
<transact>true</transact>
<businessProcess></businessProcess>
<triggerTemplate></triggerTemplate>
<triggerCode>private void tg_insert1_action(ActionMapping mapping, ActionForm form, HttpServletRequest request, HttpServletResponse response) throws Exception {
  HttpSession session = request.getSession(true);
  try {
    DynaActionForm _ge_grid = (DynaActionForm) form;
    EntPedidosActionForm[]_ge_grid_array = (EntPedidosActionForm[])_ge_grid.get("bl_form_Emula_itens_faturas_proformas_lines");
    EntPedidosActionForm f = _ge_grid_array[0];
    session.removeAttribute("itens_adicionados");
    session.setAttribute(mapping.getName(), form);
  } catch (Exception e) {
    throw e;
  } finally {
  }
}

</triggerCode>
<develHelp></develHelp>
<triggerSetProperty>
</triggerSetProperty>
</triggerSetProperty>
</triggers_item>
</triggers>
<template></template>
<action_code>public ActionForward perform_insert1_action(ActionMapping mapping, ActionForm form, HttpServletRequest request, HttpServletResponse response) {
  HttpSession session = request.getSession(true);
  ActionForward actionForward = null;
  com.egen.util.jdbc.JdbcUtil j = null;
  try {
    j = new com.egen.util.jdbc.JdbcUtil();
    DynaActionForm _ge_grid = (DynaActionForm) form;
    EntPedidosActionForm[]_ge_grid_array = (EntPedidosActionForm[])_ge_grid.get("bl_form_Emula_itens_faturas_proformas_lines");
    EntPedidosActionForm f = _ge_grid_array[0];
    try {
      insert1_action(j, mapping, form, request, response);
      tg_insert1_action(mapping, form, request, response);
    }
    finally {
    }
    actionForward = new ActionForward("/com/EntPedidosForm.do?select_action=&numero_pedido="+(String)session.getAttribute("numero_pedido"),true);
  } catch (Exception e) {
    ActionErrors errors = new ActionErrors();
    errors.add("ActionErrors.GLOBAL_ERROR_bl_form_Emula_itens_faturas_proformas", new ActionMessage("error.action.exception",com.egen.util.system.Error.getMessage(e)));
    request.setAttribute(org.apache.struts.Globals.ERROR_KEY, errors);
    session.setAttribute("exception", com.egen.util.system.Error.getDescription(e));
    actionForward = mapping.findForward("same");
  } finally {
    if (j != null) {
      j.close();
    }
  }
  return actionForward;
}
private void insert1_action(JdbcUtil j, ActionMapping mapping, ActionForm form, HttpServletRequest request, HttpServletResponse response) throws Exception {

  HttpSession session = request.getSession(true);
  DynaActionForm _ge_grid = (DynaActionForm) form;
  acesso.Sessao sessao = new acesso.Sessao(session);
  util.consultas.Query query = new util.consultas.Query();
  boolean erro = false;
  EntPedidosActionForm[]_ge_grid_array = (EntPedidosActionForm[])_ge_grid.get("bl_form_Emula_itens_faturas_proformas_lines");
  EntPedidosActionForm f = _ge_grid_array[0];
  int quantidade_pares_corrugado = 0;
  int quantidade_pares = 0;
  int quantidade_pares_grade = 0;
  session.setAttribute("inseriu_item","s");
  session.removeAttribute("pedido_tem_erros");
  for (int _ge_grid_array_index = 0; _ge_grid_array_index < _ge_grid_array.length; _ge_grid_array_index++) {
    f = _ge_grid_array[_ge_grid_array_index];
    if(f.getRegistro_banco().equals("s")){
      erro = false;
      query.execute(j, "UPDATE emula_itens_faturas_proformas SET descricao_erro = null WHERE numero_pedido = "+f.getNumero_pedido1()+" AND numero_item="+f.getNumero_item());
//----------------------- VALIDACOES -----------------------------------
    if(f.getNumero_pedido1().equals("") ||
       f.getNumero_item().equals("") ||
       f.getCodigo_linha().equals("") ||
       f.getCodigo_corrugado().equals("") ||
       f.getCodigo_referencia().equals("") ||
       f.getCodigo_cabedal().equals("") ||
       f.getCodigo_cor().equals("") ||
       f.getCodigo_grade().equals("") ||
       f.getQuantidade_pares().equals("")){
          query.execute(j, "UPDATE emula_itens_faturas_proformas SET descricao_erro = '"+util.file.Bundle.getKey("ComercialResources","EntPedidosForm.informacoes_obrigatorias").replace("x",f.getNumero_item())+"' WHERE numero_pedido = "+f.getNumero_pedido1()+" AND numero_item="+f.getNumero_item());
          erro = true;
       }
       if(!erro){
          quantidade_pares = Integer.parseInt(f.getQuantidade_pares());
          if(quantidade_pares<1){
             query.execute(j, "UPDATE emula_itens_faturas_proformas SET descricao_erro = '"+util.file.Bundle.getKey("ComercialResources","EntPedidosForm.quantidade_pares").replace("x",f.getNumero_item())+"' WHERE numero_pedido = "+f.getNumero_pedido1()+" AND numero_item="+f.getNumero_item());
             erro = true;
          }
       }
//---- Valida Linha --------------------------------------------
    if(!erro){
       StringBuilder sbl = new StringBuilder();
       sbl.append(" SELECT lin_cdgo ");
       sbl.append("   FROM lin ");
       sbl.append("  WHERE (1=1 or situacao = 'A') ");
       sbl.append("    AND lin_cdgo ="+f.getCodigo_linha());
       String linha = query.retorna(j, sbl.toString());
       if(linha.equals("")){
          query.execute(j, "UPDATE emula_itens_faturas_proformas SET descricao_erro = '"+util.file.Bundle.getKey("ComercialResources","EntPedidosForm.linha_invalida_item").replace("x",f.getNumero_item())+"' WHERE numero_pedido = "+f.getNumero_pedido1()+" AND numero_item="+f.getNumero_item());
          erro = true;
       }
    }
//---- Valida Referência ---------------------------------------
    if(!erro){
       StringBuilder sbr = new StringBuilder();
       sbr.append(" SELECT ref_cdgo ");
       sbr.append("   FROM ref ");
       sbr.append("  WHERE lin_cdgo = "+f.getCodigo_linha());
       sbr.append("    AND (1=1 or ref_status = 'A') ");
       sbr.append("    AND ref_cdgo = "+f.getCodigo_referencia());
       sbr.append("    AND ROWNUM = 1 ");
       String referencia = query.retorna(j, sbr.toString());
       if(referencia.equals("")){
          query.execute(j, "UPDATE emula_itens_faturas_proformas SET descricao_erro = '"+util.file.Bundle.getKey("ComercialResources","EntPedidosForm.referencia_invalida_item").replace("x",f.getNumero_item())+"' WHERE numero_pedido = "+f.getNumero_pedido1()+" AND numero_item="+f.getNumero_item());
          erro = true;
       }
    }
//---- Valida Corrugado ---------------------------------------
    if(!erro){
       StringBuilder sbco = new StringBuilder();
       sbco.append(" SELECT qt_par_corrug ");
       sbco.append("   FROM peso_corrugados ");
       sbco.append("  WHERE lin_cdgo = "+f.getCodigo_linha());
       sbco.append("    AND ref_cdgo = "+f.getCodigo_referencia());
       sbco.append("    AND codigo_corrug= "+f.getCodigo_corrugado());
       sbco.append("    AND ROWNUM =1 ");
       String corrugado = query.retorna(j, sbco.toString());
       if(corrugado.equals("")){
          query.execute(j, "UPDATE emula_itens_faturas_proformas SET descricao_erro = '"+util.file.Bundle.getKey("ComercialResources","EntPedidosForm.corrugado_invalido_item").replace("x",f.getNumero_item())+"' WHERE numero_pedido = "+f.getNumero_pedido1()+" AND numero_item="+f.getNumero_item());
          erro = true;
       }
       quantidade_pares_corrugado = Integer.parseInt(corrugado);
    }
//---- Valida Cabedal ------------------------------------------
    if(!erro){
       StringBuilder sbc = new StringBuilder();
       sbc.append(" SELECT rcab.cab_cdgo ");
       sbc.append("   FROM ref_cab rcab ");
       sbc.append("      , dom_item_estoque dies ");
       sbc.append("      , cabedal cabe ");
       sbc.append("  WHERE dies.lin_cdgo = rcab.lin_cdgo ");
       sbc.append("    AND dies.ref_cdgo = rcab.ref_cdgo ");
       sbc.append("    AND dies.cab_cdgo = rcab.cab_cdgo ");
       sbc.append("    AND cabe.cab_cdgo = rcab.cab_cdgo ");
       sbc.append("    AND (1=2 or rcab.rfb_status = 'A') ");
       sbc.append("    AND rcab.lin_cdgo = "+f.getCodigo_linha());
       sbc.append("    AND rcab.ref_cdgo = "+f.getCodigo_referencia());
       sbc.append("    AND rcab.cab_cdgo = "+f.getCodigo_cabedal());
       sbc.append("    AND ROWNUM = 1 ");
       String cabedal = query.retorna(j, sbc.toString());
       if(cabedal.equals("")){
          query.execute(j, "UPDATE emula_itens_faturas_proformas SET descricao_erro = '"+util.file.Bundle.getKey("ComercialResources","EntPedidosForm.cabedal_invalido_item").replace("x",f.getNumero_item())+"' WHERE numero_pedido = "+f.getNumero_pedido1()+" AND numero_item="+f.getNumero_item());
          erro = true;
       }
    }
//---- Valida Cor-----------------------------------------------
    if(!erro){
       StringBuilder sbo = new StringBuilder();
       sbo.append(" SELECT rcor.cor_cdgo ");
       sbo.append("   FROM ref_cor rcor ");
       sbo.append("       ,cor cors ");
       sbo.append("  WHERE cors.cor_cdgo = rcor.cor_cdgo ");
       sbo.append("    AND (1=2 or rcor.rfc_status = 'A') ");
       sbo.append("    AND rcor.lin_cdgo = "+f.getCodigo_linha());
       sbo.append("    AND rcor.ref_cdgo = "+f.getCodigo_referencia());
       sbo.append("    AND rcor.cab_cdgo = "+f.getCodigo_cabedal());
       sbo.append("    AND rcor.cor_cdgo = "+f.getCodigo_cor());
       sbo.append("    AND ROWNUM = 1 ");
       String cor = query.retorna(j, sbo.toString());
       if(cor.equals("")){
          query.execute(j, "UPDATE emula_itens_faturas_proformas SET descricao_erro = '"+util.file.Bundle.getKey("ComercialResources","EntPedidosForm.cor_invalida_item").replace("x",f.getNumero_item())+"' WHERE numero_pedido = "+f.getNumero_pedido1()+" AND numero_item="+f.getNumero_item());
          erro = true;
       }
    }
//---- Valida Grade ---------------------------------------------
    if(!erro){
       StringBuilder sbg = new StringBuilder();
       sbg.append(" SELECT rgde.gde_cdgo ");
       sbg.append("   FROM ref_gde rgde ");
       sbg.append("      , gre grde ");
       sbg.append("  WHERE grde.gde_cdgo = rgde.gde_cdgo ");
       sbg.append("    AND (1=1 or rgde.rfg_status = 'A') ");
       sbg.append("    AND rgde.lin_cdgo = "+f.getCodigo_linha());
       sbg.append("    AND rgde.ref_cdgo = "+f.getCodigo_referencia());
       sbg.append("    AND rgde.gde_cdgo = "+f.getCodigo_grade());
       sbg.append("    AND rownum = 1 ");
       String grade = query.retorna(j, sbg.toString());
       if(grade.equals("")){
          if(!f.getCodigo_grade().equals("99")){
             query.execute(j, "UPDATE emula_itens_faturas_proformas SET descricao_erro = '"+util.file.Bundle.getKey("ComercialResources","EntPedidosForm.grade_invalida_item").replace("x",f.getNumero_item())+"' WHERE numero_pedido = "+f.getNumero_pedido1()+" AND numero_item="+f.getNumero_item());
             erro = true;
          }
       } else {	
          quantidade_pares_grade = Integer.parseInt(query.retorna(j, "SELECT gde_tota FROM gre where gde_cdgo = "+f.getCodigo_grade()));
       }
    }
//----------------------------------------------------------------------
    if(!erro){    
       if(!(f.getCodigo_grade().equals("99"))){
          StringBuilder v1 = new StringBuilder();
          v1.append(" SELECT 1 ");
          v1.append("   FROM peso_corrugados p ");
          v1.append("      , gre g" );
          v1.append("  where p.codigo_corrug = "+f.getCodigo_corrugado());
          v1.append("    AND p.lin_cdgo = "+f.getCodigo_linha());
          v1.append("    and p.ref_cdgo = "+f.getCodigo_referencia());
          v1.append("    AND g.gde_cdgo = "+f.getCodigo_grade());
          v1.append("    AND mod(qt_par_corrug, g.gde_tota) = 0 ");
          String v_erro = query.retorna(j,v1.toString());
          if(v_erro.equals("")){
             query.execute(j, "UPDATE emula_itens_faturas_proformas SET descricao_erro = 'Quantidade da grade não é múltipla do corrugado!' WHERE numero_pedido = "+f.getNumero_pedido1()+" AND numero_item="+f.getNumero_item());
             erro = true;
          }
       }
    }

    if(!erro){
       if(!f.getCodigo_grade().equals("99")){
          if ((quantidade_pares % quantidade_pares_grade)!=0){
             query.execute(j, "UPDATE emula_itens_faturas_proformas SET descricao_erro = 'Quantidade não é múltipla da grade!' WHERE numero_pedido = "+f.getNumero_pedido1()+" AND numero_item="+f.getNumero_item());
             erro = true;
          }
       }
    }

    if(!erro){
       if(f.getCodigo_grade().equals("99")){
         if((quantidade_pares % quantidade_pares_corrugado) != 0) {
             query.execute(j, "UPDATE emula_itens_faturas_proformas SET descricao_erro = 'Quantidade não é múltipla do corrugado!' WHERE numero_pedido = "+f.getNumero_pedido1()+" AND numero_item="+f.getNumero_item());
             erro = true;
         }
       }
    }



    if(!erro){
         int qtd = 0;
         qtd = Integer.parseInt(query.retorna(j, "SELECT nvl(SUM(quantidade_pares),0) FROM emula_grades_itens_proformas WHERE numero_pedido = "+f.getNumero_pedido1()+" AND numero_item="+f.getNumero_item()));
         if(qtd==0) {
             query.execute(j, "UPDATE emula_itens_faturas_proformas SET descricao_erro = 'Grade não preenchida!' WHERE numero_pedido = "+f.getNumero_pedido1()+" AND numero_item="+f.getNumero_item());
             erro = true;
         }
    }

//----------------------------------------------------------------------
      try {

      Emula_itens_faturas_proformas table = new Emula_itens_faturas_proformas();
      Vector sets = new Vector(10, 2);
      table.setNumero_pedido(com.egen.util.text.FormatNumber.parseIntegerWrapper(f.getNumero_pedido1()));
      if (f.getNumero_pedido1() != null) {
        sets.addElement("numero_pedido");
      }
      table.setNumero_item(com.egen.util.text.FormatNumber.parseIntegerWrapper(f.getNumero_item()));
      if (f.getNumero_item() != null) {
        sets.addElement("numero_item");
      }
      table.setCodigo_linha(com.egen.util.text.FormatNumber.parseIntegerWrapper(f.getCodigo_linha()));
      if (f.getCodigo_linha() != null) {
        sets.addElement("codigo_linha");
      }
      table.setCodigo_referencia(com.egen.util.text.FormatNumber.parseIntegerWrapper(f.getCodigo_referencia()));
      if (f.getCodigo_referencia() != null) {
        sets.addElement("codigo_referencia");
      }
      table.setCodigo_cabedal(com.egen.util.text.FormatNumber.parseIntegerWrapper(f.getCodigo_cabedal()));
      if (f.getCodigo_cabedal() != null) {
        sets.addElement("codigo_cabedal");
      }
      table.setDescricao_item(f.getDescricao_item());
      if (f.getDescricao_item() != null) {
        sets.addElement("descricao_item");
      }
      table.setCodigo_cor(com.egen.util.text.FormatNumber.parseIntegerWrapper(f.getCodigo_cor()));
      if (f.getCodigo_cor() != null) {
        sets.addElement("codigo_cor");
      }
      table.setCodigo_grade(com.egen.util.text.FormatNumber.parseIntegerWrapper(f.getCodigo_grade()));
      if (f.getCodigo_grade() != null) {
        sets.addElement("codigo_grade");
      }
      table.setQuantidade_pares(com.egen.util.text.FormatNumber.parseDoubleWrapper(f.getQuantidade_pares()));
      if (f.getQuantidade_pares() != null) {
        sets.addElement("quantidade_pares");
      }
      table.setLoja_cliente(f.getLoja_cliente());
      if (f.getLoja_cliente() != null) {
        sets.addElement("loja_cliente");
      }
      table.setPreco_unitario(com.egen.util.text.FormatNumber.parseDoubleWrapper(f.getPreco_unitario()));
      if (f.getPreco_unitario() != null) {
        sets.addElement("preco_unitario");
      }
      table.setCodigo_corrugado(com.egen.util.text.FormatNumber.parseIntegerWrapper(f.getCodigo_corrugado()));
      if (f.getCodigo_corrugado() != null) {
        sets.addElement("codigo_corrugado");
      }
      if (sets != null && sets.size() > 0) {
        String[] set = new String[sets.size()];
        for (int i = 0; i < sets.size(); i++) {
          set[i] = (String) sets.elementAt(i);
        }
        int updated = j.update(table, set);
//---------- Atualiza Grade -------------------------------
        if(!(f.getCodigo_grade().equals("99"))){
           query.execute(j, "delete wbrio.tmp_generic_table_brportal WHERE varchar_column1 = '"+sessao.getUsuario()+"' AND varchar_column2 = '"+f.getNumero_pedido1()+"' AND varchar_column3 = '"+f.getNumero_item()+"'"); 
        }
        String existe = "";
	existe = query.retorna(j, "select 's' from wbrio.tmp_generic_table_brportal WHERE varchar_column1 = '"+sessao.getUsuario()+"' AND varchar_column2 = '"+f.getNumero_pedido1()+"' AND varchar_column3 = '"+f.getNumero_item()+"' AND ROWNUM = 1");

	if(existe.equals("s") ){
           query.execute(j, "DELETE emula_grades_itens_proformas WHERE numero_pedido = "+f.getNumero_pedido1()+" AND numero_item = "+f.getNumero_item());
           StringBuilder sb = new StringBuilder();
           sb.append(" INSERT INTO emula_grades_itens_proformas (  ");
           sb.append("      SELECT varchar_column2 ");
           sb.append("           , varchar_column3 ");
           sb.append("           , varchar_column4 ");
           sb.append("           , varchar_column5 ");
           sb.append("        FROM wbrio.tmp_generic_table_brportal ");
           sb.append("       WHERE varchar_column1 = '"+sessao.getUsuario()+"'");
           sb.append("         AND varchar_column2 = '"+f.getNumero_pedido1()+"'");
           sb.append("         AND varchar_column3 = '"+f.getNumero_item()+"')");
   	   query.execute(j, sb.toString());
	} else if(!(f.getCodigo_grade().equals("99"))) {
           query.execute(j, "DELETE emula_grades_itens_proformas WHERE numero_pedido = "+f.getNumero_pedido1()+" AND numero_item = "+f.getNumero_item());
           StringBuilder sb = new StringBuilder();
           sb.append(" INSERT INTO emula_grades_itens_proformas ( ");
           sb.append("          SELECT "+f.getNumero_pedido1());
           sb.append(" 		   , "+f.getNumero_item());
           sb.append(" 		   , q.qtd_nume ");
           sb.append(" 		   , q.qtd_pars ");
           sb.append(" 	        FROM qtd q ");
           sb.append("           WHERE q.gde_cdgo = "+f.getCodigo_grade()+")");
     	   query.execute(j, sb.toString());
        }
//---------------------------------------------------------		
        if (updated == 0) {
          ActionErrors errors = new ActionErrors();
          errors.add("ActionErrors.GLOBAL_ERROR_bl_form_Emula_itens_faturas_proformas", new ActionMessage("warn.norowsupdated",": " + updated));
          request.setAttribute(org.apache.struts.Globals.ERROR_KEY, errors);
        } 
      }	
   } catch (Exception e) { }
}
	
   if(erro){
      session.setAttribute("pedido_tem_erros", "s");
   }
	
  } // LOOP REGISTROS

}


</action_code>
<property>insert1_action</property>
<forward>same</forward>
<forward_error>same</forward_error>
<baseButtonSetProperty>
</baseButtonSetProperty>
</baseButtonSetProperty>
</buttons_item>
<buttons_item>
<class>com.egen.develop.generator.form.Submit</class>
<name>update1_action</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Emula_itens_faturas_proformas</block_name>
<role_item></role_item>
<database_column></database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n>ApplicationResources</i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left>320</left>
<top>430</top>
<z_index></z_index>
<value>jsp.update</value>
<accesskey>a</accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass></styleClass>
<styleId></styleId>
<tabindex></tabindex>
<bean_validate>true</bean_validate>
<src></src>
<isCustomized>false</isCustomized>
<codeItem></codeItem>
<buttonPosition></buttonPosition>
<select_clause></select_clause>
<where_clause></where_clause>
<order_by_clause></order_by_clause>
<group_by_clause></group_by_clause>
<having_clause></having_clause>
<button_db_object></button_db_object>
<triggers></triggers>
<template>update_button_action</template>
<action_code></action_code>
<property>update1_action</property>
<forward>same</forward>
<forward_error>same</forward_error>
<baseButtonSetProperty>
</baseButtonSetProperty>
</baseButtonSetProperty>
</buttons_item>
<buttons_item>
<class>com.egen.develop.generator.form.Submit</class>
<name>delete1_action</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Emula_itens_faturas_proformas</block_name>
<role_item></role_item>
<database_column></database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n>ApplicationResources</i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left>380</left>
<top>430</top>
<z_index></z_index>
<value>jsp.delete</value>
<accesskey>a</accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass></styleClass>
<styleId></styleId>
<tabindex></tabindex>
<bean_validate>true</bean_validate>
<src></src>
<isCustomized>false</isCustomized>
<codeItem></codeItem>
<buttonPosition></buttonPosition>
<select_clause></select_clause>
<where_clause></where_clause>
<order_by_clause></order_by_clause>
<group_by_clause></group_by_clause>
<having_clause></having_clause>
<button_db_object></button_db_object>
<triggers></triggers>
<template></template>
<action_code>public ActionForward perform_delete1_action(ActionMapping mapping, ActionForm form, HttpServletRequest request, HttpServletResponse response) {
  HttpSession session = request.getSession(true);
  ActionForward actionForward = null;
  com.egen.util.jdbc.JdbcUtil j = null;
  try {
    j = new com.egen.util.jdbc.JdbcUtil();
    DynaActionForm _ge_grid = (DynaActionForm) form;
    EntPedidosActionForm[]_ge_grid_array = (EntPedidosActionForm[])_ge_grid.get("bl_form_Emula_itens_faturas_proformas_lines");
    EntPedidosActionForm f = _ge_grid_array[0];
    try {
      delete1_action(j, mapping, form, request, response);
    }
    finally {
    }
//    actionForward = mapping.findForward("same");
    actionForward = new ActionForward("/com/EntPedidosForm.do?select_action=&numero_pedido="+(String)session.getAttribute("numero_pedido"),true);
  } catch (Exception e) {
    ActionErrors errors = new ActionErrors();
    errors.add("ActionErrors.GLOBAL_ERROR_bl_form_Emula_itens_faturas_proformas", new ActionMessage("error.action.exception",com.egen.util.system.Error.getMessage(e)));
    request.setAttribute(org.apache.struts.Globals.ERROR_KEY, errors);
    session.setAttribute("exception", com.egen.util.system.Error.getDescription(e));
    actionForward = mapping.findForward("same");
  } finally {
    if (j != null) {
      j.close();
    }
  }
  return actionForward;
}
private void delete1_action(JdbcUtil j, ActionMapping mapping, ActionForm form, HttpServletRequest request, HttpServletResponse response) throws Exception {
  HttpSession session = request.getSession(true);
  DynaActionForm _ge_grid = (DynaActionForm) form;
  util.consultas.Query query = new util.consultas.Query();
  EntPedidosActionForm[]_ge_grid_array = (EntPedidosActionForm[])_ge_grid.get("bl_form_Emula_itens_faturas_proformas_lines");
  EntPedidosActionForm f = _ge_grid_array[0];
  int _ge_pos = 0;
  for (int _ge_grid_array_index = 0; _ge_grid_array_index < _ge_grid_array.length; _ge_grid_array_index++) {
    f = _ge_grid_array[_ge_grid_array_index];
    if (f.getGridCheckField()) {
      query.execute("DELETE emula_grades_itens_proformas WHERE numero_pedido = "+f.getNumero_pedido1()+" AND numero_item = "+f.getNumero_item());
      Emula_itens_faturas_proformas table = new Emula_itens_faturas_proformas();
      table.setNumero_pedido(com.egen.util.text.FormatNumber.parseIntegerWrapper(f.getNumero_pedido1()));
      table.setNumero_item(com.egen.util.text.FormatNumber.parseIntegerWrapper(f.getNumero_item()));
      table.setCodigo_linha(com.egen.util.text.FormatNumber.parseIntegerWrapper(f.getCodigo_linha()));
      table.setCodigo_referencia(com.egen.util.text.FormatNumber.parseIntegerWrapper(f.getCodigo_referencia()));
      table.setCodigo_corrugado(com.egen.util.text.FormatNumber.parseIntegerWrapper(f.getCodigo_corrugado()));
      table.setCodigo_cabedal(com.egen.util.text.FormatNumber.parseIntegerWrapper(f.getCodigo_cabedal()));
      table.setDescricao_item(f.getDescricao_item());
      table.setCodigo_cor(com.egen.util.text.FormatNumber.parseIntegerWrapper(f.getCodigo_cor()));
      table.setCodigo_grade(com.egen.util.text.FormatNumber.parseIntegerWrapper(f.getCodigo_grade()));
      table.setQuantidade_pares(com.egen.util.text.FormatNumber.parseDoubleWrapper(f.getQuantidade_pares()));
      table.setPreco_unitario(com.egen.util.text.FormatNumber.parseDoubleWrapper(f.getPreco_unitario()));
      table.setLoja_cliente(f.getLoja_cliente());
      j.delete(table);
      Vector res_Emula_itens_faturas_proformas = (Vector) session.getAttribute("res_Emula_itens_faturas_proformas");
      if (res_Emula_itens_faturas_proformas != null && res_Emula_itens_faturas_proformas.size() > 0) {
        res_Emula_itens_faturas_proformas.removeElementAt(0);
        if (res_Emula_itens_faturas_proformas.size() > 0) {
          Emula_itens_faturas_proformas r = (Emula_itens_faturas_proformas) res_Emula_itens_faturas_proformas.elementAt(0);
          f.setNumero_pedido1((r.getNumero_pedido() != null) ? r.getNumero_pedido() + "":"");
          f.setNumero_item((r.getNumero_item() != null) ? r.getNumero_item() + "":"");
          f.setCodigo_linha((r.getCodigo_linha() != null) ? r.getCodigo_linha() + "":"");
          f.setCodigo_referencia((r.getCodigo_referencia() != null) ? r.getCodigo_referencia() + "":"");
          f.setCodigo_corrugado((r.getCodigo_corrugado() != null) ? r.getCodigo_corrugado() + "":"");
          f.setCodigo_cabedal((r.getCodigo_cabedal() != null) ? r.getCodigo_cabedal() + "":"");
          f.setDescricao_item((r.getDescricao_item() != null) ? r.getDescricao_item() + "":"");
          f.setCodigo_cor((r.getCodigo_cor() != null) ? r.getCodigo_cor() + "":"");
          f.setCodigo_grade((r.getCodigo_grade() != null) ? r.getCodigo_grade() + "":"");
          f.setQuantidade_pares((r.getQuantidade_pares() != null) ? r.getQuantidade_pares() + "":"");
          f.setPreco_unitario((r.getPreco_unitario() != null) ? com.egen.util.text.FormatNumber.format(r.getPreco_unitario(), "##,##0.00") : "");
          f.setLoja_cliente((r.getLoja_cliente() != null) ? r.getLoja_cliente() + "":"");
        } else {
          f.reset(mapping, request);
        }
      } else {
        f.reset(mapping, request);
      }
      session.setAttribute(mapping.getName(), form);
    }
  }
}
</action_code>
<property>delete1_action</property>
<forward>same</forward>
<forward_error>same</forward_error>
<baseButtonSetProperty>
</baseButtonSetProperty>
</baseButtonSetProperty>
</buttons_item>
<buttons_item>
<class>com.egen.develop.generator.form.Submit</class>
<name>resetfull1_action</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Emula_itens_faturas_proformas</block_name>
<role_item></role_item>
<database_column></database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n>ApplicationResources</i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left>440</left>
<top>430</top>
<z_index></z_index>
<value>jsp.reset</value>
<accesskey>l</accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass></styleClass>
<styleId></styleId>
<tabindex></tabindex>
<bean_validate>false</bean_validate>
<src></src>
<isCustomized>false</isCustomized>
<codeItem></codeItem>
<buttonPosition></buttonPosition>
<select_clause></select_clause>
<where_clause></where_clause>
<order_by_clause></order_by_clause>
<group_by_clause></group_by_clause>
<having_clause></having_clause>
<button_db_object></button_db_object>
<triggers></triggers>
<template>reset_full_button_action</template>
<action_code></action_code>
<property>resetfull1_action</property>
<forward>same</forward>
<forward_error>same</forward_error>
<baseButtonSetProperty>
</baseButtonSetProperty>
</baseButtonSetProperty>
</buttons_item>
<buttons_item>
<class>com.egen.develop.generator.form.Submit</class>
<name>adicionar_item_action</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Emula_itens_faturas_proformas</block_name>
<role_item></role_item>
<database_column></database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left>200</left>
<top>100</top>
<z_index></z_index>
<value>Adicionar Item</value>
<accesskey>p</accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass></styleClass>
<styleId></styleId>
<tabindex></tabindex>
<bean_validate>false</bean_validate>
<src></src>
<isCustomized>false</isCustomized>
<codeItem></codeItem>
<buttonPosition></buttonPosition>
<select_clause></select_clause>
<where_clause></where_clause>
<order_by_clause></order_by_clause>
<group_by_clause></group_by_clause>
<having_clause></having_clause>
<button_db_object></button_db_object>
<triggers></triggers>
<template></template>
<action_code>public ActionForward perform_adicionar_item_action(ActionMapping mapping, ActionForm form, HttpServletRequest request, HttpServletResponse response) {
  HttpSession session = request.getSession(true);
  ActionForward actionForward = null;
  com.egen.util.jdbc.JdbcUtil j = null;
  try {
    j = new com.egen.util.jdbc.JdbcUtil();
    util.consultas.Query query = new util.consultas.Query();
    DynaActionForm _ge_grid = (DynaActionForm) form;
    EntPedidosActionForm[]_ge_grid_array = (EntPedidosActionForm[])_ge_grid.get("bl_form_Emula_itens_faturas_proformas_lines");
    EntPedidosActionForm f = _ge_grid_array[0];
    for(int x=0;x<10;x++){
       int max_numero_item = Integer.parseInt(query.retorna(j,"SELECT nvl(max(numero_item),0)+1 FROM emula_itens_faturas_proformas WHERE numero_pedido = "+(String)session.getAttribute("numero_pedido")));
       query.execute(j,"insert INTO emula_itens_faturas_proformas VALUES ("+(String)session.getAttribute("numero_pedido")+","+max_numero_item +",NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,null,null,null)");
    }
    session.setAttribute("adicionou_item","s");
    actionForward = mapping.findForward("same");
  } catch (Exception e) {
    ActionErrors errors = new ActionErrors();
    errors.add("ActionErrors.GLOBAL_ERROR_bl_form_Emula_itens_faturas_proformas", new ActionMessage("error.action.exception",com.egen.util.system.Error.getMessage(e)));
    request.setAttribute(org.apache.struts.Globals.ERROR_KEY, errors);
    session.setAttribute("exception", com.egen.util.system.Error.getDescription(e));
    actionForward = mapping.findForward("same");
  } finally {
    if (j != null) {
      j.close();
    }
  }
  return actionForward;
}




</action_code>
<property>adicionar_item_action</property>
<forward>same</forward>
<forward_error>same</forward_error>
<baseButtonSetProperty>
</baseButtonSetProperty>
</baseButtonSetProperty>
</buttons_item>
</buttons>
<formTemplate></formTemplate>
<form_code><% 
//  response.setHeader("Cache-Control","no-cache");
//  response.setDateHeader ("Expires", 0);
%>	
<% 
if(session.getAttribute("numero_pedido")!=null) { 
  portalbr.dbobj.table.Emula_itens_faturas_proformas t_itens = null;
  com.egen.util.jdbc.JdbcUtil j = null;
  try {
    j = new com.egen.util.jdbc.JdbcUtil();

    String height = (String)session.getAttribute("height");
    String width = (String)session.getAttribute("width");

    String registro_erro = "9999999";
    if(session.getAttribute("registro_erro")!=null){
       registro_erro = (String)session.getAttribute("registro_erro");
       session.removeAttribute("registro_erro");
    }
    String status_pedido = "O";
    if(session.getAttribute("status_pedido")!=null){
       status_pedido = (String)session.getAttribute("status_pedido");
    }
  int qtde_registros = 0;
  java.util.Vector res_Emula_itens_faturas_proformas = (java.util.Vector)session.getAttribute("res_Emula_itens_faturas_proformas");
  if (res_Emula_itens_faturas_proformas!=null && res_Emula_itens_faturas_proformas.size()>0) {
    qtde_registros = res_Emula_itens_faturas_proformas.size();
  }
  util.consultas.Query query = new util.consultas.Query();
  int max_numero_item = Integer.parseInt(query.retorna(j,"SELECT nvl(max(numero_item),0) FROM emula_itens_faturas_proformas WHERE numero_pedido = "+(String)session.getAttribute("numero_pedido")));
%>
<script type="text/javascript" src="../script/jquery.alphanumeric.js"></script> 
<script type="text/javascript" src="../script/jquery.smoothscroll.js"></script> 

<html:form action="com/EntPedidosGrid.do" method="post" styleClass="baseForm">

<a href="#rodape"><input type="button" id="btrodape" value="xxx" style="visibility:hidden"></a>

<div class="scroll">


<div id="carregando" class="scrolltable">
<table border = "0" style="height: 99%;width:99%;border:0">
  <tr>
      <td align="center">
         <img src="../img/loading.gif" alt="" title="" />
      </td>
 </tr>
</table>
</div>










<div id="divitens" class="myhidden">

  <table class="itemGridTable" style='width:99%;' border=0>
    <tr class="trGridLabel">

<% if(!status_pedido.equals("C")) { %>
      <td class="tdGridlabel" align="center">
        <span class="spamFormLabel">
          <img src="../img/lixeira.png" title="<bean:message bundle="ComercialResources" key="EntPedidosForm.excluir"/>" onmouseover="this.src='../img/lixeira_s.png'" onmouseout="this.src='../img/lixeira.png'" onclick="if(confirmSubmit('')){document.forms[1].delete1_action.click();}" style="cursor:hand"/>
      </td>
<% } %>

      <td class="tdGridlabel">
        <span class="spamFormLabel">
          <bean:message bundle="ComercialResources" key="EntPedidosForm.seq"/>
        </span>
      </td>

      <td class="tdGridlabel">
        <span class="spamFormLabel">
          <bean:message bundle="ComercialResources" key="EntPedidosForm.linha"/><bean:message key="jsp.fieldnotnull"/>
        </span>
      </td>

      <td class="tdGridlabel">
        <span class="spamFormLabel">
          <bean:message bundle="ComercialResources" key="EntPedidosForm.ref"/><bean:message key="jsp.fieldnotnull"/>
        </span>
      </td>

      <td class="tdGridlabel">
        <span class="spamFormLabel">
          <bean:message bundle="ComercialResources" key="EntPedidosForm.corrugado"/><bean:message key="jsp.fieldnotnull"/>
        </span>
      </td>

      <td class="tdGridlabel">
        <span class="spamFormLabel">
          <bean:message bundle="ComercialResources" key="EntPedidosForm.cabedal"/><bean:message key="jsp.fieldnotnull"/>
        </span>
      </td>

      <td class="tdGridlabel">
        <span class="spamFormLabel">
          <bean:message bundle="ComercialResources" key="EntPedidosForm.descricao"/>
        </span>
      </td>

      <td class="tdGridlabel">
        <span class="spamFormLabel">
          <bean:message bundle="ComercialResources" key="EntPedidosForm.cor"/><bean:message key="jsp.fieldnotnull"/>
        </span>
      </td>

      <td class="tdGridlabel">
        <span class="spamFormLabel">
          <bean:message bundle="ComercialResources" key="EntPedidosForm.grade"/><bean:message key="jsp.fieldnotnull"/>
        </span>
      </td>

      <td class="tdGridlabel">
        <span class="spamFormLabel">
          <bean:message bundle="ComercialResources" key="EntPedidosForm.quantidade_pares"/><bean:message key="jsp.fieldnotnull"/>
        </span>
      </td>

      <td class="tdGridlabel">
        <span class="spamFormLabel">
          <bean:message bundle="ComercialResources" key="EntPedidosForm.loja_cliente"/>
        </span>
      </td>

    </tr>






    <%
      int contador = 0;
      int contador_nao_base_table = 0;
      boolean registro_banco = false;
    %>
    <logic:iterate id="bl_form_Emula_itens_faturas_proformas_lines" name="EntPedidosGridActionForm" property="bl_form_Emula_itens_faturas_proformas_lines" indexId="indexId">

    <%
    if(res_Emula_itens_faturas_proformas!=null){
      try {
         t_itens = (portalbr.dbobj.table.Emula_itens_faturas_proformas)res_Emula_itens_faturas_proformas.elementAt(contador);
         registro_banco = true;
      } catch (Exception e){
         registro_banco = false;
         contador_nao_base_table ++;
      }
    } else {
         contador_nao_base_table ++;
    }
    %>


     <% 
       if((!(t_itens.getDescricao_erro()+"").equals("null")) && (status_pedido.equals("O"))){
     %>
      <tr style="background-color:red">
    <% } else { %>
      <tr class="trGridField">
    <% }  %>




<% if(!status_pedido.equals("C")) { %>
        <td class="tdGridField" align="center" style="background-color:white">

        <% if(registro_banco){ %>
          <% if(qtde_registros == 1){ %>
<!--
              <img src="../img/remover_item.gif" onclick="if(confirmSubmit('')){document.forms[1].gridCheckField.checked=true;document.forms[1].delete1_action.click();}" style="cursor:hand" />
-->
          <% } else { %>
<!--
              <img src="../img/remover_item.gif" onclick="if(confirmSubmit('')){document.forms[1].elements['gridCheckField'][<%= indexId %>].checked=true;document.forms[1].delete1_action.click();}" style="cursor:hand" />
-->
          <% }  %>
        <% } else { %>
<!--
          <img src="../img/remover_item_branco.gif"
-->
        <% } %>
          <html:checkbox property="gridCheckField" styleId="gridCheckField" styleClass="baseField" value="true" name="bl_form_Emula_itens_faturas_proformas_lines" indexed="true"/>
        </td>
<% } %>

        <html:hidden property="numero_pedido1" value="<%= (String)session.getAttribute("numero_pedido") %>" name="bl_form_Emula_itens_faturas_proformas_lines" indexed="true" styleId="numero_pedido1"/>
        <td class="tdGridField">
          <% 
            //if(registro_banco){ 
            if(true){
          %>
            <html:text property="numero_item" style="text-align:center" styleId="numero_item" styleClass="disabled" tabindex="-1" readonly="true" size="4" maxlength="4" name="bl_form_Emula_itens_faturas_proformas_lines" indexed="true"/>
          <% } else { %>
            <html:text property="numero_item" value="<%= max_numero_item+contador_nao_base_table+""  %>" style="text-align:center" styleId="numero_item" styleClass="disabled" tabindex="-1" readonly="true" size="4" maxlength="4" name="bl_form_Emula_itens_faturas_proformas_lines" indexed="true"/>
          <% } %>
            <html:text property="registro_banco" styleId="registro_banco" styleClass="myhidden" size="4" maxlength="4" name="bl_form_Emula_itens_faturas_proformas_lines" indexed="true"/>
            <html:text property="registro_alterado" styleId="registro_alterado" styleClass="myhidden" size="4" maxlength="4" name="bl_form_Emula_itens_faturas_proformas_lines" indexed="true"/>
        </td>

        <td class="tdGridField">
          <% 
            if(status_pedido.equals("O")){
          %>
            <html:text property="codigo_linha" onkeydown="posicionaItem(this.name, event);" onchange="setarAlterado(this.name);" styleId="codigo_linha" styleClass="numerico" size="7" maxlength="22" name="bl_form_Emula_itens_faturas_proformas_lines" indexed="true"/>
            <input type="button" class="lovButton" tabindex="-1" value="..."  onclick="javascript:lov_open_codigo_linha<%= indexId %>()"  >
          <% } else { %>
            <html:text property="codigo_linha" styleId="codigo_linha" styleClass="disabled" tabindex="-1" readonly="true" size="7" maxlength="22" name="bl_form_Emula_itens_faturas_proformas_lines" indexed="true"/>
            <input type="button" class="lovButton" tabindex="-1" value="..." disabled="true" >
          <% } %>
          <script type="text/javascript">
            function lov_open_codigo_linha<%= indexId %>() {
              <% if(qtde_registros == 1){ %>
              window.open('..//lov/LvLinExp0400Lov.do?resetfull_action=&returnBlock=1&return0=codigo_linha','','scrollbars=yes,height=510,width=600,top=0,left=0,');
              <% } else { %>
              window.open('..//lov/LvLinExp0400Lov.do?resetfull_action=&returnBlock=1&return0=codigo_linha[<%= indexId %>]','','scrollbars=yes,height=510,width=600,top=0,left=0,');
              <% } %>
            }
          </script>
        </td>

        <td class="tdGridField">
          <% 
            if(status_pedido.equals("O")){
          %>
            <html:text property="codigo_referencia" onkeydown="posicionaItem(this.name, event);" onchange="setarAlterado(this.name);" styleId="codigo_referencia" styleClass="numerico" size="3" maxlength="3" name="bl_form_Emula_itens_faturas_proformas_lines" indexed="true"/>
            <input type="button" class="lovButton" tabindex="-1" value="..."  onclick="javascript:lov_open_codigo_referencia<%= indexId %>()"  >
          <% } else { %>
            <html:text property="codigo_referencia" tabindex="-1" readonly="true" styleId="codigo_referencia" styleClass="disabled" size="3" maxlength="3" name="bl_form_Emula_itens_faturas_proformas_lines" indexed="true"/>
            <input type="button" class="lovButton" tabindex="-1" value="..." disabled="true"  >
          <% } %>
          <script type="text/javascript">
            function lov_open_codigo_referencia<%= indexId %>() {
              <% if(qtde_registros == 1){ %>
                window.open('..//lov/LvRefExp0400Lov.do?select_action=&lin_cdgo='+document.forms[1].codigo_linha.value+'&returnBlock=1&return0=codigo_referencia','','scrollbars=yes,height=510,width=600,top=0,left=0,');
              <% } else { %>
                window.open('..//lov/LvRefExp0400Lov.do?select_action=&lin_cdgo='+document.forms[1].codigo_linha[<%= indexId %>].value+'&returnBlock=1&return0=codigo_referencia[<%= indexId %>]','','scrollbars=yes,height=510,width=600,top=0,left=0,');
              <% } %>
            }
          </script>
        </td>



        <td class="tdGridField">
          <% 
            if(status_pedido.equals("O")){
          %>
            <html:text property="codigo_corrugado" onkeydown="posicionaItem(this.name, event);" onchange="setarAlterado(this.name);" styleId="codigo_corrugado" styleClass="numerico" size="3" maxlength="3" name="bl_form_Emula_itens_faturas_proformas_lines" indexed="true"/>
            <input type="button" class="lovButton" tabindex="-1" value="..."  onclick="javascript:lov_open_codigo_corrugado<%= indexId %>()"  >
          <% } else { %>
            <html:text property="codigo_corrugado" tabindex="-1" readonly="true" styleId="codigo_corrugado" styleClass="disabled" size="3" maxlength="3" name="bl_form_Emula_itens_faturas_proformas_lines" indexed="true"/>
            <input type="button" class="lovButton" tabindex="-1" value="..." disabled="true"  >
          <% } %>
          <script type="text/javascript">
            function lov_open_codigo_corrugado<%= indexId %>() {
              <% if(qtde_registros == 1){ %>
                window.open('..//lov/LvCorrugadoExp0400Lov.do?select_action=&lin_cdgo='+document.forms[1].codigo_linha.value+'&ref_cdgo='+document.forms[1].codigo_referencia.value+'&returnBlock=1&return0=codigo_corrugado','','scrollbars=yes,height=510,width=600,top=0,left=0,');
              <% } else { %>
                window.open('..//lov/LvCorrugadoExp0400Lov.do?select_action=&lin_cdgo='+document.forms[1].codigo_linha[<%= indexId %>].value+'&ref_cdgo='+document.forms[1].codigo_referencia[<%= indexId %>].value+'&returnBlock=1&return0=codigo_corrugado[<%= indexId %>]','','scrollbars=yes,height=510,width=600,top=0,left=0,');
              <% } %>
            }
          </script>
        </td>




        <td class="tdGridField">
          <% 
            if(status_pedido.equals("O")){
          %>
            <html:text property="codigo_cabedal" onkeydown="posicionaItem(this.name, event);" onblur="descajax(this.name);" onchange="setarAlterado(this.name);" styleId="codigo_cabedal" styleClass="numerico" size="6" maxlength="22" name="bl_form_Emula_itens_faturas_proformas_lines" indexed="true" />
            <input type="button" class="lovButton" tabindex="-1" value="..." onclick="javascript:lov_open_codigo_cabedal<%= indexId %>()"  >
          <% } else { %>
            <html:text property="codigo_cabedal" styleId="codigo_cabedal" styleClass="disabled" tabindex="-1" readonly="true" size="6" maxlength="22" name="bl_form_Emula_itens_faturas_proformas_lines" indexed="true" />
            <input type="button" class="lovButton" tabindex="-1" value="..." disabled="true">
          <% } %>
          <script type="text/javascript">
            function lov_open_codigo_cabedal<%= indexId %>() {
              <% if(qtde_registros == 1){ %>
                window.open('..//lov/LvRefCabExp0400Lov.do?select_action=&lin_cdgo='+document.forms[1].codigo_linha.value+'&ref_cdgo='+document.forms[1].codigo_referencia.value+'&returnBlock=1&return0=codigo_cabedal&return2=codigo_linha','','scrollbars=yes,height=510,width=600,top=0,left=0,');
              <% } else { %>
                window.open('..//lov/LvRefCabExp0400Lov.do?select_action=&lin_cdgo='+document.forms[1].codigo_linha[<%= indexId %>].value+'&ref_cdgo='+document.forms[1].codigo_referencia[<%= indexId %>].value+'&returnBlock=1&return0=codigo_cabedal[<%= indexId %>]&return2=codigo_linha[<%= indexId %>]','','scrollbars=yes,height=510,width=600,top=0,left=0,');
              <% } %>
            }
          </script>
        </td>



        <td class="tdGridField">
          <html:text property="descricao_item" styleId="descricao_item" styleClass="disabled" tabindex="-1" readonly="true" size="20" maxlength="70" name="bl_form_Emula_itens_faturas_proformas_lines" indexed="true"/>
        </td>

        <td class="tdGridField">
          <% if(status_pedido.equals("O")){ %>
            <html:text property="codigo_cor" styleId="codigo_cor" onkeydown="posicionaItem(this.name, event);" onchange="setarAlterado(this.name);" styleClass="numerico" size="7" maxlength="22" name="bl_form_Emula_itens_faturas_proformas_lines" indexed="true"/>
            <input type="button" class="lovButton" tabindex="-1" value="..."  onclick="javascript:lov_open_codigo_cor<%= indexId %>()"  >
          <% } else { %>
            <html:text property="codigo_cor" styleId="codigo_cor" tabindex="-1" readonly="true" styleClass="disabled" size="7" maxlength="22" name="bl_form_Emula_itens_faturas_proformas_lines" indexed="true"/>
            <input type="button" class="lovButton" tabindex="-1" value="..." tabindex="-1" disabled="true"  >
          <% } %>
          <script type="text/javascript">
            function lov_open_codigo_cor<%= indexId %>() {
              <% if(qtde_registros == 1){ %>
                window.open('..//lov/LvRefCorExp0400Lov.do?select_action=&lin_cdgo='+document.forms[1].codigo_linha.value+'&ref_cdgo='+document.forms[1].codigo_referencia.value+'&cab_cdgo='+document.forms[1].codigo_cabedal.value+'&returnBlock=1&return0=codigo_cor','','scrollbars=yes,height=510,width=600,top=0,left=0,');
              <% } else { %>
                window.open('..//lov/LvRefCorExp0400Lov.do?select_action=&lin_cdgo='+document.forms[1].codigo_linha[<%= indexId %>].value+'&ref_cdgo='+document.forms[1].codigo_referencia[<%= indexId %>].value+'&cab_cdgo='+document.forms[1].codigo_cabedal[<%= indexId %>].value+'&returnBlock=1&return0=codigo_cor[<%= indexId %>]','','scrollbars=yes,height=510,width=600,top=0,left=0,');
              <% } %>
            }
          </script>
        </td>

        <td class="tdGridField">



          <% if(status_pedido.equals("O")){ %>
            <html:text property="codigo_grade" onkeydown="posicionaItem(this.name, event);" onchange="if(this.value!=''){setarAlterado(this.name);buscaParesGrade(this.name);abreGrade(this.name);};" styleId="codigo_grade" styleClass="numerico" size="3" maxlength="22" name="bl_form_Emula_itens_faturas_proformas_lines" indexed="true"/>
            <input type="button" class="lovButton" tabindex="-1" value="..."  onclick="javascript:lov_open_codigo_grade<%= indexId %>()"  >
          <% } else { %>
            <html:text property="codigo_grade" tabindex="-1" readonly="true" styleId="codigo_grade" styleClass="disabled" size="3" maxlength="22" name="bl_form_Emula_itens_faturas_proformas_lines" indexed="true"/>
            <input type="button" class="lovButton" tabindex="-1" value="..." tabindex="-1" disabled="true"  >
          <% } %>

          <input type="button" class="lovButton" name="botao[<%= indexId %>]" tabindex="-1" value="<bean:message bundle="ComercialResources" key="EntPedidosForm.ver_grade"/>"  onclick="setarAlterado(this.name);abreGradeBotao(this.name, this);"  >
          <script type="text/javascript">
            function lov_open_codigo_grade<%= indexId %>() {
              <% if(qtde_registros == 1){ %>
                   window.open('..//lov/LvRefGdeExp0400Lov.do?select_action=&lin_cdgo='+document.forms[1].codigo_linha.value+'&ref_cdgo='+document.forms[1].codigo_referencia.value+'&codigo_corrug='+document.forms[1].codigo_corrugado.value+'&returnBlock=1&return0=codigo_grade&return1=codigo_linha','','scrollbars=yes,height=510,width=600,top=0,left=0,');
              <% } else { %>
                   window.open('..//lov/LvRefGdeExp0400Lov.do?select_action=&lin_cdgo='+document.forms[1].codigo_linha[<%= indexId %>].value+'&ref_cdgo='+document.forms[1].codigo_referencia[<%= indexId %>].value+'&codigo_corrug='+document.forms[1].codigo_corrugado[<%= indexId %>].value+'&returnBlock=1&return0=codigo_grade[<%= indexId %>]&return1=codigo_linha[<%= indexId %>]','','scrollbars=yes,height=510,width=600,top=0,left=0,');
              <% } %>
            }
          </script>

        </td>

        <td class="tdGridField">
          <% if(status_pedido.equals("O") && (!((t_itens==null?"nulo":t_itens.getCodigo_grade())+"").equals("99"))){ %>
            <html:text property="quantidade_pares" onkeydown="posicionaItem(this.name, event);" onchange="setarAlterado(this.name);" styleId="quantidade_pares" styleClass="numerico" size="10" maxlength="15" name="bl_form_Emula_itens_faturas_proformas_lines" indexed="true"/>
          <% } else { %>
            <html:text property="quantidade_pares" tabindex="-1" readonly="true" styleId="quantidade_pares" styleClass="disabled" size="10" maxlength="15" name="bl_form_Emula_itens_faturas_proformas_lines" indexed="true"/>
          <% } %>
        </td>


        <td class="tdGridField">
          <% if(status_pedido.equals("O")){ %>
            <html:text property="loja_cliente" onkeydown="posicionaItem(this.name, event);" onchange="setarAlterado(this.name);" styleClass="alfanumerico" styleId="loja_cliente" size="10" maxlength="25" name="bl_form_Emula_itens_faturas_proformas_lines" indexed="true"/>
          <% } else { %>
            <html:text property="loja_cliente" tabindex="-1" readonly="true" styleId="loja_cliente" styleClass="disabled" size="10" maxlength="25" name="bl_form_Emula_itens_faturas_proformas_lines" indexed="true"/>
          <% } %>
        <%  if((!(t_itens.getDescricao_erro()+"").equals("null")) && (status_pedido.equals("O"))){ %>

           <a href="../com/EntPedidosAvisoErroForm.do?select_action=&numero_pedido=<%= t_itens.getNumero_pedido()%>&numero_item=<%= t_itens.getNumero_item() %>&=?keepThis=true&TB_iframe=true&height=200&width=500" title="Erro" class="thickbox">
              <img src="../img/botao_ajuda.gif">
           </a>  
        <% } else { %>
           <img src="../img/transparente.png" width="16" height="16">
        <% } %>
        </td>

        <html:hidden property="preco_unitario" name="bl_form_Emula_itens_faturas_proformas_lines" indexed="true" styleId="preco_unitario"/>
      </tr>

      <tr>
      <td colspan="10" align="center">
        <div id="grade<%=indexId%>" class="grade"></div>
      </td>
      </tr>


      <tr>
<% if(status_pedido.equals("O")){ %>
        <td colspan="11">
<% } else { %>
 <td colspan="10">
<% } %>
          <table class="lineTable" style='width:100%;'>
            <tr><td></td></tr>
          </table>
        </td>
      </tr>

    <% 
      contador++; 
    %>

    </logic:iterate>


<% if(status_pedido.equals("O")){ %>
 <tr>
  <td colspan="9" align="right">
    <b>Total :</b>
  </td>
  <td colspan="2">
    <input type="text" size="10" class="disabled" tabindex="-1" readonly="true" value="<%= ((String)session.getAttribute("total_pares")+"") %>">
  </td>
  </tr>
<% } else { %>

 <tr>
  <td colspan="8" align="right">
    <b>Total :</b>
  </td>
  <td colspan="2">
    <input type="text" size="11" class="disabled" tabindex="-1" readonly="true" value="<%= ((String)session.getAttribute("total_pares")+"") %>">
  </td>
  </tr>

<% } %> 

 

  </table>
  
</div>

</div>

 

 <% if(session.getAttribute("adicionou_item")!=null) { %>
      <script>
        document.forms[1].codigo_linha[<%= contador-1 %>].focus();
      </script>
      <%
         }
      %>

<!--
<div class="fg-toolbar ui-widget-header ui-corner-all ui-helper-clearfix">
  <div class="fg-buttonset ui-helper-clearfix">
-->

        <html:submit accesskey="p" styleClass="myhidden" property="select1_action">
          <bean:message bundle="ApplicationResources" key="jsp.select"/>
        </html:submit>

<!--      
  <a href="#" onclick="document.forms[1].select1_action.click();" class="fg-button ui-state-default fg-button-icon-right ui-corner-all"><span class="ui-icon ui-icon-zoomin"></span><bean:message bundle="ComercialResources" key="EntPedidosForm.pesquisar"/></a>
-->

<% if(!status_pedido.equals("C")) { %>

        <html:submit accesskey="i" styleClass="myhidden" property="insert1_action">
          <bean:message bundle="ComercialResources" key="EntPedidosForm.salvar_alteracoes"/>
        </html:submit>
<!--
        <a href="#" onclick="document.forms[1].insert1_action.click();" class="fg-button ui-state-default fg-button-icon-right ui-corner-all"><span class="ui-icon ui-icon-disk"></span><bean:message bundle="ComercialResources" key="EntPedidosForm.salvar_alteracoes"/></a>
-->


<% } %>
        <html:submit accesskey="a" styleClass="myhidden" property="update1_action">
          <bean:message bundle="ComercialResources" key="EntPedidosForm.pesquisar"/>
        </html:submit>
        <html:submit styleClass="myhidden" property="delete1_action">
          <bean:message bundle="ApplicationResources" key="jsp.delete"/>
        </html:submit>
<!--
        <html:submit accesskey="l" onclick="if(document.forms[0].tem_alteracao.value=='s'){if(confirma_alteracao()){return true;}else{return false;};}" styleClass="myhidden" property="resetfull1_action">
          <bean:message bundle="ApplicationResources" key="jsp.reset"/>
        </html:submit>
        <a href="#" onclick="document.forms[1].resetfull1_action.click();" class="fg-button ui-state-default fg-button-icon-right ui-corner-all"><span class="ui-icon ui-icon-refresh"></span><bean:message bundle="ComercialResources" key="EntPedidosForm.limpar"/></a>
-->
<% if(!status_pedido.equals("C")) { %>

        <html:submit accesskey="p" value="Adicionar Item" onclick="if(document.forms[0].tem_alteracao.value=='s'){if(confirma_alteracao()){return true;}else{return false;};}" styleClass="myhidden" property="adicionar_item_action">
        </html:submit>

<% if(contador>12) { %>
<!--
        <a href="#" onclick="document.forms[1].adicionar_item_action.click();" class="fg-button ui-state-default fg-button-icon-right ui-corner-all"><span class="ui-icon ui-icon-plusthick"></span><bean:message bundle="ComercialResources" key="EntPedidosForm.adicionar_item"/></a> 
        <a href="#" onclick="document.forms[1].adicionar_itens_normas_action.click();" class="fg-button ui-state-default fg-button-icon-right ui-corner-all"><span class="ui-icon ui-icon-contact"></span><bean:message bundle="ComercialResources" key="EntPedidosForm.adicionar_item_norma"/></a> 
-->
<% } %>


        <a href="../com/FiltroForm.do?resetfull_action=?keepThis=true&TB_iframe=true&height=<%= height %>&width=<%= width %>" title="Normas de venda" class="thickbox">
           <html:button value="Adicionar Itens por Norma de Venda"  styleClass="myhidden" property="adicionar_itens_normas_action"></html:button>
        </a>  
      
<% } %>


        <a href="../com/EntPedidosPDFForm.do?select_action=?keepThis=true&TB_iframe=true&height=150&width=600" title="Imprimir PDF" class="thickbox">
           <html:button value="pdf"  styleClass="myhidden" property="pdf"></html:button>
        </a>  
<!--
  </div>
</div>
-->

<script type="text/javascript">
    function descajax(nome){
      indice = nome.substring(nome.indexOf('[')+1,nome.indexOf(']'));
      var retorno = '';
      <% if(((String)session.getAttribute("qtd_itens")).equals("1")){ %>
        linha=document.forms[1].codigo_linha.value;
        referencia=document.forms[1].codigo_referencia.value;
        cabedal=document.forms[1].codigo_cabedal.value;
      <% } else { %>
        linha=document.forms[1].codigo_linha[indice].value;
        referencia=document.forms[1].codigo_referencia[indice].value;
        cabedal=document.forms[1].codigo_cabedal[indice].value;
      <% } %>
      jQuery.ajax({
        type: 		"get",
        url: 		"Sql2Form.do?select_action=&query=SELECT ref_desc descricao FROM REF WHERE lin_cdgo = "+linha+" AND ref_cdgo = "+referencia,
        data: 		"number=1",
        success:	function(msg) {
          retorno = (msg.substring(msg.indexOf('<inicio>')+8,msg.indexOf('<fim>')));
          <% if(((String)session.getAttribute("qtd_itens")).equals("1")){ %>
            document.forms[1].descricao_item.value = retorno;
          <% } else { %>
            document.forms[1].descricao_item[indice].value = retorno;
          <% } %>
        }
        });
      }



    function buscaParesGrade(nome){

      indice = nome.substring(nome.indexOf('[')+1,nome.indexOf(']'));
      var retorno = '';
      <% if(((String)session.getAttribute("qtd_itens")).equals("1")){ %>
        grade=document.forms[1].codigo_grade.value;
      <% } else { %>
        grade=document.forms[1].codigo_grade[indice].value;
      <% } %>

      if(grade!='99'){
      jQuery.ajax({
        type: 		"get",
        url: 		"Sql2Form.do?select_action=&query=SELECT SUM(qtd_pars) pares FROM qtd WHERE gde_Cdgo = "+grade,
        data: 		"number=1",
        success:	function(msg) {
          retorno = (msg.substring(msg.indexOf('<inicio>')+8,msg.indexOf('<fim>')));
          <% if(((String)session.getAttribute("qtd_itens")).equals("1")){ %>
            document.forms[1].quantidade_pares.value = retorno;
          <% } else { %>
            document.forms[1].quantidade_pares[indice].value = retorno;
          <% } %>
        }
        });
       }
      }


   function abreGrade(nome){
     indice = nome.substring(nome.indexOf('[')+1,nome.indexOf(']'));
     jQuery('div.grade').hide();
     jQuery('div.grade').html('');
     <% if(qtde_registros == 1){ %>
       if(document.forms[1].codigo_grade.value==99){
          jQuery('#grade0').load('EntPedidosGradeForm.do?select_action=&atualiza=s&numero_item='+document.forms[1].numero_item.value+'&lin_cdgo='+document.forms[1].codigo_linha.value+'&ref_cdgo='+document.forms[1].codigo_referencia.value+'&gde_cdgo='+document.forms[1].codigo_grade.value+'&indice='+indice,function(){jQuery(document.forms[1].quantidade_pares).addClass('disabled');document.forms[1].quantidade_pares.readOnly=true;document.forms[1].quantidade_pares.tabIndex='-1';}).fadeIn('slow');
       } else {
          jQuery('#grade0').load('EntPedidosGradeForm.do?select_action=&atualiza=s&numero_item='+document.forms[1].numero_item.value+'&lin_cdgo='+document.forms[1].codigo_linha.value+'&ref_cdgo='+document.forms[1].codigo_referencia.value+'&gde_cdgo='+document.forms[1].codigo_grade.value+'&indice='+indice,function(){jQuery(document.forms[1].quantidade_pares).removeClass('disabled');document.forms[1].quantidade_pares.readOnly=false;document.forms[1].quantidade_pares.tabIndex='-1';}).fadeIn('slow');
       }
     <% } else { %>
       if(document.forms[1].codigo_grade[indice].value==99){
          jQuery('#grade'+indice).load('EntPedidosGradeForm.do?select_action=&atualiza=s&numero_item='+document.forms[1].numero_item[indice].value+'&lin_cdgo='+document.forms[1].codigo_linha[indice].value+'&ref_cdgo='+document.forms[1].codigo_referencia[indice].value+'&gde_cdgo='+document.forms[1].codigo_grade[indice].value+'&indice='+indice,function(){jQuery(document.forms[1].quantidade_pares[indice]).addClass('disabled');document.forms[1].quantidade_pares[indice].readOnly=true;document.forms[1].quantidade_pares[indice].tabIndex='-1';}).fadeIn('slow');
       } else {
          jQuery('#grade'+indice).load('EntPedidosGradeForm.do?select_action=&atualiza=s&numero_item='+document.forms[1].numero_item[indice].value+'&lin_cdgo='+document.forms[1].codigo_linha[indice].value+'&ref_cdgo='+document.forms[1].codigo_referencia[indice].value+'&gde_cdgo='+document.forms[1].codigo_grade[indice].value+'&indice='+indice,function(){jQuery(document.forms[1].quantidade_pares[indice]).removeClass('disabled');document.forms[1].quantidade_pares[indice].readOnly=false;document.forms[1].quantidade_pares[indice].tabIndex='-1';}).fadeIn('slow');
       }
     <% } %> 
   }


   function abreGradeBotao(nome,e){
     indice = nome.substring(nome.indexOf('[')+1,nome.indexOf(']'));
     jQuery('div.grade').hide();
     jQuery('div.grade').html('');
     <% if(qtde_registros == 1){ %>
       if(document.forms[1].codigo_grade.value){
         e.disabled = true;
         e.value = ' Aguarde ';  
         jQuery('#grade0').load('EntPedidosGradeForm.do?select_action=&atualiza=n&numero_item='+document.forms[1].numero_item.value+'&lin_cdgo='+document.forms[1].codigo_linha.value+'&ref_cdgo='+document.forms[1].codigo_referencia.value+'&gde_cdgo='+document.forms[1].codigo_grade.value+'&indice='+indice,function(){e.disabled=false;e.value='<bean:message bundle="ComercialResources" key="EntPedidosForm.ver_grade"/>';}).fadeIn('slow');
       }
     <% } else { %>
       if(document.forms[1].codigo_grade[indice].value){
         e.disabled = true;
         e.value = ' Aguarde ';  
         jQuery('#grade'+indice).load('EntPedidosGradeForm.do?select_action=&atualiza=n&numero_item='+document.forms[1].numero_item[indice].value+'&lin_cdgo='+document.forms[1].codigo_linha[indice].value+'&ref_cdgo='+document.forms[1].codigo_referencia[indice].value+'&gde_cdgo='+document.forms[1].codigo_grade[indice].value+'&indice='+indice,function(){e.disabled=false;e.value='<bean:message bundle="ComercialResources" key="EntPedidosForm.ver_grade"/>';}).fadeIn('slow');
       }
     <% } %> 
   }


   function setarAlterado(nome){
     indice = nome.substring(nome.indexOf('[')+1,nome.indexOf(']'));
    <% if(((String)session.getAttribute("qtd_itens")).equals("1")){ %>
       document.forms[1].registro_alterado.value='a';
       document.forms[0].tem_alteracao.value='s';
       if(document.forms[1].codigo_linha.value=='' &&
          document.forms[1].codigo_referencia.value=='' &&
          document.forms[1].codigo_cabedal.value=='' &&
          document.forms[1].codigo_cor.value=='' &&
          document.forms[1].codigo_grade.value=='' &&
          document.forms[1].quantidade_pares.value=='' &&
          document.forms[1].registro_banco.value==''){
          document.forms[1].registro_alterado.value='';
       }
     <% } else { %>
       document.forms[0].tem_alteracao.value='s';
       document.forms[1].registro_alterado[indice].value='a';
       if(document.forms[1].codigo_linha[indice].value=='' &&
          document.forms[1].codigo_referencia[indice].value=='' &&
          document.forms[1].codigo_cabedal[indice].value=='' &&
          document.forms[1].codigo_cor[indice].value=='' &&
          document.forms[1].codigo_grade[indice].value=='' &&
          document.forms[1].quantidade_pares[indice].value=='' &&
          document.forms[1].registro_banco[indice].value==''){
          document.forms[1].registro_alterado[indice].value='';
       }

     <% } %> 
   }



  jQuery('.numerico').numeric();
	
  </script>


<script type="text/javascript">

//  jQuery(function($){			
//    $("a[href^=#rodape]").smoothScroll(100,10,20,20);
//  });
  jQuery(document).ready(function() {

//    document.forms[1].btrodape.click();
 jQuery("#divitens").removeClass("myhidden");
 jQuery("#carregando").hide();
 
  });
</script>


  </html:form>

<%
   } finally {
      if(j!=null){j.close();}
   }
%>



<div id="rodape"></div>
<% } %></form_code>
<number_column></number_column>
</blocks_item>
</blocks>
<strutsConfig>
<class>com.egen.develop.generator.struts.StrutsConfig</class>
<strutsConfigFileName>struts-config.xml</strutsConfigFileName>
<formBeans>
<formBeans_item>
<class>com.egen.develop.struts.FormBean</class>
<className></className>
<dynamic>false</dynamic>
<name>EntPedidosActionForm</name>
<type>portalbr.com.EntPedidosActionForm</type>
<description></description>
<display_name></display_name>
<icon></icon>
<formProperties></formProperties>
<setProperties></setProperties>
</formBeans_item>
<formBeans_item>
<class>com.egen.develop.struts.FormBean</class>
<className></className>
<dynamic>true</dynamic>
<name>EntPedidosGridActionForm</name>
<type>com.egen.util.struts.DynaActionForm</type>
<description></description>
<display_name></display_name>
<icon></icon>
<formProperties>
<formProperties_item>
<class>com.egen.develop.struts.FormProperty</class>
<className></className>
<name>bl_form_Emula_grades_itens_proformas_lines</name>
<type>portalbr.com.EntPedidosActionForm[]</type>
<size>1</size>
<initial></initial>
<setProperties></setProperties>
</formProperties_item>
<formProperties_item>
<class>com.egen.develop.struts.FormProperty</class>
<className></className>
<name>bl_form_Qtd_lines</name>
<type>portalbr.com.EntPedidosActionForm[]</type>
<size>1</size>
<initial></initial>
<setProperties></setProperties>
</formProperties_item>
<formProperties_item>
<class>com.egen.develop.struts.FormProperty</class>
<className></className>
<name>bl_form_Emula_itens_faturas_proformas_lines</name>
<type>portalbr.com.EntPedidosActionForm[]</type>
<size>5</size>
<initial></initial>
<setProperties></setProperties>
</formProperties_item>
</formProperties>
<setProperties></setProperties>
</formBeans_item>
</formBeans>
<actions>
<actions_item>
<class>com.egen.develop.struts.Action</class>
<path>/com/EntPedidosForm</path>
<type>portalbr.com.EntPedidosAction</type>
<name>EntPedidosActionForm</name>
<attribute></attribute>
<input>/com/EntPedidosForm.jsp</input>
<className></className>
<forward></forward>
<include></include>
<validate>true</validate>
<scope></scope>
<parameter></parameter>
<prefix></prefix>
<roles></roles>
<suffix></suffix>
<unknown></unknown>
<description></description>
<display_name></display_name>
<icon></icon>
<forwards>
<forwards_item>
<class>com.egen.develop.struts.Forward</class>
<className></className>
<contextRelative></contextRelative>
<name>same</name>
<path>/com/EntPedidosForm.jsp</path>
<description></description>
<display_name></display_name>
<icon></icon>
<setProperties></setProperties>
</forwards_item>
</forwards>
<strutsExceptions></strutsExceptions>
<setProperties></setProperties>
</actions_item>
<actions_item>
<class>com.egen.develop.struts.Action</class>
<path>/com/EntPedidosGrid</path>
<type>portalbr.com.EntPedidosAction</type>
<name>EntPedidosGridActionForm</name>
<attribute></attribute>
<input>/com/EntPedidosForm.jsp</input>
<className></className>
<forward></forward>
<include></include>
<validate>true</validate>
<scope>session</scope>
<parameter></parameter>
<prefix></prefix>
<roles></roles>
<suffix></suffix>
<unknown></unknown>
<description></description>
<display_name></display_name>
<icon></icon>
<forwards>
<forwards_item>
<class>com.egen.develop.struts.Forward</class>
<className></className>
<contextRelative></contextRelative>
<name>same</name>
<path>/com/EntPedidosForm.jsp</path>
<description></description>
<display_name></display_name>
<icon></icon>
<setProperties></setProperties>
</forwards_item>
</forwards>
<strutsExceptions></strutsExceptions>
<setProperties></setProperties>
</actions_item>
</actions>
</strutsConfig>
<page>
<class>com.egen.develop.generator.EditPage</class>
<info></info>
<language></language>
<contentType></contentType>
<extends_>acesso.web.HttpJspSessao</extends_>
<import_></import_>
<errorPage></errorPage>
<include></include>
<buffer></buffer>
<session>true</session>
<autoFlush>true</autoFlush>
<isThreadSafe>true</isThreadSafe>
<isErrorPage>false</isErrorPage>
<cache>true</cache>
<show_buffer>false</show_buffer>
<show_header>false</show_header>
<isELIgnored>false</isELIgnored>
<trimWhiteSpace>false</trimWhiteSpace>
<enter_effects>normal</enter_effects>
<role></role>
<roleinclude>false</roleinclude>
<http_equiv></http_equiv>
<content></content>
<name></name>
<url></url>
<moremeta></moremeta>
<addHeaderCode><head><title>Entrada de Pedidos</title></addHeaderCode>
<editPageSetProperty>
</editPageSetProperty>
</editPageSetProperty>
</page>
<time></time>
<body></body>
<header>
<class>com.egen.develop.generator.Header</class>
<id></id>
<class_></class_>
<style></style>
<include>../system/header.jsp</include>
<freeSource><script type="text/javascript" src="../script/thickbox.js"></script>
<%
if(!user.isSuperUsuario() && !user.isAutorizado(172)){
   response.sendRedirect("../system/Error.jsp");
}
%>

</freeSource>
<onclick></onclick>
<ondblclick></ondblclick>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmouseup></onmouseup>
<onmousemove></onmousemove>
<onmouseover></onmouseover>
<onmouseout></onmouseout>
<left></left>
<top></top>
<z_index></z_index>
<message_header>user_message</message_header>
<message_header_user></message_header_user>
<border></border>
<frame></frame>
<title>no_message</title>
<headerSetProperty>
</headerSetProperty>
</headerSetProperty>
</header>
<footer>
<class>com.egen.develop.generator.Footer</class>
<id></id>
<class_></class_>
<style></style>
<include></include>
<freeSource><% 
  String titulo = null;
  String mensagem = null;
  String foco = null;
  if(session.getAttribute("foco")!=null){
	foco = (String)session.getAttribute("foco");
  }
  if(session.getAttribute("mensagem")!=null){
     mensagem = (String)session.getAttribute("mensagem");
     titulo = (String)session.getAttribute("titulo");
%>


<LINK rel=stylesheet type=text/css href="../css/dlg.css">
<SCRIPT type=text/javascript src="../script/jquery-1.4.2.min.js"></SCRIPT>
<SCRIPT type=text/javascript src="../script/jquery.dlg.min.js"></SCRIPT>
<SCRIPT type=text/javascript src="../script/jquery.easing.js"></SCRIPT>
<SCRIPT type=text/javascript src="../script/jquery.ui.all.js"></SCRIPT>

<SCRIPT language=javascript>

$(document).ready(function(){
  
  $(function(){
      $.dlg({
        content: '<%= mensagem %>',
        title: '<%= titulo %>',
        drag: true,
		speedIn : 1,
		speedOut : 1,
		onComplete: function(response){
		<% if(session.getAttribute("foco")!=null){ %>
			$('#<%= foco %>').focus();
	    <% } %>
        }
      });
   });
    
});
</script>
<% 
  session.removeAttribute("mensagem");
  session.removeAttribute("titulo");
  session.removeAttribute("foco");
  session.removeAttribute("inseriu_item");
  } else if (session.getAttribute("inseriu_item")!=null) {
%>
  <script>
  document.forms[0].update_action.click();
  </script>
<%
  session.removeAttribute("inseriu_item");
 }
%></freeSource>
<onclick></onclick>
<ondblclick></ondblclick>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmouseup></onmouseup>
<onmousemove></onmousemove>
<onmouseover></onmouseover>
<onmouseout></onmouseout>
<left></left>
<top></top>
<z_index></z_index>
<message_footer>no_message</message_footer>
<border></border>
<frame></frame>
<footerSetProperty>
</footerSetProperty>
</footerSetProperty>
</footer>
<tabs_gen></tabs_gen>
<files></files>
<pluggableValidators></pluggableValidators>
<hasModelAjax>true</hasModelAjax>
<hasActionAjax>false</hasActionAjax>
<generatorSetProperty>
</generatorSetProperty>
</generatorSetProperty>
</generator>
