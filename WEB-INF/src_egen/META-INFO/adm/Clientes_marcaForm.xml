<?xml version="1.0" encoding="ISO-8859-1"?>
<generator>
<VERSION>v 2.8</VERSION>
<generation_day>24/04/2020</generation_day>
<module>adm</module>
<file_name>Clientes_marca</file_name>
<app_type>Form</app_type>
<css></css>
<table_size>99%</table_size>
<grid>30</grid>
<message_footer>no_message</message_footer>
<message_header>default</message_header>
<actionFormTemplate>default_model</actionFormTemplate>
<actionFormCode></actionFormCode>
<actionTemplate>default_action</actionTemplate>
<actionCode></actionCode>
<jspTemplate>default_view</jspTemplate>
<jspCode></jspCode>
<help></help>
<i18nHelp></i18nHelp>
<show_help>false</show_help>
<develHelp></develHelp>
<multiclick>false</multiclick>
<hidden_code>false</hidden_code>
<disableDevelHelp>false</disableDevelHelp>
<author></author>
<version></version>
<since></since>
<template_file></template_file>
<addImportAction></addImportAction>
<addImportActionForm></addImportActionForm>
<add_actionForm></add_actionForm>
<creationDate>21/12/2005 11:33:20</creationDate>
<lastModifyDate>24/04/2020 18:55:05</lastModifyDate>
<userGenerate>admin</userGenerate>
<scope_storage>session</scope_storage>
<generatorMasterTemplate>struts_1.2_master</generatorMasterTemplate>
<blocks>
<blocks_item>
<class>com.egen.develop.generator.report.BlockReport</class>
<name>bl_report_Clientes_marca</name>
<title>Clientes</title>
<i18n></i18n>
<database>session</database>
<db_object>portalbr.dbobj.view.Clientes_marca</db_object>
<script_block></script_block>
<script_template></script_template>
<obs></obs>
<maxRows>0</maxRows>
<resultSetName></resultSetName>
<select_clause></select_clause>
<where_clause></where_clause>
<order_by></order_by>
<group_by></group_by>
<having></having>
<styleClass></styleClass>
<style></style>
<relations></relations>
<tabs></tabs>
<receive_parameter>false</receive_parameter>
<showparameter>false</showparameter>
<message_type>no</message_type>
<message_text></message_text>
<banner_type>no_banner</banner_type>
<role></role>
<roleinclude>false</roleinclude>
<i18n_obs></i18n_obs>
<tab_pos>tab0</tab_pos>
<block_size></block_size>
<block_position>Standart</block_position>
<displayError></displayError>
<blockSetProperty>
</blockSetProperty>
</blockSetProperty>
<fl_column_header>M</fl_column_header>
<record_page>0</record_page>
<navigator_Style>egen</navigator_Style>
<navigator_Frame>5</navigator_Frame>
<navigator_local></navigator_local>
<border>1</border>
<frame>box</frame>
<line_color>default</line_color>
<highlight_class></highlight_class>
<click_class></click_class>
<reportTemplate></reportTemplate>
<report><table id="TRbl_report_Clientes_marca" class="reportTable" style=width:99%;  border=1  frame=box>
  <%
  int counterbl_report_Clientes_marca=0;
  try {
    portalbr.dbobj.view.Clientes_marca t_clientes_marca = new portalbr.dbobj.view.Clientes_marca();
    java.util.Vector res_Clientes_marca = (java.util.Vector)session.getAttribute("res_Clientes_marca");
    if (res_Clientes_marca!=null && res_Clientes_marca.size()>0) {
      util.consultas.TotaisClientesAtendidos total = new util.consultas.TotaisClientesAtendidos(session,"null","null");
      java.lang.String marca                    =  null;
      java.lang.Integer codigo_marca            =  null;
      java.sql.Date   mes                      =  null;
      java.lang.Integer clientes_ativos         =  null;
      java.lang.Integer grupos_ativos           =  null;
      java.lang.Integer grupos_atendidos        =  null;
      java.lang.Integer grupos_nao_atendidos    =  null;
      java.lang.Integer clientes_atendidos      =  null;
      java.lang.Integer clientes_nao_atendidos  =  null;
      java.lang.Integer cidades_ativas          =  null;
      java.lang.Integer cidades_atendidas       =  null;
      java.lang.Integer cidades_nao_atendidas   =  null;
      int pares                                 =  0;
      double valor                              =  0;
      int i_bl_report_Clientes_marca            =  0;
      int sum_pares_0                           =  0;
      double sum_valor_0                        =  0;
      t_clientes_marca = (portalbr.dbobj.view.Clientes_marca)res_Clientes_marca.elementAt(i_bl_report_Clientes_marca);
      marca                   = t_clientes_marca.getMarca()==null?"":t_clientes_marca.getMarca();
      codigo_marca            = t_clientes_marca.getCodigo_marca();
      mes                     = t_clientes_marca.getMes();
      clientes_ativos         = t_clientes_marca.getClientes_ativos();
      grupos_ativos           = t_clientes_marca.getGrupos_ativos();
      grupos_atendidos        = t_clientes_marca.getGrupos_atendidos();
      grupos_nao_atendidos    = t_clientes_marca.getGrupos_nao_atendidos();
      clientes_atendidos      = t_clientes_marca.getClientes_atendidos();
      clientes_nao_atendidos  = t_clientes_marca.getClientes_nao_atendidos();
      cidades_ativas          = t_clientes_marca.getCidades_ativas();
      cidades_atendidas       = t_clientes_marca.getCidades_atendidas();
      cidades_nao_atendidas   = t_clientes_marca.getCidades_nao_atendidas();
      pares                   = Integer.parseInt(t_clientes_marca.getPares()+"");
      valor                   = Double.parseDouble(t_clientes_marca.getValor()+"");
      %>
        <tr class="reportHeader" valign="bottom">
          <td class="columnTdHeader" style="text-align:left;">
            Marca
          </td>

<%  if(session.getAttribute("ca_abrir_meses")=="S"){  %>

            <td class="columnTdHeader" style="text-align:center;">
<% if(!(request.getParameter("excel")+"").equals("true")){ %>
              <img style=cursor:pointer src=../img/ballhelp.gif border=0 onmouseout="this.src='../img/ballhelp.gif'" onmouseover="this.src='../img/ballhelp_c.gif'" onclick="javascript:window.open('../lov/HelpForm.jsp?help=Mês','def','scrollbars,height=400,width=340,TOP=0,LEFT=0')">
<% } %>
              Mês
              </td>
<% } %>

<%  if(session.getAttribute("ca_consulta_grupos")=="S"){ %>

          <td class="columnTdHeader" style="text-align:center;">
<% if(!(request.getParameter("excel")+"").equals("true")){ %>
            <img style=cursor:pointer src=../img/ballhelp.gif border=0 onmouseout="this.src='../img/ballhelp.gif'" onmouseover="this.src='../img/ballhelp_c.gif'" onclick="javascript:window.open('../lov/HelpForm.jsp?help=Total de grupos econômicos <b>ativos</b> da marca.','def','scrollbars,height=400,width=340,TOP=0,LEFT=0')">
<% } %>
            <br>
            Grupos
            <br>
            Ativos
          </td>
          <td class="columnTdHeader" style="text-align:center;">
<% if(!(request.getParameter("excel")+"").equals("true")){ %>
            <img style=cursor:pointer src=../img/ballhelp.gif border=0 onmouseout="this.src='../img/ballhelp.gif'" onmouseover="this.src='../img/ballhelp_c.gif'" onclick="javascript:window.open('../lov/HelpForm.jsp?help=Total de grupos econômicos <b>ativos</b> que foram atendidos dentro do período, marca e linha informados. (Período com base na data de digitação dos pedidos).','def','scrollbars,height=400,width=340,TOP=0,LEFT=0')">
<% } %>
            <br>
            Grupos
            <br>
            Atendidos
          </td>
          <td class="columnTdHeader" style="text-align:center;">
<% if(!(request.getParameter("excel")+"").equals("true")){ %>
            <img style=cursor:pointer src=../img/ballhelp.gif border=0 onmouseout="this.src='../img/ballhelp.gif'" onmouseover="this.src='../img/ballhelp_c.gif'" onclick="javascript:window.open('../lov/HelpForm.jsp?help=Total de grupos econômicos <b>ativos</b> que não foram atendidos dentro do período, marca e linha informados. (Período com base na data de digitação dos pedidos).','def','scrollbars,height=400,width=340,TOP=0,LEFT=0')">
<% } %>
            <br>
            Grupos
            <br>
            Não Atendidos
          </td>

<% } %>

<%  if(session.getAttribute("ca_consulta_clientes")=="S"){ %>

          <td class="columnTdHeader" style="text-align:center;">
<% if(!(request.getParameter("excel")+"").equals("true")){ %>
            <img style=cursor:pointer src=../img/ballhelp.gif border=0 onmouseout="this.src='../img/ballhelp.gif'" onmouseover="this.src='../img/ballhelp_c.gif'" onclick="javascript:window.open('../lov/HelpForm.jsp?help=Total de clientes <b>ativos</b> da marca.','def','scrollbars,height=400,width=340,TOP=0,LEFT=0')">
<% } %>
            <br>
            Clientes
            <br>
            Ativos
          </td>
          <td class="columnTdHeader" style="text-align:center;">
<% if(!(request.getParameter("excel")+"").equals("true")){ %>
            <img style=cursor:pointer src=../img/ballhelp.gif border=0 onmouseout="this.src='../img/ballhelp.gif'" onmouseover="this.src='../img/ballhelp_c.gif'" onclick="javascript:window.open('../lov/HelpForm.jsp?help=Total de clientes <b>ativos</b> da marca que foram atendidos dentro do período, marca e linha informados. (Período com base na data de digitação dos pedidos).','def','scrollbars,height=400,width=340,TOP=0,LEFT=0')">
<% } %>
            <br>
            Clientes
            <br>
            Atendidos
          </td>

          <td class="columnTdHeader" style="text-align:center;">
<% if(!(request.getParameter("excel")+"").equals("true")){ %>
            <img style=cursor:pointer src=../img/ballhelp.gif border=0 onmouseout="this.src='../img/ballhelp.gif'" onmouseover="this.src='../img/ballhelp_c.gif'" onclick="javascript:window.open('../lov/HelpForm.jsp?help=Total de clientes <b>ativos</b> da marca que não foram atendidos dentro do período, marca e linha informados. (Período com base na data de digitação dos pedidos).','def','scrollbars,height=400,width=340,TOP=0,LEFT=0')">
<% } %>
            <br>
            Clientes
            <br>
            Não Atendidos
          </td>

<% } %>



<%  if(session.getAttribute("ca_consulta_cidades")=="S"){ %>


          <td class="columnTdHeader" style="text-align:center;">
<% if(!(request.getParameter("excel")+"").equals("true")){ %>
            <img style=cursor:pointer src=../img/ballhelp.gif border=0 onmouseout="this.src='../img/ballhelp.gif'" onmouseover="this.src='../img/ballhelp_c.gif'" onclick="javascript:window.open('../lov/HelpForm.jsp?help=Total de cidades <b>ativas</b> da marca.','def','scrollbars,height=400,width=340,TOP=0,LEFT=0')">
<% } %>
            <br>
            Cidades
            <br>
            Ativas
          </td>
          <td class="columnTdHeader" style="text-align:center;">
<% if(!(request.getParameter("excel")+"").equals("true")){ %>
            <img style=cursor:pointer src=../img/ballhelp.gif border=0 onmouseout="this.src='../img/ballhelp.gif'" onmouseover="this.src='../img/ballhelp_c.gif'" onclick="javascript:window.open('../lov/HelpForm.jsp?help=Total de cidades <b>ativas</b> da marca que foram atendidas dentro do período, marca e linha informados. (Período com base na data de digitação dos pedidos).','def','scrollbars,height=400,width=340,TOP=0,LEFT=0')">
<% } %>
            <br>
            Cidades
            <br>
            Atendidas
          </td>
          <td class="columnTdHeader" style="text-align:center;">
<% if(!(request.getParameter("excel")+"").equals("true")){ %>
            <img style=cursor:pointer src=../img/ballhelp.gif border=0 onmouseout="this.src='../img/ballhelp.gif'" onmouseover="this.src='../img/ballhelp_c.gif'" onclick="javascript:window.open('../lov/HelpForm.jsp?help=Total de cidades <b>ativas</b> da marca que não foram atendidas dentro do período, marca e linha informados. (Período com base na data de digitação dos pedidos).','def','scrollbars,height=400,width=340,TOP=0,LEFT=0')">
<% } %>
            <br>
            Cidades
            <br>
            Não Atendidas
          </td>

<% } %>

          <td class="columnTdHeader" style="text-align:right;">
            Pares
          </td>
          <td class="columnTdHeader" style="text-align:right;">
            Valor
          </td>
        </tr>
        <%
        while (i_bl_report_Clientes_marca<res_Clientes_marca.size()){
          counterbl_report_Clientes_marca++;
          String style="";
          if (!((i_bl_report_Clientes_marca%2)!=0)) {
            style="rowColor";
          } else {
            style="rowBlank";
          }
          %>
          <tr class=<%= style %> id='TRbl_report_Clientes_marca<%=counterbl_report_Clientes_marca%>' >
            <td class="reportColumn" style="text-align:left;">
              <%= marca %>
            </td>

<%  if(session.getAttribute("ca_abrir_meses")=="S"){ %>
            <td class="reportColumn" style="text-align:center;" title="Mês <%= mes %>">
             <%= com.egen.util.text.FormatDate.format(mes, "MM/yyyy")%>
            </td>
<% } %>

<%  if(session.getAttribute("ca_consulta_grupos")=="S"){ %>

            <td class="reportColumn" style="text-align:center;" title="Grupos Ativos da Marca: <%= marca %>">
              <% if(Integer.parseInt(grupos_ativos+"")>0) { %>
<% if(!(request.getParameter("excel")+"").equals("true")){ %>
              <a href="../adm/GruposAtivosForm.do?select_action=&cod_marca=<%= codigo_marca %>&grupo=da Marca : <%= marca %>" target="_self" STYLE="cursor:hand" onclick="bloqueia();">
                <%= com.egen.util.text.FormatNumber.format(grupos_ativos, "##,##0.##") %>
              </a>
<% } else { %>
                <%= com.egen.util.text.FormatNumber.format(grupos_ativos, "##,##0.##") %>
<% } %>
            <% } else {%>
                <font color="gray">0</font>
            <% } %>
            </td>
            <td class="reportColumn" style="text-align:center;" title="Grupos Atendidos da Marca: <%= marca %>">
              <% if(Integer.parseInt(grupos_ativos+"")>0) { %>
<% if(!(request.getParameter("excel")+"").equals("true")){ %>
              <a href="../adm/GruposAtendidosForm.do?select_action=&cod_marca=<%= codigo_marca %>&grupo=da Marca : <%= marca %>" target="_self" STYLE="cursor:hand" onclick="bloqueia();">
                <%= com.egen.util.text.FormatNumber.format(grupos_atendidos, "##,##0.##") %>
              </a>
<% } else { %>
                <%= com.egen.util.text.FormatNumber.format(grupos_atendidos, "##,##0.##") %>
<% } %>
            <% } else {%>
                <font color="gray">0</font>
            <% } %>
            </td>
            <td class="reportColumn" style="text-align:center;" title="Grupos Não Atendidos da Marca: <%= marca %>">
              <% if(Integer.parseInt(grupos_ativos+"")>0) { %>
<% if(!(request.getParameter("excel")+"").equals("true")){ %>
              <a href="../adm/GruposNaoAtendidosForm.do?select_action=&cod_marca=<%= codigo_marca %>&grupo=da Marca : <%= marca %>" target="_self" STYLE="cursor:hand" onclick="bloqueia();">
                <%= com.egen.util.text.FormatNumber.format(grupos_nao_atendidos, "##,##0.##") %>
              </a>
<% } else { %>
                <%= com.egen.util.text.FormatNumber.format(grupos_nao_atendidos, "##,##0.##") %>
<% } %>
            <% } else {%>
                <font color="gray">0</font>
            <% } %>
            </td>
<% } %>


<%  if(session.getAttribute("ca_consulta_clientes")=="S"){ %>

            <td class="reportColumn" style="text-align:center;" title="Clientes Ativos da Marca: <%= marca %>">
              <% if(Integer.parseInt(clientes_ativos+"")>0) { %>
<% if(!(request.getParameter("excel")+"").equals("true")){ %>
              <a href="../adm/Clientes_ativosForm.do?select_action=&codigo_marca=<%= codigo_marca %>&cab=da Marca : <%= marca %>" target="_self" STYLE="cursor:hand" onclick="bloqueia();">
                <%= com.egen.util.text.FormatNumber.format(clientes_ativos, "##,##0.##") %>
              </a>
<% } else { %>
                <%= com.egen.util.text.FormatNumber.format(clientes_ativos, "##,##0.##") %>
<% } %>
            <% } else {%>
                <font color="gray">0</font>
            <% } %>
            </td>
            <td class="reportColumn" style="text-align:center;" title="Clientes Atendidos da Marca: <%= marca %>">
<% if(!(request.getParameter("excel")+"").equals("true")){ %>
              <a href="../adm/Clientes_atendForm.do?select_action=&codigo_marca=<%= codigo_marca %>&cab=da Marca : <%= marca %>" target="_self" STYLE="cursor:hand" onclick="bloqueia();">
                <%= com.egen.util.text.FormatNumber.format(clientes_atendidos, "##,##0.##") %>
              </a>
<% } else { %>
                <%= com.egen.util.text.FormatNumber.format(clientes_atendidos, "##,##0.##") %>
<% } %>
            </td>


            <td class="reportColumn" style="text-align:center;" title="Clientes Não Atendidos da Marca: <%= marca %>">
              <% if(Integer.parseInt(clientes_nao_atendidos+"")>0) { %>
<% if(!(request.getParameter("excel")+"").equals("true")){ %>
              <a href="../adm/Clientes_nao_atendidosForm.do?select_action=&codigo_marca=<%= codigo_marca %>&cab=da Marca : <%= marca %>" target="_self" STYLE="cursor:hand" onclick="bloqueia();">
                <%= com.egen.util.text.FormatNumber.format(clientes_nao_atendidos, "##,##0.##") %>
              </a>
<% } else { %>
                <%= com.egen.util.text.FormatNumber.format(clientes_nao_atendidos, "##,##0.##") %>
<% } %>
            <% } else {%>
                <font color="gray">0</font>
            <% } %>
            </td>

<% } %>



<%  if(session.getAttribute("ca_consulta_cidades")=="S"){ %>

            <td class="reportColumn" style="text-align:center;" title="Cidades Ativas da Marca: <%= marca %>">
             <% if(Integer.parseInt(cidades_ativas+"")>0)   { %>
<% if(!(request.getParameter("excel")+"").equals("true")){ %>
               <a href="../adm/Cidades_ativasForm.do?select_action=&codigo_marca=<%= codigo_marca %>&cab_cidade=da Marca : <%= marca %>&chamador=/adm/Clientes_marcaForm.jsp" target="_self" STYLE="cursor:hand" onclick="bloqueia();">
                <%= com.egen.util.text.FormatNumber.format(cidades_ativas, "##,##0.##") %>
               </a>
<% } else { %>
                <%= com.egen.util.text.FormatNumber.format(cidades_ativas, "##,##0.##") %>
<% } %>
               <% } else {%>
                <font color="gray">0</font>
             <% } %> 

            </td>
            <td class="reportColumn" style="text-align:center;" title="Cidades Atendidas da Marca: <%= marca %>">
<% if(!(request.getParameter("excel")+"").equals("true")){ %>
               <a href="../adm/Cidades_atendidasForm.do?select_action=&codigo_marca=<%= codigo_marca %>&cab_cidade=da Marca : <%= marca %>&chamador=/adm/Clientes_marcaForm.jsp" target="_self" STYLE="cursor:hand" onclick="bloqueia();">
                <%= com.egen.util.text.FormatNumber.format(cidades_atendidas, "##,##0.##") %>
               </a>
<% } else { %>
                <%= com.egen.util.text.FormatNumber.format(cidades_atendidas, "##,##0.##") %>
<% } %>
            </td>
            <td class="reportColumn" style="text-align:center;" title="Cidades Não Atendidas da Marca: <%= marca %>">
               <% 
               if(Integer.parseInt(cidades_nao_atendidas+"")>0){%>
<% if(!(request.getParameter("excel")+"").equals("true")){ %>
               <a href="../adm/Cidades_nao_atendidasForm.do?select_action=&codigo_marca=<%= codigo_marca %>&cab_cidade=da Marca : <%= marca %>&chamador=/adm/Clientes_marcaForm.jsp" target="_self" STYLE="cursor:hand" onclick="bloqueia();">
                <%= com.egen.util.text.FormatNumber.format(cidades_nao_atendidas, "##,##0.##") %>
               </a>
<% } else { %>
                <%= com.egen.util.text.FormatNumber.format(cidades_nao_atendidas, "##,##0.##") %>
<% } %>
               <% } else {%>
                <font color="gray">0</font>
               <% } %>
            </td> 

<% } %>


            </td>
            <td class="reportColumn" style="text-align:right;">
              <%= com.egen.util.text.FormatNumber.format(pares, "##,##0.##")  %>
            </td>
            <td class="reportColumn" style="text-align:right;">
              <%= com.egen.util.text.FormatNumber.format(valor, "##,##0.00") %>
            </td>
          </tr>
          <%
          sum_pares_0 += pares;
          sum_valor_0 += valor;
          if (++i_bl_report_Clientes_marca >= res_Clientes_marca.size()) {
            break;
          }
          t_clientes_marca = (portalbr.dbobj.view.Clientes_marca)res_Clientes_marca.elementAt(i_bl_report_Clientes_marca);
          marca = t_clientes_marca.getMarca()==null?"":t_clientes_marca.getMarca();
          codigo_marca           = t_clientes_marca.getCodigo_marca();
          mes                    = t_clientes_marca.getMes();
          clientes_ativos        = t_clientes_marca.getClientes_ativos();
          grupos_ativos          = t_clientes_marca.getGrupos_ativos();
          grupos_atendidos       = t_clientes_marca.getGrupos_atendidos();
          grupos_nao_atendidos   = t_clientes_marca.getGrupos_nao_atendidos();
          clientes_atendidos     = t_clientes_marca.getClientes_atendidos();
          clientes_nao_atendidos = t_clientes_marca.getClientes_nao_atendidos();
          cidades_ativas         = t_clientes_marca.getCidades_ativas();
          cidades_atendidas      = t_clientes_marca.getCidades_atendidas();
          cidades_nao_atendidas  = t_clientes_marca.getCidades_nao_atendidas();
          pares                  = Integer.parseInt(t_clientes_marca.getPares()+"");
          valor                  = Double.parseDouble(t_clientes_marca.getValor()+""); 
          }
 %>
        <tr class="totalColumn">
<%  if(session.getAttribute("ca_abrir_meses")=="S"){ %>
<td>
</td>
<% } %>
          <td class="totalTdColumn"  style="text-align:right;">
          <b>Total Distinto :<b>
          </td>

<%  if(session.getAttribute("ca_consulta_grupos")=="S"){ %>

          <td class="totalTdColumn"  style="text-align:center;" >
            <b><%= com.egen.util.text.FormatNumber.format(total.getTotalGruposAtivos(), "#,##0.##") %></b>
          </td>
          <td class="totalTdColumn"  style="text-align:center;" >
            <b><%= com.egen.util.text.FormatNumber.format(total.getTotalGruposAtendidos(), "#,##0.##") %></b>
          </td>
          <td class="totalTdColumn"  style="text-align:center;" >
            <b><%= com.egen.util.text.FormatNumber.format(total.getTotalGruposNaoAtendidos(), "#,##0.##") %></b>
          </td>

<% } %>

<%  if(session.getAttribute("ca_consulta_clientes")=="S"){ %>

          <td class="totalTdColumn"  style="text-align:center;" >
            <b><%= com.egen.util.text.FormatNumber.format(total.getTotalClientesAtivos(), "#,##0.##") %></b>
          </td>
          <td class="totalTdColumn"  style="text-align:center;" >
            <b><%= com.egen.util.text.FormatNumber.format(total.getTotalClientesAtendidos(), "#,##0.##") %></b>
          </td>
          <td class="totalTdColumn"  style="text-align:center;" >
            <b><%= com.egen.util.text.FormatNumber.format(total.getTotalClientesNaoAtendidos(), "#,##0.##") %></b>
          </td>

<% } %>


<%  if(session.getAttribute("ca_consulta_cidades")=="S"){ %>

          <td class="totalTdColumn"  style="text-align:center;" >
            <b><%= com.egen.util.text.FormatNumber.format(total.getTotalCidadesAtivas(), "#,##0.##") %></b>
          </td>
          <td class="totalTdColumn"  style="text-align:center;" >
            <b><%= com.egen.util.text.FormatNumber.format(total.getTotalCidadesAtendidas(), "#,##0.##") %></b>
          </td>
          <td class="totalTdColumn"  style="text-align:center;" >
            <b><%= com.egen.util.text.FormatNumber.format(total.getTotalCidadesNaoAtendidas(), "#,##0.##") %></b>
          </td>

<% } %>
          <td class="totalTdColumn"  style="text-align:right;">
            <b><%= com.egen.util.text.FormatNumber.format(sum_pares_0, "#,##0.##") %></b>
          </td>
          <td class="totalTdColumn"  style="text-align:right;">
            <b><%= com.egen.util.text.FormatNumber.format(sum_valor_0, "##,##0.00") %></b>
          </td>
        </tr>
        <%
        }
      } catch (Exception e) {
        session.setAttribute("exception",com.egen.util.system.Error.getDescription(e));
      } finally {
         }
    %>
  </table></report>
<datasetCodeCustomized>false</datasetCodeCustomized>
<datasetCode></datasetCode>
<columns>
<columns_item>
<class>com.egen.develop.generator.report.Column</class>
<name>marca</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_report_Clientes_marca</block_name>
<role_item></role_item>
<database_column>marca</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<label>Marca</label>
<type>java.lang.String</type>
<columnWidth></columnWidth>
<align>left</align>
<layout>side</layout>
<report_break>0</report_break>
<is_break>false</is_break>
<visible>true</visible>
<base_table>true</base_table>
<column_order></column_order>
<formula></formula>
<column_fg_color></column_fg_color>
<column_bg_color></column_bg_color>
<column_font></column_font>
<font_size></font_size>
<font_bold></font_bold>
<font_italic></font_italic>
<style></style>
<styleClass></styleClass>
<columnRelation></columnRelation>
<hidden>false</hidden>
<header_bg_color></header_bg_color>
<header_fg_color></header_fg_color>
<header_font></header_font>
<header_font_size></header_font_size>
<header_style></header_style>
<header_styleClass></header_styleClass>
<header_title></header_title>
<header_titleKey></header_titleKey>
<header_i18nTitleKey></header_i18nTitleKey>
<header_font_bold></header_font_bold>
<header_font_italic></header_font_italic>
<header_size></header_size>
<round_value></round_value>
<columnHeaderCodeCustomized>false</columnHeaderCodeCustomized>
<columnHeaderCode></columnHeaderCode>
<columnDisplayCodeCustomized>false</columnDisplayCodeCustomized>
<columnDisplayCode></columnDisplayCode>
<onclick></onclick>
<ondblclick></ondblclick>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<columnSetProperty>
</columnSetProperty>
</columnSetProperty>
</columns_item>
<columns_item>
<class>com.egen.develop.generator.report.Column</class>
<name>codigo_marca</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_report_Clientes_marca</block_name>
<role_item></role_item>
<database_column>codigo_marca</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<label>codigo_marca</label>
<type>java.lang.String</type>
<columnWidth></columnWidth>
<align>left</align>
<layout>side</layout>
<report_break>0</report_break>
<is_break>false</is_break>
<visible>false</visible>
<base_table>true</base_table>
<column_order></column_order>
<formula></formula>
<column_fg_color></column_fg_color>
<column_bg_color></column_bg_color>
<column_font></column_font>
<font_size></font_size>
<font_bold></font_bold>
<font_italic></font_italic>
<style></style>
<styleClass></styleClass>
<columnRelation></columnRelation>
<hidden>false</hidden>
<header_bg_color></header_bg_color>
<header_fg_color></header_fg_color>
<header_font></header_font>
<header_font_size></header_font_size>
<header_style></header_style>
<header_styleClass></header_styleClass>
<header_title></header_title>
<header_titleKey></header_titleKey>
<header_i18nTitleKey></header_i18nTitleKey>
<header_font_bold></header_font_bold>
<header_font_italic></header_font_italic>
<header_size></header_size>
<round_value></round_value>
<columnHeaderCodeCustomized>false</columnHeaderCodeCustomized>
<columnHeaderCode></columnHeaderCode>
<columnDisplayCodeCustomized>false</columnDisplayCodeCustomized>
<columnDisplayCode></columnDisplayCode>
<onclick></onclick>
<ondblclick></ondblclick>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<columnSetProperty>
</columnSetProperty>
</columnSetProperty>
</columns_item>
<columns_item>
<class>com.egen.develop.generator.report.Column</class>
<name>cli_ati</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_report_Clientes_marca</block_name>
<role_item></role_item>
<database_column>cli_ati</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<label>Clientes Ativos</label>
<type>java.lang.String</type>
<columnWidth></columnWidth>
<align>left</align>
<layout>side</layout>
<report_break>0</report_break>
<is_break>false</is_break>
<visible>true</visible>
<base_table>false</base_table>
<column_order></column_order>
<formula></formula>
<column_fg_color></column_fg_color>
<column_bg_color></column_bg_color>
<column_font></column_font>
<font_size></font_size>
<font_bold></font_bold>
<font_italic></font_italic>
<style></style>
<styleClass></styleClass>
<columnRelation><class>com.egen.develop.generator.report.ColumnRelation</class>
<db_object>portalbr.dbobj.view.Cli_ati_marcas</db_object>
<elements>
<elements_item>
<class>com.egen.develop.generator.report.ElementRelation</class>
<master_name>codigo_marca</master_name>
<slave_name>codigo_marca</slave_name>
<elementRelationSetProperty>
</elementRelationSetProperty>
</elementRelationSetProperty>
</elements_item>
</elements>
<columnRelationTemplate></columnRelationTemplate>
<columnRelationCode>"";
        {
          if(codigo_marca!=null && codigo_marca.length()>0) {
            portalbr.dbobj.view.Cli_ati_marcas cr_db_object = new portalbr.dbobj.view.Cli_ati_marcas();
            Object[][] where = {
                              {"codigo_marca","like",codigo_marca}
                               };
            java.util.Vector results = j.select(cr_db_object, where, null);
            if (results!=null && results.size()>0) {
              cr_db_object = (portalbr.dbobj.view.Cli_ati_marcas)results.elementAt(0);
              cli_ati = ((cr_db_object.getCli_ati()!=null)?cr_db_object.getCli_ati():"");
              }else{cli_ati = "0";}
      }
        }</columnRelationCode>
<columnRelationEnumerationFile></columnRelationEnumerationFile>
<columnRelationSetProperty>
</columnRelationSetProperty>
</columnRelationSetProperty>
</columnRelation>
<link>
<class>com.egen.develop.generator.report.ReportLink</class>
<href>../adm/Clientes_ativos_marcaForm.do?select_action=</href>
<target>_self</target>
<parameters>
<parameters_item>
<class>java.lang.String</class>
<value>codigo_marca</value>
</parameters_item>
</parameters>
<cursor>hand</cursor>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<charset></charset>
<rev></rev>
<rel></rel>
<link_type>HTML</link_type>
<link_channelmode></link_channelmode>
<link_directories></link_directories>
<link_fullscreen></link_fullscreen>
<link_height></link_height>
<link_left></link_left>
<link_location></link_location>
<link_menubar></link_menubar>
<link_resizable></link_resizable>
<link_scrollbars></link_scrollbars>
<link_status></link_status>
<link_titlebar></link_titlebar>
<link_toolbar></link_toolbar>
<link_top></link_top>
<link_width></link_width>
<link_replace></link_replace>
<link_modal>false</link_modal>
<reportLinkSetProperty>
</reportLinkSetProperty>
</reportLinkSetProperty>
</link>
<hidden>false</hidden>
<header_bg_color></header_bg_color>
<header_fg_color></header_fg_color>
<header_font></header_font>
<header_font_size></header_font_size>
<header_style></header_style>
<header_styleClass></header_styleClass>
<header_title></header_title>
<header_titleKey></header_titleKey>
<header_i18nTitleKey></header_i18nTitleKey>
<header_font_bold></header_font_bold>
<header_font_italic></header_font_italic>
<header_size></header_size>
<round_value></round_value>
<columnHeaderCodeCustomized>false</columnHeaderCodeCustomized>
<columnHeaderCode></columnHeaderCode>
<columnDisplayCodeCustomized>false</columnDisplayCodeCustomized>
<columnDisplayCode></columnDisplayCode>
<onclick></onclick>
<ondblclick></ondblclick>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<columnSetProperty>
</columnSetProperty>
</columnSetProperty>
</columns_item>
<columns_item>
<class>com.egen.develop.generator.report.Column</class>
<name>clientes_ativos</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_report_Clientes_marca</block_name>
<role_item></role_item>
<database_column>clientes_ativos</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<label>Clientes Ativos</label>
<type>int</type>
<columnWidth></columnWidth>
<align>right</align>
<layout>side</layout>
<report_break>0</report_break>
<is_break>false</is_break>
<visible>false</visible>
<base_table>true</base_table>
<column_order></column_order>
<formula></formula>
<column_fg_color></column_fg_color>
<column_bg_color></column_bg_color>
<column_font></column_font>
<font_size></font_size>
<font_bold></font_bold>
<font_italic></font_italic>
<style></style>
<styleClass></styleClass>
<columnRelation></columnRelation>
<hidden>false</hidden>
<header_bg_color></header_bg_color>
<header_fg_color></header_fg_color>
<header_font></header_font>
<header_font_size></header_font_size>
<header_style></header_style>
<header_styleClass></header_styleClass>
<header_title></header_title>
<header_titleKey></header_titleKey>
<header_i18nTitleKey></header_i18nTitleKey>
<header_font_bold></header_font_bold>
<header_font_italic></header_font_italic>
<header_size></header_size>
<round_value></round_value>
<columnHeaderCodeCustomized>false</columnHeaderCodeCustomized>
<columnHeaderCode></columnHeaderCode>
<columnDisplayCodeCustomized>false</columnDisplayCodeCustomized>
<columnDisplayCode></columnDisplayCode>
<onclick></onclick>
<ondblclick></ondblclick>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<columnSetProperty>
</columnSetProperty>
</columnSetProperty>
</columns_item>
<columns_item>
<class>com.egen.develop.generator.report.Column</class>
<name>clientes_atendidos</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_report_Clientes_marca</block_name>
<role_item></role_item>
<database_column>clientes_atendidos</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<label>Clientes Atendidos</label>
<type>int</type>
<columnWidth></columnWidth>
<align>right</align>
<layout>side</layout>
<report_break>0</report_break>
<is_break>false</is_break>
<visible>true</visible>
<base_table>true</base_table>
<column_order></column_order>
<formula></formula>
<column_fg_color></column_fg_color>
<column_bg_color></column_bg_color>
<column_font></column_font>
<font_size></font_size>
<font_bold></font_bold>
<font_italic></font_italic>
<style></style>
<styleClass></styleClass>
<columnRelation></columnRelation>
<link>
<class>com.egen.develop.generator.report.ReportLink</class>
<href>../adm/Clientes_atendidos_marcaForm.do?select_action=</href>
<target>_self</target>
<parameters>
<parameters_item>
<class>java.lang.String</class>
<value>codigo_marca</value>
</parameters_item>
</parameters>
<cursor>hand</cursor>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<charset></charset>
<rev></rev>
<rel></rel>
<link_type>HTML</link_type>
<link_channelmode></link_channelmode>
<link_directories></link_directories>
<link_fullscreen></link_fullscreen>
<link_height></link_height>
<link_left></link_left>
<link_location></link_location>
<link_menubar></link_menubar>
<link_resizable></link_resizable>
<link_scrollbars></link_scrollbars>
<link_status></link_status>
<link_titlebar></link_titlebar>
<link_toolbar></link_toolbar>
<link_top></link_top>
<link_width></link_width>
<link_replace></link_replace>
<link_modal>false</link_modal>
<reportLinkSetProperty>
</reportLinkSetProperty>
</reportLinkSetProperty>
</link>
<hidden>false</hidden>
<header_bg_color></header_bg_color>
<header_fg_color></header_fg_color>
<header_font></header_font>
<header_font_size></header_font_size>
<header_style></header_style>
<header_styleClass></header_styleClass>
<header_title></header_title>
<header_titleKey></header_titleKey>
<header_i18nTitleKey></header_i18nTitleKey>
<header_font_bold></header_font_bold>
<header_font_italic></header_font_italic>
<header_size></header_size>
<round_value></round_value>
<columnHeaderCodeCustomized>false</columnHeaderCodeCustomized>
<columnHeaderCode></columnHeaderCode>
<columnDisplayCodeCustomized>false</columnDisplayCodeCustomized>
<columnDisplayCode></columnDisplayCode>
<onclick></onclick>
<ondblclick></ondblclick>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<columnSetProperty>
</columnSetProperty>
</columnSetProperty>
</columns_item>
<columns_item>
<class>com.egen.develop.generator.report.Column</class>
<name>clientes_nao_atendidos</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_report_Clientes_marca</block_name>
<role_item></role_item>
<database_column>clientes_nao_atendidos</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<label>Clientes Não Atendidos</label>
<type>int</type>
<columnWidth></columnWidth>
<align>right</align>
<layout>side</layout>
<report_break>0</report_break>
<is_break>false</is_break>
<visible>true</visible>
<base_table>false</base_table>
<column_order></column_order>
<formula>com.egen.util.text.FormatNumber.parseInt(cli_ati)-clientes_atendidos;
if(clientes_nao_atendidos<0) clientes_nao_atendidos=0;</formula>
<column_fg_color></column_fg_color>
<column_bg_color></column_bg_color>
<column_font></column_font>
<font_size></font_size>
<font_bold></font_bold>
<font_italic></font_italic>
<style></style>
<styleClass></styleClass>
<columnRelation></columnRelation>
<link>
<class>com.egen.develop.generator.report.ReportLink</class>
<href>../adm/Clientes_nao_atendidos_marcaForm.do?select_action=</href>
<target>_self</target>
<parameters>
<parameters_item>
<class>java.lang.String</class>
<value>codigo_marca</value>
</parameters_item>
</parameters>
<cursor>hand</cursor>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<charset></charset>
<rev></rev>
<rel></rel>
<link_type>HTML</link_type>
<link_channelmode></link_channelmode>
<link_directories></link_directories>
<link_fullscreen></link_fullscreen>
<link_height></link_height>
<link_left></link_left>
<link_location></link_location>
<link_menubar></link_menubar>
<link_resizable></link_resizable>
<link_scrollbars></link_scrollbars>
<link_status></link_status>
<link_titlebar></link_titlebar>
<link_toolbar></link_toolbar>
<link_top></link_top>
<link_width></link_width>
<link_replace></link_replace>
<link_modal>false</link_modal>
<reportLinkSetProperty>
</reportLinkSetProperty>
</reportLinkSetProperty>
</link>
<hidden>false</hidden>
<header_bg_color></header_bg_color>
<header_fg_color></header_fg_color>
<header_font></header_font>
<header_font_size></header_font_size>
<header_style></header_style>
<header_styleClass></header_styleClass>
<header_title></header_title>
<header_titleKey></header_titleKey>
<header_i18nTitleKey></header_i18nTitleKey>
<header_font_bold></header_font_bold>
<header_font_italic></header_font_italic>
<header_size></header_size>
<round_value></round_value>
<columnHeaderCodeCustomized>false</columnHeaderCodeCustomized>
<columnHeaderCode></columnHeaderCode>
<columnDisplayCodeCustomized>false</columnDisplayCodeCustomized>
<columnDisplayCode></columnDisplayCode>
<onclick></onclick>
<ondblclick></ondblclick>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<columnSetProperty>
</columnSetProperty>
</columnSetProperty>
</columns_item>
<columns_item>
<class>com.egen.develop.generator.report.Column</class>
<name>pares</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_report_Clientes_marca</block_name>
<role_item></role_item>
<database_column>pares</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<label>Pares</label>
<type>int</type>
<columnWidth></columnWidth>
<align>right</align>
<layout>side</layout>
<report_break>0</report_break>
<is_break>false</is_break>
<visible>true</visible>
<base_table>true</base_table>
<column_order></column_order>
<formula></formula>
<column_fg_color></column_fg_color>
<column_bg_color></column_bg_color>
<column_font></column_font>
<font_size></font_size>
<font_bold></font_bold>
<font_italic></font_italic>
<style></style>
<styleClass></styleClass>
<columnRelation></columnRelation>
<hidden>false</hidden>
<header_bg_color></header_bg_color>
<header_fg_color></header_fg_color>
<header_font></header_font>
<header_font_size></header_font_size>
<header_style></header_style>
<header_styleClass></header_styleClass>
<header_title></header_title>
<header_titleKey></header_titleKey>
<header_i18nTitleKey></header_i18nTitleKey>
<header_font_bold></header_font_bold>
<header_font_italic></header_font_italic>
<header_size></header_size>
<round_value></round_value>
<columnHeaderCodeCustomized>false</columnHeaderCodeCustomized>
<columnHeaderCode></columnHeaderCode>
<columnDisplayCodeCustomized>false</columnDisplayCodeCustomized>
<columnDisplayCode></columnDisplayCode>
<onclick></onclick>
<ondblclick></ondblclick>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<columnSetProperty>
</columnSetProperty>
</columnSetProperty>
</columns_item>
<columns_item>
<class>com.egen.develop.generator.report.Column</class>
<name>valor</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_report_Clientes_marca</block_name>
<role_item></role_item>
<database_column>valor</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format>##,##0.00</format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<label>Valor</label>
<type>double</type>
<columnWidth></columnWidth>
<align>right</align>
<layout>side</layout>
<report_break>0</report_break>
<is_break>false</is_break>
<visible>true</visible>
<base_table>true</base_table>
<column_order></column_order>
<formula></formula>
<column_fg_color></column_fg_color>
<column_bg_color></column_bg_color>
<column_font></column_font>
<font_size></font_size>
<font_bold></font_bold>
<font_italic></font_italic>
<style></style>
<styleClass></styleClass>
<columnRelation></columnRelation>
<hidden>false</hidden>
<header_bg_color></header_bg_color>
<header_fg_color></header_fg_color>
<header_font></header_font>
<header_font_size></header_font_size>
<header_style></header_style>
<header_styleClass></header_styleClass>
<header_title></header_title>
<header_titleKey></header_titleKey>
<header_i18nTitleKey></header_i18nTitleKey>
<header_font_bold></header_font_bold>
<header_font_italic></header_font_italic>
<header_size></header_size>
<round_value></round_value>
<columnHeaderCodeCustomized>false</columnHeaderCodeCustomized>
<columnHeaderCode></columnHeaderCode>
<columnDisplayCodeCustomized>false</columnDisplayCodeCustomized>
<columnDisplayCode></columnDisplayCode>
<onclick></onclick>
<ondblclick></ondblclick>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<columnSetProperty>
</columnSetProperty>
</columnSetProperty>
</columns_item>
</columns>
<reportset></reportset>
</blocks_item>
<blocks_item>
<class>com.egen.develop.generator.report.BlockReport</class>
<name>bl_report_Jw_clientes_atendidos_segmentos</name>
<title>Jw_clientes_atendidos_segmentos</title>
<i18n></i18n>
<database>session</database>
<db_object>Jw_clientes_atendidos_segmentos</db_object>
<script_block></script_block>
<script_template></script_template>
<obs></obs>
<maxRows>0</maxRows>
<resultSetName></resultSetName>
<select_clause></select_clause>
<where_clause></where_clause>
<order_by></order_by>
<group_by></group_by>
<having></having>
<styleClass></styleClass>
<style></style>
<relations></relations>
<tabs></tabs>
<receive_parameter>false</receive_parameter>
<showparameter>false</showparameter>
<message_type>no</message_type>
<message_text></message_text>
<banner_type>no_banner</banner_type>
<role></role>
<roleinclude>false</roleinclude>
<i18n_obs></i18n_obs>
<tab_pos>tab0</tab_pos>
<block_size></block_size>
<block_position>Standart</block_position>
<displayError></displayError>
<form>
<class>com.egen.develop.generator.form.Form</class>
<action></action>
<enctype></enctype>
<focus></focus>
<method></method>
<onreset></onreset>
<onsubmit></onsubmit>
<scope></scope>
<style></style>
<styleClass></styleClass>
<styleId></styleId>
<target></target>
<type></type>
<disabled>false</disabled><readonly>false</readonly><open_form>false</open_form>
<close_form>false</close_form>
</form>
<blockSetProperty>
</blockSetProperty>
</blockSetProperty>
<fl_column_header>M</fl_column_header>
<record_page>0</record_page>
<navigator_Style></navigator_Style>
<navigator_Frame>5</navigator_Frame>
<navigator_local></navigator_local>
<border>0</border>
<frame></frame>
<line_color>default</line_color>
<highlight_class></highlight_class>
<click_class></click_class>
<reportTemplate></reportTemplate>
<report><%
if(session.getAttribute("ca_consulta_segmentos")=="S")
{
  %>

  <%
  java.util.Vector res_Jw_clientes_atendidos_segmentos = (java.util.Vector)session.getAttribute("res_Jw_clientes_atendidos_segmentos");
  %>

  <form  name="bl_report_Jw_clientes_atendidos_segmentos" id="bl_report_Jw_clientes_atendidos_segmentos" class="baseForm" method="post" >


    <%
    if (res_Jw_clientes_atendidos_segmentos!=null && res_Jw_clientes_atendidos_segmentos.size()>0) {
      %>

      <table id="TRbl_report_Jw_clientes_atendidos_segmentos"  class="reportTable"   style="width:99%; " border=1; >
        <%
        int seg_cdgo =  0;
        java.lang.String seg_desc =  null;
        int pequenos =  0;
        int medios =  0;
        int grandes =  0;
        int todos =  0;
        int sum_pequenos = 0;
        int sum_medios = 0;
        int sum_grandes = 0;
        int sum_todos = 0;
        %>


        <tr class="reportHeader3">
          <td colspan="5" align="center">
            <big>Segmento/Limite Crédito</big>
          </td>
        </tr>

        <tr class="reportTr">
          <td class="columnTdHeader" style="text-align:left;" >
            Clientes Atendidos
          </td>

          <td class="columnTdHeader" style="text-align:right;" >
            Pequeno
          </td>

          <td class="columnTdHeader" style="text-align:right;" >
            Médio
          </td>

          <td class="columnTdHeader" style="text-align:right;" >
            Grande
          </td>

          <td class="columnTdHeader" style="text-align:right;" >
            Geral
          </td>

        </tr>

        <tr class="reportTr">
          <td class="columnTdHeader" style="text-align:left;" >
            Segmento
          </td>

          <td class="columnTdHeader" style="text-align:right;" >
            Até 50.000
          </td>

          <td class="columnTdHeader" style="text-align:right;" >
            De 50.001,00 a 200.000,00
          </td>

          <td class="columnTdHeader" style="text-align:right;" >
            Acima de 200.000,00
          </td>

          <td class="columnTdHeader" style="text-align:right;" >
            Total MI Ativo
          </td>

        </tr>

        <%
        int i_bl_report_Jw_clientes_atendidos_segmentos = 0;
        while (i_bl_report_Jw_clientes_atendidos_segmentos<res_Jw_clientes_atendidos_segmentos.size()) {
          portalbr.dbobj.view.Jw_clientes_atendidos_segmentos t_jw_clientes_atendidos_segmentos = (portalbr.dbobj.view.Jw_clientes_atendidos_segmentos)res_Jw_clientes_atendidos_segmentos.elementAt(i_bl_report_Jw_clientes_atendidos_segmentos);
          seg_cdgo = t_jw_clientes_atendidos_segmentos.getSeg_cdgo();
          seg_desc = t_jw_clientes_atendidos_segmentos.getSeg_desc()==null?"":t_jw_clientes_atendidos_segmentos.getSeg_desc();
          pequenos = t_jw_clientes_atendidos_segmentos.getPequenos();
          medios = t_jw_clientes_atendidos_segmentos.getMedios();
          grandes = t_jw_clientes_atendidos_segmentos.getGrandes();
          todos = t_jw_clientes_atendidos_segmentos.getTodos();
   
          sum_pequenos += pequenos;
          sum_medios += medios;
          sum_grandes += grandes;
          sum_todos += todos;

          String style_bl_report_Jw_clientes_atendidos_segmentos="";
          if (!((i_bl_report_Jw_clientes_atendidos_segmentos%2)!=0)) {
            style_bl_report_Jw_clientes_atendidos_segmentos="rowColor";
          } else {
            style_bl_report_Jw_clientes_atendidos_segmentos="rowBlank";
          }
          %>

          <tr class='<%= style_bl_report_Jw_clientes_atendidos_segmentos %>' id="TRbl_report_Jw_clientes_atendidos_segmentos<%=i_bl_report_Jw_clientes_atendidos_segmentos%>" >

            <td class="reportColumn" style="text-align:left;" >
              <%= seg_desc %>
            </td>

            <td class="reportColumn" style="text-align:right;" >
              <% if(pequenos>0){ %>
              <a href="../adm/Clientes_atendForm.do?select_action=&cab=do Segmento : <%= seg_desc %>&limite=p&segmento=<%= seg_cdgo %>" target="_self" STYLE="cursor:hand" onclick="bloqueia();">
                <%= com.egen.util.text.FormatNumber.format(pequenos, "##,##0.##") %>
              </a>
              <% } else { %>
                0
              <% } %>
            </td>

            <td class="reportColumn" style="text-align:right;" >
              <% if(medios>0){ %>
              <a href="../adm/Clientes_atendForm.do?select_action=&cab=do Segmento : <%= seg_desc %>&limite=m&segmento=<%= seg_cdgo %>" target="_self" STYLE="cursor:hand" onclick="bloqueia();">
                <%= com.egen.util.text.FormatNumber.format(medios, "##,##0.##") %>
              </a>
              <% } else { %>
                0
              <% } %>
            </td>

            <td class="reportColumn" style="text-align:right;" >
              <% if(grandes>0){ %>
              <a href="../adm/Clientes_atendForm.do?select_action=&cab=do Segmento : <%= seg_desc %>&limite=g&segmento=<%= seg_cdgo %>" target="_self" STYLE="cursor:hand" onclick="bloqueia();">
                <%= com.egen.util.text.FormatNumber.format(grandes, "##,##0.##") %>
              </a>
              <% } else { %>
                0
              <% } %>
            </td>

            <td class="reportColumn" style="text-align:right;" >
              <% if(todos>0){ %>
              <a href="../adm/Clientes_atendForm.do?select_action=&cab=do Segmento : <%= seg_desc %>&limite=&segmento=<%= seg_cdgo %>" target="_self" STYLE="cursor:hand" onclick="bloqueia();">
                <%= com.egen.util.text.FormatNumber.format(todos, "##,##0.##") %>
              </a>
              <% } else { %>
                0
              <% } %>
            </td>

          </tr>

          <%
          i_bl_report_Jw_clientes_atendidos_segmentos++;
          if (i_bl_report_Jw_clientes_atendidos_segmentos<res_Jw_clientes_atendidos_segmentos.size()) {
            t_jw_clientes_atendidos_segmentos = (portalbr.dbobj.view.Jw_clientes_atendidos_segmentos)res_Jw_clientes_atendidos_segmentos.elementAt(i_bl_report_Jw_clientes_atendidos_segmentos);
            seg_cdgo = t_jw_clientes_atendidos_segmentos.getSeg_cdgo();
            seg_desc = t_jw_clientes_atendidos_segmentos.getSeg_desc()==null?"":t_jw_clientes_atendidos_segmentos.getSeg_desc();
            pequenos = t_jw_clientes_atendidos_segmentos.getPequenos();
            medios = t_jw_clientes_atendidos_segmentos.getMedios();
            grandes = t_jw_clientes_atendidos_segmentos.getGrandes();
            todos = t_jw_clientes_atendidos_segmentos.getTodos();
//            sum_pequenos += pequenos;
//            sum_medios += medios;
//            sum_grandes += grandes;
//            sum_todos += todos;
          } else {
          }
        }
        %>

          <tr class="totalColumn">

            <td class="reportColumn" style="text-align:left;" >
              <b>Total :</b>
            </td>

            <td class="reportColumn" style="text-align:right;" >
              <b><%= com.egen.util.text.FormatNumber.format(sum_pequenos, "##,##0.##") %></b>
                
            </td>

            <td class="reportColumn" style="text-align:right;" >
              <b><%= com.egen.util.text.FormatNumber.format(sum_medios, "##,##0.##") %></b>
            </td>

            <td class="reportColumn" style="text-align:right;" >
              <b><%= com.egen.util.text.FormatNumber.format(sum_grandes, "##,##0.##") %></b>
            </td>

            <td class="reportColumn" style="text-align:right;" >
              <b><%= com.egen.util.text.FormatNumber.format(sum_todos, "##,##0.##") %></b>
            </td>

          </tr>

      </table>

      <%
    }
    %>

  </form>
  <%
}
%>

</report>
<datasetCodeCustomized>false</datasetCodeCustomized>
<datasetCode></datasetCode>
<columns>
<columns_item>
<class>com.egen.develop.generator.report.Column</class>
<name>seg_cdgo</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_report_Jw_clientes_atendidos_segmentos</block_name>
<role_item></role_item>
<database_column>seg_cdgo</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<label>seg_cdgo</label>
<type>int</type>
<columnWidth></columnWidth>
<align>right</align>
<layout>side</layout>
<report_break>0</report_break>
<is_break>false</is_break>
<visible>true</visible>
<base_table>true</base_table>
<column_order></column_order>
<formula>t_jw_clientes_atendidos_segmentos.getSeg_cdgo()</formula>
<column_fg_color></column_fg_color>
<column_bg_color></column_bg_color>
<column_font></column_font>
<font_size></font_size>
<font_bold></font_bold>
<font_italic></font_italic>
<style></style>
<styleClass></styleClass>
<columnRelation></columnRelation>
<hidden>false</hidden>
<header_bg_color></header_bg_color>
<header_fg_color></header_fg_color>
<header_font></header_font>
<header_font_size></header_font_size>
<header_style></header_style>
<header_styleClass></header_styleClass>
<header_title></header_title>
<header_titleKey></header_titleKey>
<header_i18nTitleKey></header_i18nTitleKey>
<header_font_bold></header_font_bold>
<header_font_italic></header_font_italic>
<header_size></header_size>
<round_value></round_value>
<columnHeaderCodeCustomized>false</columnHeaderCodeCustomized>
<columnHeaderCode></columnHeaderCode>
<columnDisplayCodeCustomized>false</columnDisplayCodeCustomized>
<columnDisplayCode></columnDisplayCode>
<onclick></onclick>
<ondblclick></ondblclick>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<columnSetProperty>
</columnSetProperty>
</columnSetProperty>
</columns_item>
<columns_item>
<class>com.egen.develop.generator.report.Column</class>
<name>seg_desc</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_report_Jw_clientes_atendidos_segmentos</block_name>
<role_item></role_item>
<database_column>seg_desc</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<label>seg_desc</label>
<type>java.lang.String</type>
<columnWidth></columnWidth>
<align>left</align>
<layout>side</layout>
<report_break>0</report_break>
<is_break>false</is_break>
<visible>true</visible>
<base_table>true</base_table>
<column_order></column_order>
<formula>t_jw_clientes_atendidos_segmentos.getSeg_desc()==null?"":t_jw_clientes_atendidos_segmentos.getSeg_desc()</formula>
<column_fg_color></column_fg_color>
<column_bg_color></column_bg_color>
<column_font></column_font>
<font_size></font_size>
<font_bold></font_bold>
<font_italic></font_italic>
<style></style>
<styleClass></styleClass>
<columnRelation></columnRelation>
<hidden>false</hidden>
<header_bg_color></header_bg_color>
<header_fg_color></header_fg_color>
<header_font></header_font>
<header_font_size></header_font_size>
<header_style></header_style>
<header_styleClass></header_styleClass>
<header_title></header_title>
<header_titleKey></header_titleKey>
<header_i18nTitleKey></header_i18nTitleKey>
<header_font_bold></header_font_bold>
<header_font_italic></header_font_italic>
<header_size></header_size>
<round_value></round_value>
<columnHeaderCodeCustomized>false</columnHeaderCodeCustomized>
<columnHeaderCode></columnHeaderCode>
<columnDisplayCodeCustomized>false</columnDisplayCodeCustomized>
<columnDisplayCode></columnDisplayCode>
<onclick></onclick>
<ondblclick></ondblclick>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<columnSetProperty>
</columnSetProperty>
</columnSetProperty>
</columns_item>
<columns_item>
<class>com.egen.develop.generator.report.Column</class>
<name>pequenos</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_report_Jw_clientes_atendidos_segmentos</block_name>
<role_item></role_item>
<database_column>pequenos</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<label>pequenos</label>
<type>int</type>
<columnWidth></columnWidth>
<align>right</align>
<layout>side</layout>
<report_break>0</report_break>
<is_break>false</is_break>
<visible>true</visible>
<base_table>true</base_table>
<column_order></column_order>
<formula>t_jw_clientes_atendidos_segmentos.getPequenos()</formula>
<column_fg_color></column_fg_color>
<column_bg_color></column_bg_color>
<column_font></column_font>
<font_size></font_size>
<font_bold></font_bold>
<font_italic></font_italic>
<style></style>
<styleClass></styleClass>
<columnRelation></columnRelation>
<hidden>false</hidden>
<header_bg_color></header_bg_color>
<header_fg_color></header_fg_color>
<header_font></header_font>
<header_font_size></header_font_size>
<header_style></header_style>
<header_styleClass></header_styleClass>
<header_title></header_title>
<header_titleKey></header_titleKey>
<header_i18nTitleKey></header_i18nTitleKey>
<header_font_bold></header_font_bold>
<header_font_italic></header_font_italic>
<header_size></header_size>
<round_value></round_value>
<columnHeaderCodeCustomized>false</columnHeaderCodeCustomized>
<columnHeaderCode></columnHeaderCode>
<columnDisplayCodeCustomized>false</columnDisplayCodeCustomized>
<columnDisplayCode></columnDisplayCode>
<onclick></onclick>
<ondblclick></ondblclick>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<columnSetProperty>
</columnSetProperty>
</columnSetProperty>
</columns_item>
<columns_item>
<class>com.egen.develop.generator.report.Column</class>
<name>medios</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_report_Jw_clientes_atendidos_segmentos</block_name>
<role_item></role_item>
<database_column>medios</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<label>medios</label>
<type>int</type>
<columnWidth></columnWidth>
<align>right</align>
<layout>side</layout>
<report_break>0</report_break>
<is_break>false</is_break>
<visible>true</visible>
<base_table>true</base_table>
<column_order></column_order>
<formula>t_jw_clientes_atendidos_segmentos.getMedios()</formula>
<column_fg_color></column_fg_color>
<column_bg_color></column_bg_color>
<column_font></column_font>
<font_size></font_size>
<font_bold></font_bold>
<font_italic></font_italic>
<style></style>
<styleClass></styleClass>
<columnRelation></columnRelation>
<hidden>false</hidden>
<header_bg_color></header_bg_color>
<header_fg_color></header_fg_color>
<header_font></header_font>
<header_font_size></header_font_size>
<header_style></header_style>
<header_styleClass></header_styleClass>
<header_title></header_title>
<header_titleKey></header_titleKey>
<header_i18nTitleKey></header_i18nTitleKey>
<header_font_bold></header_font_bold>
<header_font_italic></header_font_italic>
<header_size></header_size>
<round_value></round_value>
<columnHeaderCodeCustomized>false</columnHeaderCodeCustomized>
<columnHeaderCode></columnHeaderCode>
<columnDisplayCodeCustomized>false</columnDisplayCodeCustomized>
<columnDisplayCode></columnDisplayCode>
<onclick></onclick>
<ondblclick></ondblclick>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<columnSetProperty>
</columnSetProperty>
</columnSetProperty>
</columns_item>
<columns_item>
<class>com.egen.develop.generator.report.Column</class>
<name>grandes</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_report_Jw_clientes_atendidos_segmentos</block_name>
<role_item></role_item>
<database_column>grandes</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<label>grandes</label>
<type>int</type>
<columnWidth></columnWidth>
<align>right</align>
<layout>side</layout>
<report_break>0</report_break>
<is_break>false</is_break>
<visible>true</visible>
<base_table>true</base_table>
<column_order></column_order>
<formula>t_jw_clientes_atendidos_segmentos.getGrandes()</formula>
<column_fg_color></column_fg_color>
<column_bg_color></column_bg_color>
<column_font></column_font>
<font_size></font_size>
<font_bold></font_bold>
<font_italic></font_italic>
<style></style>
<styleClass></styleClass>
<columnRelation></columnRelation>
<hidden>false</hidden>
<header_bg_color></header_bg_color>
<header_fg_color></header_fg_color>
<header_font></header_font>
<header_font_size></header_font_size>
<header_style></header_style>
<header_styleClass></header_styleClass>
<header_title></header_title>
<header_titleKey></header_titleKey>
<header_i18nTitleKey></header_i18nTitleKey>
<header_font_bold></header_font_bold>
<header_font_italic></header_font_italic>
<header_size></header_size>
<round_value></round_value>
<columnHeaderCodeCustomized>false</columnHeaderCodeCustomized>
<columnHeaderCode></columnHeaderCode>
<columnDisplayCodeCustomized>false</columnDisplayCodeCustomized>
<columnDisplayCode></columnDisplayCode>
<onclick></onclick>
<ondblclick></ondblclick>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<columnSetProperty>
</columnSetProperty>
</columnSetProperty>
</columns_item>
<columns_item>
<class>com.egen.develop.generator.report.Column</class>
<name>todos</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_report_Jw_clientes_atendidos_segmentos</block_name>
<role_item></role_item>
<database_column>todos</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<label>todos</label>
<type>int</type>
<columnWidth></columnWidth>
<align>right</align>
<layout>side</layout>
<report_break>0</report_break>
<is_break>false</is_break>
<visible>true</visible>
<base_table>true</base_table>
<column_order></column_order>
<formula>t_jw_clientes_atendidos_segmentos.getTodos()</formula>
<column_fg_color></column_fg_color>
<column_bg_color></column_bg_color>
<column_font></column_font>
<font_size></font_size>
<font_bold></font_bold>
<font_italic></font_italic>
<style></style>
<styleClass></styleClass>
<columnRelation></columnRelation>
<hidden>false</hidden>
<header_bg_color></header_bg_color>
<header_fg_color></header_fg_color>
<header_font></header_font>
<header_font_size></header_font_size>
<header_style></header_style>
<header_styleClass></header_styleClass>
<header_title></header_title>
<header_titleKey></header_titleKey>
<header_i18nTitleKey></header_i18nTitleKey>
<header_font_bold></header_font_bold>
<header_font_italic></header_font_italic>
<header_size></header_size>
<round_value></round_value>
<columnHeaderCodeCustomized>false</columnHeaderCodeCustomized>
<columnHeaderCode></columnHeaderCode>
<columnDisplayCodeCustomized>false</columnDisplayCodeCustomized>
<columnDisplayCode></columnDisplayCode>
<onclick></onclick>
<ondblclick></ondblclick>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<columnSetProperty>
</columnSetProperty>
</columnSetProperty>
</columns_item>
</columns>
<reportset></reportset>
</blocks_item>
<blocks_item>
<class>com.egen.develop.generator.report.BlockReport</class>
<name>bl_report_Jw_clientes_nao_atendidos_segmentos</name>
<title>Jw_clientes_nao_atendidos_segmentos</title>
<i18n></i18n>
<database>session</database>
<db_object>Jw_clientes_nao_atendidos_segmentos</db_object>
<script_block></script_block>
<script_template></script_template>
<obs></obs>
<maxRows>0</maxRows>
<resultSetName></resultSetName>
<select_clause></select_clause>
<where_clause></where_clause>
<order_by></order_by>
<group_by></group_by>
<having></having>
<styleClass></styleClass>
<style></style>
<relations></relations>
<tabs></tabs>
<receive_parameter>false</receive_parameter>
<showparameter>false</showparameter>
<message_type>no</message_type>
<message_text></message_text>
<banner_type>logo</banner_type>
<role></role>
<roleinclude>false</roleinclude>
<i18n_obs></i18n_obs>
<tab_pos>tab0</tab_pos>
<block_size></block_size>
<block_position>Standart</block_position>
<displayError></displayError>
<form>
<class>com.egen.develop.generator.form.Form</class>
<action></action>
<enctype></enctype>
<focus></focus>
<method></method>
<onreset></onreset>
<onsubmit></onsubmit>
<scope></scope>
<style></style>
<styleClass></styleClass>
<styleId></styleId>
<target></target>
<type></type>
<disabled>false</disabled><readonly>false</readonly><open_form>false</open_form>
<close_form>false</close_form>
</form>
<blockSetProperty>
</blockSetProperty>
</blockSetProperty>
<fl_column_header>M</fl_column_header>
<record_page>0</record_page>
<navigator_Style></navigator_Style>
<navigator_Frame>5</navigator_Frame>
<navigator_local></navigator_local>
<border>0</border>
<frame></frame>
<line_color>default</line_color>
<highlight_class></highlight_class>
<click_class></click_class>
<reportTemplate></reportTemplate>
<report><%
if(session.getAttribute("ca_consulta_segmentos")=="S")
{
  %>

  <%
  java.util.Vector res_Jw_clientes_atendidos_segmentos = (java.util.Vector)session.getAttribute("res_Jw_clientes_nao_atendidos_segmentos");
  %>

  <form  name="bl_report_Jw_clientes_atendidos_segmentos" id="bl_report_Jw_clientes_atendidos_segmentos" class="baseForm" method="post" >


    <%
    if (res_Jw_clientes_atendidos_segmentos!=null && res_Jw_clientes_atendidos_segmentos.size()>0) {
      %>

      <table id="TRbl_report_Jw_clientes_atendidos_segmentos"  class="reportTable"   style="width:99%; " border=1; >
        <%
        int seg_cdgo =  0;
        java.lang.String seg_desc =  null;
        int pequenos =  0;
        int medios =  0;
        int grandes =  0;
        int todos =  0;
        int sum_pequenos = 0;
        int sum_medios = 0;
        int sum_grandes = 0;
        int sum_todos = 0;
        %>


        <tr class="reportHeader3">
          <td colspan="5" align="center">

          </td>
        </tr>

        <tr class="reportTr">
          <td class="columnTdHeader" style="text-align:left;" >
            Clientes Não Atendidos
          </td>

          <td class="columnTdHeader" style="text-align:right;" >
            Pequeno
          </td>

          <td class="columnTdHeader" style="text-align:right;" >
            Médio
          </td>

          <td class="columnTdHeader" style="text-align:right;" >
            Grande
          </td>

          <td class="columnTdHeader" style="text-align:right;" >
            Geral
          </td>

        </tr>

        <tr class="reportTr">
          <td class="columnTdHeader" style="text-align:left;" >
            Segmento
          </td>

          <td class="columnTdHeader" style="text-align:right;" >
            Até 50.000
          </td>

          <td class="columnTdHeader" style="text-align:right;" >
            De 50.001,00 a 200.000,00
          </td>

          <td class="columnTdHeader" style="text-align:right;" >
            Acima de 200.000,00
          </td>

          <td class="columnTdHeader" style="text-align:right;" >
            Total MI Ativo
          </td>

        </tr>

        <%
        int i_bl_report_Jw_clientes_atendidos_segmentos = 0;
        while (i_bl_report_Jw_clientes_atendidos_segmentos<res_Jw_clientes_atendidos_segmentos.size()) {
          portalbr.dbobj.view.Jw_clientes_nao_atendidos_segmentos t_jw_clientes_atendidos_segmentos = (portalbr.dbobj.view.Jw_clientes_nao_atendidos_segmentos)res_Jw_clientes_atendidos_segmentos.elementAt(i_bl_report_Jw_clientes_atendidos_segmentos);
          seg_cdgo = t_jw_clientes_atendidos_segmentos.getSeg_cdgo();
          seg_desc = t_jw_clientes_atendidos_segmentos.getSeg_desc()==null?"":t_jw_clientes_atendidos_segmentos.getSeg_desc();
          pequenos = t_jw_clientes_atendidos_segmentos.getPequenos();
          medios = t_jw_clientes_atendidos_segmentos.getMedios();
          grandes = t_jw_clientes_atendidos_segmentos.getGrandes();
          todos = t_jw_clientes_atendidos_segmentos.getTodos();
   
          sum_pequenos += pequenos;
          sum_medios += medios;
          sum_grandes += grandes;
          sum_todos += todos;

          String style_bl_report_Jw_clientes_atendidos_segmentos="";
          if (!((i_bl_report_Jw_clientes_atendidos_segmentos%2)!=0)) {
            style_bl_report_Jw_clientes_atendidos_segmentos="rowColor";
          } else {
            style_bl_report_Jw_clientes_atendidos_segmentos="rowBlank";
          }
          %>

          <tr class='<%= style_bl_report_Jw_clientes_atendidos_segmentos %>' id="TRbl_report_Jw_clientes_atendidos_segmentos<%=i_bl_report_Jw_clientes_atendidos_segmentos%>" >

            <td class="reportColumn" style="text-align:left;" >
              <%= seg_desc %>
            </td>

            <td class="reportColumn" style="text-align:right;" >
              <% if(pequenos>0){ %>
              <a href="../adm/Clientes_nao_atendidosForm.do?select_action=&cab=do Segmento : <%= seg_desc %>&limite=p&segmento=<%= seg_cdgo %>" target="_self" STYLE="cursor:hand" onclick="bloqueia();">
                <%= com.egen.util.text.FormatNumber.format(pequenos, "##,##0.##") %>
              </a>
              <% } else { %>
                0
              <% } %>
            </td>

            <td class="reportColumn" style="text-align:right;" >
              <% if(medios>0){ %>
              <a href="../adm/Clientes_nao_atendidosForm.do?select_action=&cab=do Segmento : <%= seg_desc %>&limite=m&segmento=<%= seg_cdgo %>" target="_self" STYLE="cursor:hand" onclick="bloqueia();">
                <%= com.egen.util.text.FormatNumber.format(medios, "##,##0.##") %>
              </a>
              <% } else { %>
                0
              <% } %>
            </td>

            <td class="reportColumn" style="text-align:right;" >
              <% if(grandes>0){ %>
              <a href="../adm/Clientes_nao_atendidosForm.do?select_action=&cab=do Segmento : <%= seg_desc %>&limite=g&segmento=<%= seg_cdgo %>" target="_self" STYLE="cursor:hand" onclick="bloqueia();">
                <%= com.egen.util.text.FormatNumber.format(grandes, "##,##0.##") %>
              </a>
              <% } else { %>
                0
              <% } %>
            </td>

            <td class="reportColumn" style="text-align:right;" >
              <% if(todos>0){ %>
              <a href="../adm/Clientes_nao_atendidosForm.do?select_action=&cab=do Segmento : <%= seg_desc %>&limite=&segmento=<%= seg_cdgo %>" target="_self" STYLE="cursor:hand" onclick="bloqueia();">
                <%= com.egen.util.text.FormatNumber.format(todos, "##,##0.##") %>
              </a>
              <% } else { %>
                0
              <% } %>
            </td>

          </tr>

          <%
          i_bl_report_Jw_clientes_atendidos_segmentos++;
          if (i_bl_report_Jw_clientes_atendidos_segmentos<res_Jw_clientes_atendidos_segmentos.size()) {
            t_jw_clientes_atendidos_segmentos = (portalbr.dbobj.view.Jw_clientes_nao_atendidos_segmentos)res_Jw_clientes_atendidos_segmentos.elementAt(i_bl_report_Jw_clientes_atendidos_segmentos);
            seg_cdgo = t_jw_clientes_atendidos_segmentos.getSeg_cdgo();
            seg_desc = t_jw_clientes_atendidos_segmentos.getSeg_desc()==null?"":t_jw_clientes_atendidos_segmentos.getSeg_desc();
            pequenos = t_jw_clientes_atendidos_segmentos.getPequenos();
            medios = t_jw_clientes_atendidos_segmentos.getMedios();
            grandes = t_jw_clientes_atendidos_segmentos.getGrandes();
            todos = t_jw_clientes_atendidos_segmentos.getTodos();
//            sum_pequenos += pequenos;
//            sum_medios += medios;
//            sum_grandes += grandes;
//            sum_todos += todos;
          } else {
          }
        }
        %>

          <tr class="totalColumn">

            <td class="reportColumn" style="text-align:left;" >
              <b>Total :</b>
            </td>

            <td class="reportColumn" style="text-align:right;" >
              <b><%= com.egen.util.text.FormatNumber.format(sum_pequenos, "##,##0.##") %></b>
                
            </td>

            <td class="reportColumn" style="text-align:right;" >
              <b><%= com.egen.util.text.FormatNumber.format(sum_medios, "##,##0.##") %></b>
            </td>

            <td class="reportColumn" style="text-align:right;" >
              <b><%= com.egen.util.text.FormatNumber.format(sum_grandes, "##,##0.##") %></b>
            </td>

            <td class="reportColumn" style="text-align:right;" >
              <b><%= com.egen.util.text.FormatNumber.format(sum_todos, "##,##0.##") %></b>
            </td>

          </tr>

      </table>

      <%
    }
    %>

  </form>
  <%
}
%>

</report>
<datasetCodeCustomized>false</datasetCodeCustomized>
<datasetCode></datasetCode>
<columns>
<columns_item>
<class>com.egen.develop.generator.report.Column</class>
<name>seg_cdgo1</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_report_Jw_clientes_nao_atendidos_segmentos</block_name>
<role_item></role_item>
<database_column>seg_cdgo</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<label>seg_cdgo1</label>
<type>int</type>
<columnWidth></columnWidth>
<align>right</align>
<layout>side</layout>
<report_break>0</report_break>
<is_break>false</is_break>
<visible>true</visible>
<base_table>true</base_table>
<column_order></column_order>
<formula>t_jw_clientes_nao_atendidos_segmentos.getSeg_cdgo()</formula>
<column_fg_color></column_fg_color>
<column_bg_color></column_bg_color>
<column_font></column_font>
<font_size></font_size>
<font_bold></font_bold>
<font_italic></font_italic>
<style></style>
<styleClass></styleClass>
<columnRelation></columnRelation>
<hidden>false</hidden>
<header_bg_color></header_bg_color>
<header_fg_color></header_fg_color>
<header_font></header_font>
<header_font_size></header_font_size>
<header_style></header_style>
<header_styleClass></header_styleClass>
<header_title></header_title>
<header_titleKey></header_titleKey>
<header_i18nTitleKey></header_i18nTitleKey>
<header_font_bold></header_font_bold>
<header_font_italic></header_font_italic>
<header_size></header_size>
<round_value></round_value>
<columnHeaderCodeCustomized>false</columnHeaderCodeCustomized>
<columnHeaderCode></columnHeaderCode>
<columnDisplayCodeCustomized>false</columnDisplayCodeCustomized>
<columnDisplayCode></columnDisplayCode>
<onclick></onclick>
<ondblclick></ondblclick>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<columnSetProperty>
</columnSetProperty>
</columnSetProperty>
</columns_item>
<columns_item>
<class>com.egen.develop.generator.report.Column</class>
<name>seg_desc1</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_report_Jw_clientes_nao_atendidos_segmentos</block_name>
<role_item></role_item>
<database_column>seg_desc</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<label>seg_desc1</label>
<type>java.lang.String</type>
<columnWidth></columnWidth>
<align>left</align>
<layout>side</layout>
<report_break>0</report_break>
<is_break>false</is_break>
<visible>true</visible>
<base_table>true</base_table>
<column_order></column_order>
<formula>t_jw_clientes_nao_atendidos_segmentos.getSeg_desc()==null?"":t_jw_clientes_nao_atendidos_segmentos.getSeg_desc()</formula>
<column_fg_color></column_fg_color>
<column_bg_color></column_bg_color>
<column_font></column_font>
<font_size></font_size>
<font_bold></font_bold>
<font_italic></font_italic>
<style></style>
<styleClass></styleClass>
<columnRelation></columnRelation>
<hidden>false</hidden>
<header_bg_color></header_bg_color>
<header_fg_color></header_fg_color>
<header_font></header_font>
<header_font_size></header_font_size>
<header_style></header_style>
<header_styleClass></header_styleClass>
<header_title></header_title>
<header_titleKey></header_titleKey>
<header_i18nTitleKey></header_i18nTitleKey>
<header_font_bold></header_font_bold>
<header_font_italic></header_font_italic>
<header_size></header_size>
<round_value></round_value>
<columnHeaderCodeCustomized>false</columnHeaderCodeCustomized>
<columnHeaderCode></columnHeaderCode>
<columnDisplayCodeCustomized>false</columnDisplayCodeCustomized>
<columnDisplayCode></columnDisplayCode>
<onclick></onclick>
<ondblclick></ondblclick>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<columnSetProperty>
</columnSetProperty>
</columnSetProperty>
</columns_item>
<columns_item>
<class>com.egen.develop.generator.report.Column</class>
<name>pequenos1</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_report_Jw_clientes_nao_atendidos_segmentos</block_name>
<role_item></role_item>
<database_column>pequenos</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<label>pequenos1</label>
<type>int</type>
<columnWidth></columnWidth>
<align>right</align>
<layout>side</layout>
<report_break>0</report_break>
<is_break>false</is_break>
<visible>true</visible>
<base_table>true</base_table>
<column_order></column_order>
<formula>t_jw_clientes_nao_atendidos_segmentos.getPequenos()</formula>
<column_fg_color></column_fg_color>
<column_bg_color></column_bg_color>
<column_font></column_font>
<font_size></font_size>
<font_bold></font_bold>
<font_italic></font_italic>
<style></style>
<styleClass></styleClass>
<columnRelation></columnRelation>
<hidden>false</hidden>
<header_bg_color></header_bg_color>
<header_fg_color></header_fg_color>
<header_font></header_font>
<header_font_size></header_font_size>
<header_style></header_style>
<header_styleClass></header_styleClass>
<header_title></header_title>
<header_titleKey></header_titleKey>
<header_i18nTitleKey></header_i18nTitleKey>
<header_font_bold></header_font_bold>
<header_font_italic></header_font_italic>
<header_size></header_size>
<round_value></round_value>
<columnHeaderCodeCustomized>false</columnHeaderCodeCustomized>
<columnHeaderCode></columnHeaderCode>
<columnDisplayCodeCustomized>false</columnDisplayCodeCustomized>
<columnDisplayCode></columnDisplayCode>
<onclick></onclick>
<ondblclick></ondblclick>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<columnSetProperty>
</columnSetProperty>
</columnSetProperty>
</columns_item>
<columns_item>
<class>com.egen.develop.generator.report.Column</class>
<name>medios1</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_report_Jw_clientes_nao_atendidos_segmentos</block_name>
<role_item></role_item>
<database_column>medios</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<label>medios1</label>
<type>int</type>
<columnWidth></columnWidth>
<align>right</align>
<layout>side</layout>
<report_break>0</report_break>
<is_break>false</is_break>
<visible>true</visible>
<base_table>true</base_table>
<column_order></column_order>
<formula>t_jw_clientes_nao_atendidos_segmentos.getMedios()</formula>
<column_fg_color></column_fg_color>
<column_bg_color></column_bg_color>
<column_font></column_font>
<font_size></font_size>
<font_bold></font_bold>
<font_italic></font_italic>
<style></style>
<styleClass></styleClass>
<columnRelation></columnRelation>
<hidden>false</hidden>
<header_bg_color></header_bg_color>
<header_fg_color></header_fg_color>
<header_font></header_font>
<header_font_size></header_font_size>
<header_style></header_style>
<header_styleClass></header_styleClass>
<header_title></header_title>
<header_titleKey></header_titleKey>
<header_i18nTitleKey></header_i18nTitleKey>
<header_font_bold></header_font_bold>
<header_font_italic></header_font_italic>
<header_size></header_size>
<round_value></round_value>
<columnHeaderCodeCustomized>false</columnHeaderCodeCustomized>
<columnHeaderCode></columnHeaderCode>
<columnDisplayCodeCustomized>false</columnDisplayCodeCustomized>
<columnDisplayCode></columnDisplayCode>
<onclick></onclick>
<ondblclick></ondblclick>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<columnSetProperty>
</columnSetProperty>
</columnSetProperty>
</columns_item>
<columns_item>
<class>com.egen.develop.generator.report.Column</class>
<name>grandes1</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_report_Jw_clientes_nao_atendidos_segmentos</block_name>
<role_item></role_item>
<database_column>grandes</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<label>grandes1</label>
<type>int</type>
<columnWidth></columnWidth>
<align>right</align>
<layout>side</layout>
<report_break>0</report_break>
<is_break>false</is_break>
<visible>true</visible>
<base_table>true</base_table>
<column_order></column_order>
<formula>t_jw_clientes_nao_atendidos_segmentos.getGrandes()</formula>
<column_fg_color></column_fg_color>
<column_bg_color></column_bg_color>
<column_font></column_font>
<font_size></font_size>
<font_bold></font_bold>
<font_italic></font_italic>
<style></style>
<styleClass></styleClass>
<columnRelation></columnRelation>
<hidden>false</hidden>
<header_bg_color></header_bg_color>
<header_fg_color></header_fg_color>
<header_font></header_font>
<header_font_size></header_font_size>
<header_style></header_style>
<header_styleClass></header_styleClass>
<header_title></header_title>
<header_titleKey></header_titleKey>
<header_i18nTitleKey></header_i18nTitleKey>
<header_font_bold></header_font_bold>
<header_font_italic></header_font_italic>
<header_size></header_size>
<round_value></round_value>
<columnHeaderCodeCustomized>false</columnHeaderCodeCustomized>
<columnHeaderCode></columnHeaderCode>
<columnDisplayCodeCustomized>false</columnDisplayCodeCustomized>
<columnDisplayCode></columnDisplayCode>
<onclick></onclick>
<ondblclick></ondblclick>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<columnSetProperty>
</columnSetProperty>
</columnSetProperty>
</columns_item>
<columns_item>
<class>com.egen.develop.generator.report.Column</class>
<name>todos1</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_report_Jw_clientes_nao_atendidos_segmentos</block_name>
<role_item></role_item>
<database_column>todos</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<label>todos1</label>
<type>int</type>
<columnWidth></columnWidth>
<align>right</align>
<layout>side</layout>
<report_break>0</report_break>
<is_break>false</is_break>
<visible>true</visible>
<base_table>true</base_table>
<column_order></column_order>
<formula>t_jw_clientes_nao_atendidos_segmentos.getTodos()</formula>
<column_fg_color></column_fg_color>
<column_bg_color></column_bg_color>
<column_font></column_font>
<font_size></font_size>
<font_bold></font_bold>
<font_italic></font_italic>
<style></style>
<styleClass></styleClass>
<columnRelation></columnRelation>
<hidden>false</hidden>
<header_bg_color></header_bg_color>
<header_fg_color></header_fg_color>
<header_font></header_font>
<header_font_size></header_font_size>
<header_style></header_style>
<header_styleClass></header_styleClass>
<header_title></header_title>
<header_titleKey></header_titleKey>
<header_i18nTitleKey></header_i18nTitleKey>
<header_font_bold></header_font_bold>
<header_font_italic></header_font_italic>
<header_size></header_size>
<round_value></round_value>
<columnHeaderCodeCustomized>false</columnHeaderCodeCustomized>
<columnHeaderCode></columnHeaderCode>
<columnDisplayCodeCustomized>false</columnDisplayCodeCustomized>
<columnDisplayCode></columnDisplayCode>
<onclick></onclick>
<ondblclick></ondblclick>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<columnSetProperty>
</columnSetProperty>
</columnSetProperty>
</columns_item>
</columns>
<reportset></reportset>
</blocks_item>
<blocks_item>
<class>com.egen.develop.generator.report.BlockReport</class>
<name>bl_report_Jw_clientes_segmentos_regional</name>
<title>Clientes regionais</title>
<i18n></i18n>
<database>session</database>
<db_object>Jw_clientes_segmentos_regional</db_object>
<script_block></script_block>
<script_template></script_template>
<obs></obs>
<maxRows>0</maxRows>
<resultSetName></resultSetName>
<select_clause></select_clause>
<where_clause></where_clause>
<order_by></order_by>
<group_by></group_by>
<having></having>
<styleClass></styleClass>
<style></style>
<relations></relations>
<tabs></tabs>
<receive_parameter>false</receive_parameter>
<showparameter>false</showparameter>
<message_type>no</message_type>
<message_text></message_text>
<banner_type>no_banner</banner_type>
<role></role>
<roleinclude>false</roleinclude>
<i18n_obs></i18n_obs>
<tab_pos>tab0</tab_pos>
<block_size></block_size>
<block_position>Standart</block_position>
<displayError></displayError>
<form>
<class>com.egen.develop.generator.form.Form</class>
<action></action>
<enctype></enctype>
<focus></focus>
<method></method>
<onreset></onreset>
<onsubmit></onsubmit>
<scope></scope>
<style></style>
<styleClass></styleClass>
<styleId></styleId>
<target></target>
<type></type>
<disabled>false</disabled><readonly>false</readonly><open_form>false</open_form>
<close_form>false</close_form>
</form>
<blockSetProperty>
</blockSetProperty>
</blockSetProperty>
<fl_column_header>M</fl_column_header>
<record_page>0</record_page>
<navigator_Style></navigator_Style>
<navigator_Frame>5</navigator_Frame>
<navigator_local></navigator_local>
<border>0</border>
<frame></frame>
<line_color>default</line_color>
<highlight_class></highlight_class>
<click_class></click_class>
<reportTemplate></reportTemplate>
<report><%
if(session.getAttribute("ca_consulta_regionais")=="S") {
%>
<%
{
  %>

  <%
  java.util.Vector res_Jw_clientes_segmentos_regional = (java.util.Vector)session.getAttribute("res_Jw_clientes_segmentos_regional");
  %>

  <form  name="bl_report_Jw_clientes_segmentos_regional" id="bl_report_Jw_clientes_segmentos_regional" class="baseForm" method="post" >

    <%
    if (res_Jw_clientes_segmentos_regional!=null && res_Jw_clientes_segmentos_regional.size()>0) {
      %>

      <table id="TRbl_report_Jw_clientes_segmentos_regional"  class="reportTable" border=1;  style="width:99%; "  >
        <tr class="reportHeader3">
          <td colspan="5" align="center">
            <big>Regionais/Limite Crédito</big>
          </td>
        </tr>
        <%
        int codigo_regional =  0;
        java.lang.String nome =  null;
        java.lang.String situacao =  null;
        int pequenos2 =  0;
        int medios2 =  0;
        int grandes2 =  0;
        int todos2 =  0;
        String _b0_control = "__";
        int sum_pequenos2_0 = 0;
        int sum_pequenos2_1 = 0;
        int sum_medios2_0 = 0;
        int sum_medios2_1 = 0;
        int sum_grandes2_0 = 0;
        int sum_grandes2_1 = 0;
        int sum_todos2_0 = 0;
        int sum_todos2_1 = 0;
        int i_bl_report_Jw_clientes_segmentos_regional = 0;
        while (i_bl_report_Jw_clientes_segmentos_regional<res_Jw_clientes_segmentos_regional.size()) {
          portalbr.dbobj.view.Jw_clientes_segmentos_regional t_jw_clientes_segmentos_regional = (portalbr.dbobj.view.Jw_clientes_segmentos_regional)res_Jw_clientes_segmentos_regional.elementAt(i_bl_report_Jw_clientes_segmentos_regional);
          codigo_regional = t_jw_clientes_segmentos_regional.getCodigo_regional();
          nome = t_jw_clientes_segmentos_regional.getNome()==null?"":t_jw_clientes_segmentos_regional.getNome();
          situacao = t_jw_clientes_segmentos_regional.getSituacao()==null?"":t_jw_clientes_segmentos_regional.getSituacao();
          pequenos2 = t_jw_clientes_segmentos_regional.getPequenos();
          medios2 = t_jw_clientes_segmentos_regional.getMedios();
          grandes2 = t_jw_clientes_segmentos_regional.getGrandes();
          todos2 = t_jw_clientes_segmentos_regional.getTodos();
          sum_pequenos2_0 += pequenos2;
          sum_pequenos2_1 += pequenos2;
          sum_medios2_0 += medios2;
          sum_medios2_1 += medios2;
          sum_grandes2_0 += grandes2;
          sum_grandes2_1 += grandes2;
          sum_todos2_0 += todos2;
          sum_todos2_1 += todos2;
          String _b0_value = com.egen.util.text.FormatNumber.format(codigo_regional);
          if (_b0_control != null && !_b0_control.equals(_b0_value)) {
            %>
            <tr class="reportHeader">
              <td colspan="5">
                Regional : <%= codigo_regional %>-<%= nome %>
              </td>
            </tr>
            <%
            %>

            <tr class="reportTr">
              <td class="columnTdHeader" style="text-align:left;" >
                
              </td>

              <td class="columnTdHeader" style="text-align:right;" >
                Pequenos
              </td>

              <td class="columnTdHeader" style="text-align:right;" >
                Médios
              </td>

              <td class="columnTdHeader" style="text-align:right;" >
                Grandes
              </td>

              <td class="columnTdHeader" style="text-align:right;" >
                Todos
              </td>

            </tr>

            <%
          }
          String style_bl_report_Jw_clientes_segmentos_regional="";
          if (!((i_bl_report_Jw_clientes_segmentos_regional%2)!=0)) {
            style_bl_report_Jw_clientes_segmentos_regional="rowColor";
          } else {
            style_bl_report_Jw_clientes_segmentos_regional="rowBlank";
          }
          %>

          <tr class='<%= style_bl_report_Jw_clientes_segmentos_regional %>' id="TRbl_report_Jw_clientes_segmentos_regional<%=i_bl_report_Jw_clientes_segmentos_regional%>" >
            <td class="reportColumn" style="text-align:left;" >
              <%= situacao %>
            </td>

            <td class="reportColumn" style="text-align:right;" >
              <%= com.egen.util.text.FormatNumber.format(pequenos2, "##,##0.##") %>
            </td>

            <td class="reportColumn" style="text-align:right;" >
              <%= com.egen.util.text.FormatNumber.format(medios2, "##,##0.##") %>
            </td>

            <td class="reportColumn" style="text-align:right;" >
              <%= com.egen.util.text.FormatNumber.format(grandes2, "##,##0.##") %>
            </td>

            <td class="reportColumn" style="text-align:right;" >
              <%= com.egen.util.text.FormatNumber.format(todos2, "##,##0.##") %>
            </td>

          </tr>

          <%
          _b0_control = _b0_value;
          i_bl_report_Jw_clientes_segmentos_regional++;
          if (i_bl_report_Jw_clientes_segmentos_regional<res_Jw_clientes_segmentos_regional.size()) {
            t_jw_clientes_segmentos_regional = (portalbr.dbobj.view.Jw_clientes_segmentos_regional)res_Jw_clientes_segmentos_regional.elementAt(i_bl_report_Jw_clientes_segmentos_regional);
            codigo_regional = t_jw_clientes_segmentos_regional.getCodigo_regional();
            nome = t_jw_clientes_segmentos_regional.getNome()==null?"":t_jw_clientes_segmentos_regional.getNome();
            situacao = t_jw_clientes_segmentos_regional.getSituacao()==null?"":t_jw_clientes_segmentos_regional.getSituacao();
            pequenos2 = t_jw_clientes_segmentos_regional.getPequenos();
            medios2 = t_jw_clientes_segmentos_regional.getMedios();
            grandes2 = t_jw_clientes_segmentos_regional.getGrandes();
            todos2 = t_jw_clientes_segmentos_regional.getTodos();
            _b0_value = com.egen.util.text.FormatNumber.format(codigo_regional);
          } else {
            _b0_control = "__";
          }
          if (_b0_control != null && !_b0_control.equals(_b0_value)) {
            %>

            <tr class="totalColumn">
              <td>
                <b>Total Regional:</b>   
              </td>
              <td class="totalTdColumn"  style="text-align:right;" >
                <b><%= com.egen.util.text.FormatNumber.format(sum_pequenos2_1, "##,##0.##") %></b>
              </td>
              <td class="totalTdColumn"  style="text-align:right;" >
                <b><%= com.egen.util.text.FormatNumber.format(sum_medios2_1, "##,##0.##") %></b>
              </td>
              <td class="totalTdColumn"  style="text-align:right;" >
                <b><%= com.egen.util.text.FormatNumber.format(sum_grandes2_1, "##,##0.##") %></b>
              </td>
              <td class="totalTdColumn"  style="text-align:right;" >
                <b><%= com.egen.util.text.FormatNumber.format(sum_todos2_1, "##,##0.##") %></b>
              </td>
            </tr>

            <%
            sum_pequenos2_1 = 0;
            sum_medios2_1 = 0;
            sum_grandes2_1 = 0;
            sum_todos2_1 = 0;
          }
        }
        %>

        <tr class="totalColumn">
          <td>
            <b>Total Geral:</b>   
          </td>
          <td class="totalTdColumn"  style="text-align:right;" >
            <b><%= com.egen.util.text.FormatNumber.format(sum_pequenos2_0, "##,##0.##") %></b>
          </td>
          <td class="totalTdColumn"  style="text-align:right;" >
            <b><%= com.egen.util.text.FormatNumber.format(sum_medios2_0, "##,##0.##") %></b>
          </td>
          <td class="totalTdColumn"  style="text-align:right;" >
            <b><%= com.egen.util.text.FormatNumber.format(sum_grandes2_0, "##,##0.##") %></b>
          </td>
          <td class="totalTdColumn"  style="text-align:right;" >
            <b><%= com.egen.util.text.FormatNumber.format(sum_todos2_0, "##,##0.##") %></b>
          </td>
        </tr>

        <%
        %>

      </table>

      <%
    }
    %>

  </form>
  <%
}
%>

<%
  }
%>

</report>
<datasetCodeCustomized>false</datasetCodeCustomized>
<datasetCode></datasetCode>
<columns>
<columns_item>
<class>com.egen.develop.generator.report.Column</class>
<name>codigo_regional</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_report_Jw_clientes_segmentos_regional</block_name>
<role_item></role_item>
<database_column>codigo_regional</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<label>codigo_regional</label>
<type>int</type>
<columnWidth></columnWidth>
<align>right</align>
<layout>side</layout>
<report_break>0</report_break>
<is_break>true</is_break>
<visible>true</visible>
<base_table>true</base_table>
<column_order></column_order>
<formula>t_jw_clientes_segmentos_regional.getCodigo_regional()</formula>
<column_fg_color></column_fg_color>
<column_bg_color></column_bg_color>
<column_font></column_font>
<font_size></font_size>
<font_bold></font_bold>
<font_italic></font_italic>
<style></style>
<styleClass></styleClass>
<columnRelation></columnRelation>
<hidden>false</hidden>
<header_bg_color></header_bg_color>
<header_fg_color></header_fg_color>
<header_font></header_font>
<header_font_size></header_font_size>
<header_style></header_style>
<header_styleClass></header_styleClass>
<header_title></header_title>
<header_titleKey></header_titleKey>
<header_i18nTitleKey></header_i18nTitleKey>
<header_font_bold></header_font_bold>
<header_font_italic></header_font_italic>
<header_size></header_size>
<round_value></round_value>
<columnHeaderCodeCustomized>false</columnHeaderCodeCustomized>
<columnHeaderCode></columnHeaderCode>
<columnDisplayCodeCustomized>false</columnDisplayCodeCustomized>
<columnDisplayCode></columnDisplayCode>
<onclick></onclick>
<ondblclick></ondblclick>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<columnSetProperty>
</columnSetProperty>
</columnSetProperty>
</columns_item>
<columns_item>
<class>com.egen.develop.generator.report.Column</class>
<name>nome</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_report_Jw_clientes_segmentos_regional</block_name>
<role_item></role_item>
<database_column>nome</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<label>nome</label>
<type>java.lang.String</type>
<columnWidth></columnWidth>
<align>left</align>
<layout>side</layout>
<report_break>0</report_break>
<is_break>false</is_break>
<visible>true</visible>
<base_table>true</base_table>
<column_order></column_order>
<formula>t_jw_clientes_segmentos_regional.getNome()==null?"":t_jw_clientes_segmentos_regional.getNome()</formula>
<column_fg_color></column_fg_color>
<column_bg_color></column_bg_color>
<column_font></column_font>
<font_size></font_size>
<font_bold></font_bold>
<font_italic></font_italic>
<style></style>
<styleClass></styleClass>
<columnRelation></columnRelation>
<hidden>false</hidden>
<header_bg_color></header_bg_color>
<header_fg_color></header_fg_color>
<header_font></header_font>
<header_font_size></header_font_size>
<header_style></header_style>
<header_styleClass></header_styleClass>
<header_title></header_title>
<header_titleKey></header_titleKey>
<header_i18nTitleKey></header_i18nTitleKey>
<header_font_bold></header_font_bold>
<header_font_italic></header_font_italic>
<header_size></header_size>
<round_value></round_value>
<columnHeaderCodeCustomized>false</columnHeaderCodeCustomized>
<columnHeaderCode></columnHeaderCode>
<columnDisplayCodeCustomized>false</columnDisplayCodeCustomized>
<columnDisplayCode></columnDisplayCode>
<onclick></onclick>
<ondblclick></ondblclick>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<columnSetProperty>
</columnSetProperty>
</columnSetProperty>
</columns_item>
<columns_item>
<class>com.egen.develop.generator.report.Column</class>
<name>situacao</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_report_Jw_clientes_segmentos_regional</block_name>
<role_item></role_item>
<database_column>situacao</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<label>situacao</label>
<type>java.lang.String</type>
<columnWidth></columnWidth>
<align>left</align>
<layout>side</layout>
<report_break>1</report_break>
<is_break>false</is_break>
<visible>true</visible>
<base_table>true</base_table>
<column_order></column_order>
<formula>t_jw_clientes_segmentos_regional.getSituacao()==null?"":t_jw_clientes_segmentos_regional.getSituacao()</formula>
<column_fg_color></column_fg_color>
<column_bg_color></column_bg_color>
<column_font></column_font>
<font_size></font_size>
<font_bold></font_bold>
<font_italic></font_italic>
<style></style>
<styleClass></styleClass>
<columnRelation></columnRelation>
<hidden>false</hidden>
<header_bg_color></header_bg_color>
<header_fg_color></header_fg_color>
<header_font></header_font>
<header_font_size></header_font_size>
<header_style></header_style>
<header_styleClass></header_styleClass>
<header_title></header_title>
<header_titleKey></header_titleKey>
<header_i18nTitleKey></header_i18nTitleKey>
<header_font_bold></header_font_bold>
<header_font_italic></header_font_italic>
<header_size></header_size>
<round_value></round_value>
<columnHeaderCodeCustomized>false</columnHeaderCodeCustomized>
<columnHeaderCode></columnHeaderCode>
<columnDisplayCodeCustomized>false</columnDisplayCodeCustomized>
<columnDisplayCode></columnDisplayCode>
<onclick></onclick>
<ondblclick></ondblclick>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<columnSetProperty>
</columnSetProperty>
</columnSetProperty>
</columns_item>
<columns_item>
<class>com.egen.develop.generator.report.Column</class>
<name>pequenos2</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_report_Jw_clientes_segmentos_regional</block_name>
<role_item></role_item>
<database_column>pequenos</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<label>pequenos2</label>
<type>int</type>
<columnWidth></columnWidth>
<align>right</align>
<layout>side</layout>
<report_break>1</report_break>
<is_break>false</is_break>
<visible>true</visible>
<base_table>true</base_table>
<column_order></column_order>
<formula>t_jw_clientes_segmentos_regional.getPequenos()</formula>
<column_fg_color></column_fg_color>
<column_bg_color></column_bg_color>
<column_font></column_font>
<font_size></font_size>
<font_bold></font_bold>
<font_italic></font_italic>
<style></style>
<styleClass></styleClass>
<columnRelation></columnRelation>
<totals>
<totals_item>
<class>com.egen.develop.generator.report.ReportTotal</class>
<type>sum</type>
<totalformat></totalformat>
<report_break>0</report_break>
<style></style>
<label></label>
<i18n></i18n>
<column_fg_color></column_fg_color>
<column_bg_color></column_bg_color>
<column_font></column_font>
<font_size></font_size>
<font_bold></font_bold>
<font_italic></font_italic>
<styleClass></styleClass>
<title></title>
<titleKey></titleKey>
<totalDisplayCustomized>false</totalDisplayCustomized>
<i18nTitleKey></i18nTitleKey>
<totalDisplay></totalDisplay>
<totalCalculationCustomized>false</totalCalculationCustomized>
<totalCalculation></totalCalculation>
<reportTotalSetProperty>
</reportTotalSetProperty>
</reportTotalSetProperty>
</totals_item>
<totals_item>
<class>com.egen.develop.generator.report.ReportTotal</class>
<type>sum</type>
<totalformat></totalformat>
<report_break>1</report_break>
<style></style>
<label></label>
<i18n></i18n>
<column_fg_color></column_fg_color>
<column_bg_color></column_bg_color>
<column_font></column_font>
<font_size></font_size>
<font_bold></font_bold>
<font_italic></font_italic>
<styleClass></styleClass>
<title></title>
<titleKey></titleKey>
<totalDisplayCustomized>false</totalDisplayCustomized>
<i18nTitleKey></i18nTitleKey>
<totalDisplay></totalDisplay>
<totalCalculationCustomized>false</totalCalculationCustomized>
<totalCalculation></totalCalculation>
<reportTotalSetProperty>
</reportTotalSetProperty>
</reportTotalSetProperty>
</totals_item>
</totals>
<hidden>false</hidden>
<header_bg_color></header_bg_color>
<header_fg_color></header_fg_color>
<header_font></header_font>
<header_font_size></header_font_size>
<header_style></header_style>
<header_styleClass></header_styleClass>
<header_title></header_title>
<header_titleKey></header_titleKey>
<header_i18nTitleKey></header_i18nTitleKey>
<header_font_bold></header_font_bold>
<header_font_italic></header_font_italic>
<header_size></header_size>
<round_value></round_value>
<columnHeaderCodeCustomized>false</columnHeaderCodeCustomized>
<columnHeaderCode></columnHeaderCode>
<columnDisplayCodeCustomized>false</columnDisplayCodeCustomized>
<columnDisplayCode></columnDisplayCode>
<onclick></onclick>
<ondblclick></ondblclick>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<columnSetProperty>
</columnSetProperty>
</columnSetProperty>
</columns_item>
<columns_item>
<class>com.egen.develop.generator.report.Column</class>
<name>medios2</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_report_Jw_clientes_segmentos_regional</block_name>
<role_item></role_item>
<database_column>medios</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<label>medios2</label>
<type>int</type>
<columnWidth></columnWidth>
<align>right</align>
<layout>side</layout>
<report_break>1</report_break>
<is_break>false</is_break>
<visible>true</visible>
<base_table>true</base_table>
<column_order></column_order>
<formula>t_jw_clientes_segmentos_regional.getMedios()</formula>
<column_fg_color></column_fg_color>
<column_bg_color></column_bg_color>
<column_font></column_font>
<font_size></font_size>
<font_bold></font_bold>
<font_italic></font_italic>
<style></style>
<styleClass></styleClass>
<columnRelation></columnRelation>
<totals>
<totals_item>
<class>com.egen.develop.generator.report.ReportTotal</class>
<type>sum</type>
<totalformat></totalformat>
<report_break>0</report_break>
<style></style>
<label></label>
<i18n></i18n>
<column_fg_color></column_fg_color>
<column_bg_color></column_bg_color>
<column_font></column_font>
<font_size></font_size>
<font_bold></font_bold>
<font_italic></font_italic>
<styleClass></styleClass>
<title></title>
<titleKey></titleKey>
<totalDisplayCustomized>false</totalDisplayCustomized>
<i18nTitleKey></i18nTitleKey>
<totalDisplay></totalDisplay>
<totalCalculationCustomized>false</totalCalculationCustomized>
<totalCalculation></totalCalculation>
<reportTotalSetProperty>
</reportTotalSetProperty>
</reportTotalSetProperty>
</totals_item>
<totals_item>
<class>com.egen.develop.generator.report.ReportTotal</class>
<type>sum</type>
<totalformat></totalformat>
<report_break>1</report_break>
<style></style>
<label></label>
<i18n></i18n>
<column_fg_color></column_fg_color>
<column_bg_color></column_bg_color>
<column_font></column_font>
<font_size></font_size>
<font_bold></font_bold>
<font_italic></font_italic>
<styleClass></styleClass>
<title></title>
<titleKey></titleKey>
<totalDisplayCustomized>false</totalDisplayCustomized>
<i18nTitleKey></i18nTitleKey>
<totalDisplay></totalDisplay>
<totalCalculationCustomized>false</totalCalculationCustomized>
<totalCalculation></totalCalculation>
<reportTotalSetProperty>
</reportTotalSetProperty>
</reportTotalSetProperty>
</totals_item>
</totals>
<hidden>false</hidden>
<header_bg_color></header_bg_color>
<header_fg_color></header_fg_color>
<header_font></header_font>
<header_font_size></header_font_size>
<header_style></header_style>
<header_styleClass></header_styleClass>
<header_title></header_title>
<header_titleKey></header_titleKey>
<header_i18nTitleKey></header_i18nTitleKey>
<header_font_bold></header_font_bold>
<header_font_italic></header_font_italic>
<header_size></header_size>
<round_value></round_value>
<columnHeaderCodeCustomized>false</columnHeaderCodeCustomized>
<columnHeaderCode></columnHeaderCode>
<columnDisplayCodeCustomized>false</columnDisplayCodeCustomized>
<columnDisplayCode></columnDisplayCode>
<onclick></onclick>
<ondblclick></ondblclick>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<columnSetProperty>
</columnSetProperty>
</columnSetProperty>
</columns_item>
<columns_item>
<class>com.egen.develop.generator.report.Column</class>
<name>grandes2</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_report_Jw_clientes_segmentos_regional</block_name>
<role_item></role_item>
<database_column>grandes</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<label>grandes2</label>
<type>int</type>
<columnWidth></columnWidth>
<align>right</align>
<layout>side</layout>
<report_break>1</report_break>
<is_break>false</is_break>
<visible>true</visible>
<base_table>true</base_table>
<column_order></column_order>
<formula>t_jw_clientes_segmentos_regional.getGrandes()</formula>
<column_fg_color></column_fg_color>
<column_bg_color></column_bg_color>
<column_font></column_font>
<font_size></font_size>
<font_bold></font_bold>
<font_italic></font_italic>
<style></style>
<styleClass></styleClass>
<columnRelation></columnRelation>
<totals>
<totals_item>
<class>com.egen.develop.generator.report.ReportTotal</class>
<type>sum</type>
<totalformat></totalformat>
<report_break>0</report_break>
<style></style>
<label></label>
<i18n></i18n>
<column_fg_color></column_fg_color>
<column_bg_color></column_bg_color>
<column_font></column_font>
<font_size></font_size>
<font_bold></font_bold>
<font_italic></font_italic>
<styleClass></styleClass>
<title></title>
<titleKey></titleKey>
<totalDisplayCustomized>false</totalDisplayCustomized>
<i18nTitleKey></i18nTitleKey>
<totalDisplay></totalDisplay>
<totalCalculationCustomized>false</totalCalculationCustomized>
<totalCalculation></totalCalculation>
<reportTotalSetProperty>
</reportTotalSetProperty>
</reportTotalSetProperty>
</totals_item>
<totals_item>
<class>com.egen.develop.generator.report.ReportTotal</class>
<type>sum</type>
<totalformat></totalformat>
<report_break>1</report_break>
<style></style>
<label></label>
<i18n></i18n>
<column_fg_color></column_fg_color>
<column_bg_color></column_bg_color>
<column_font></column_font>
<font_size></font_size>
<font_bold></font_bold>
<font_italic></font_italic>
<styleClass></styleClass>
<title></title>
<titleKey></titleKey>
<totalDisplayCustomized>false</totalDisplayCustomized>
<i18nTitleKey></i18nTitleKey>
<totalDisplay></totalDisplay>
<totalCalculationCustomized>false</totalCalculationCustomized>
<totalCalculation></totalCalculation>
<reportTotalSetProperty>
</reportTotalSetProperty>
</reportTotalSetProperty>
</totals_item>
</totals>
<hidden>false</hidden>
<header_bg_color></header_bg_color>
<header_fg_color></header_fg_color>
<header_font></header_font>
<header_font_size></header_font_size>
<header_style></header_style>
<header_styleClass></header_styleClass>
<header_title></header_title>
<header_titleKey></header_titleKey>
<header_i18nTitleKey></header_i18nTitleKey>
<header_font_bold></header_font_bold>
<header_font_italic></header_font_italic>
<header_size></header_size>
<round_value></round_value>
<columnHeaderCodeCustomized>false</columnHeaderCodeCustomized>
<columnHeaderCode></columnHeaderCode>
<columnDisplayCodeCustomized>false</columnDisplayCodeCustomized>
<columnDisplayCode></columnDisplayCode>
<onclick></onclick>
<ondblclick></ondblclick>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<columnSetProperty>
</columnSetProperty>
</columnSetProperty>
</columns_item>
<columns_item>
<class>com.egen.develop.generator.report.Column</class>
<name>todos2</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_report_Jw_clientes_segmentos_regional</block_name>
<role_item></role_item>
<database_column>todos</database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<label>todos2</label>
<type>int</type>
<columnWidth></columnWidth>
<align>right</align>
<layout>side</layout>
<report_break>1</report_break>
<is_break>false</is_break>
<visible>true</visible>
<base_table>true</base_table>
<column_order></column_order>
<formula>t_jw_clientes_segmentos_regional.getTodos()</formula>
<column_fg_color></column_fg_color>
<column_bg_color></column_bg_color>
<column_font></column_font>
<font_size></font_size>
<font_bold></font_bold>
<font_italic></font_italic>
<style></style>
<styleClass></styleClass>
<columnRelation></columnRelation>
<totals>
<totals_item>
<class>com.egen.develop.generator.report.ReportTotal</class>
<type>sum</type>
<totalformat></totalformat>
<report_break>0</report_break>
<style></style>
<label></label>
<i18n></i18n>
<column_fg_color></column_fg_color>
<column_bg_color></column_bg_color>
<column_font></column_font>
<font_size></font_size>
<font_bold></font_bold>
<font_italic></font_italic>
<styleClass></styleClass>
<title></title>
<titleKey></titleKey>
<totalDisplayCustomized>false</totalDisplayCustomized>
<i18nTitleKey></i18nTitleKey>
<totalDisplay></totalDisplay>
<totalCalculationCustomized>false</totalCalculationCustomized>
<totalCalculation></totalCalculation>
<reportTotalSetProperty>
</reportTotalSetProperty>
</reportTotalSetProperty>
</totals_item>
<totals_item>
<class>com.egen.develop.generator.report.ReportTotal</class>
<type>sum</type>
<totalformat></totalformat>
<report_break>1</report_break>
<style></style>
<label></label>
<i18n></i18n>
<column_fg_color></column_fg_color>
<column_bg_color></column_bg_color>
<column_font></column_font>
<font_size></font_size>
<font_bold></font_bold>
<font_italic></font_italic>
<styleClass></styleClass>
<title></title>
<titleKey></titleKey>
<totalDisplayCustomized>false</totalDisplayCustomized>
<i18nTitleKey></i18nTitleKey>
<totalDisplay></totalDisplay>
<totalCalculationCustomized>false</totalCalculationCustomized>
<totalCalculation></totalCalculation>
<reportTotalSetProperty>
</reportTotalSetProperty>
</reportTotalSetProperty>
</totals_item>
</totals>
<hidden>false</hidden>
<header_bg_color></header_bg_color>
<header_fg_color></header_fg_color>
<header_font></header_font>
<header_font_size></header_font_size>
<header_style></header_style>
<header_styleClass></header_styleClass>
<header_title></header_title>
<header_titleKey></header_titleKey>
<header_i18nTitleKey></header_i18nTitleKey>
<header_font_bold></header_font_bold>
<header_font_italic></header_font_italic>
<header_size></header_size>
<round_value></round_value>
<columnHeaderCodeCustomized>false</columnHeaderCodeCustomized>
<columnHeaderCode></columnHeaderCode>
<columnDisplayCodeCustomized>false</columnDisplayCodeCustomized>
<columnDisplayCode></columnDisplayCode>
<onclick></onclick>
<ondblclick></ondblclick>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<onmouseover></onmouseover>
<onmouseup></onmouseup>
<columnSetProperty>
</columnSetProperty>
</columnSetProperty>
</columns_item>
</columns>
<reportset></reportset>
</blocks_item>
<blocks_item>
<class>com.egen.develop.generator.form.BlockForm</class>
<name>bl_form_Clientes_marca</name>
<title> </title>
<i18n></i18n>
<database>pool</database>
<db_object>portalbr.dbobj.view.Clientes_marca</db_object>
<script_block></script_block>
<script_template></script_template>
<obs></obs>
<maxRows>0</maxRows>
<resultSetName></resultSetName>
<select_clause></select_clause>
<where_clause></where_clause>
<order_by></order_by>
<group_by></group_by>
<having></having>
<styleClass></styleClass>
<style></style>
<relations></relations>
<tabs></tabs>
<receive_parameter>false</receive_parameter>
<showparameter>false</showparameter>
<message_type>error</message_type>
<message_text></message_text>
<banner_type>no_banner</banner_type>
<role></role>
<roleinclude>false</roleinclude>
<i18n_obs></i18n_obs>
<tab_pos>tab0</tab_pos>
<block_size></block_size>
<block_position>Standart</block_position>
<displayError><html:errors property=ActionErrors.GLOBAL_ERROR/></displayError>
<form>
<class>com.egen.develop.generator.form.Form</class>
<action>adm/Clientes_marcaForm.do</action>
<enctype></enctype>
<focus></focus>
<method>POST</method>
<onreset></onreset>
<onsubmit></onsubmit>
<scope></scope>
<style></style>
<styleClass></styleClass>
<styleId></styleId>
<target></target>
<type></type>
<disabled>false</disabled><readonly>false</readonly><open_form>false</open_form>
<close_form>false</close_form>
</form>
<blockSetProperty>
</blockSetProperty>
</blockSetProperty>
<gridProperties></gridProperties>
<navigatorProperties></navigatorProperties>
<fields>
<fields_item>
<class>com.egen.develop.generator.form.Hidden</class>
<name>dt_inicial</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Clientes_marca</block_name>
<role_item></role_item>
<database_column></database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs>tab0</tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<property>dt_inicial</property>
<label>dt_inicial</label>
<label_pos>Left</label_pos>
<label_bg_color></label_bg_color>
<label_fg_color></label_fg_color>
<label_size></label_size>
<label_align>start</label_align>
<label_font></label_font>
<labelPropertytext></labelPropertytext>
<label_bold>false</label_bold>
<label_italic>false</label_italic>
<justification>start</justification>
<not_null>false</not_null>
<type>java.lang.String</type>
<validate_message></validate_message>
<validate_message_user></validate_message_user>
<case_restriction></case_restriction>
<break_line>true</break_line>
<lovObject></lovObject>
<lowest_value></lowest_value>
<highest_value></highest_value>
<validate_value>false</validate_value>
<validate_type>false</validate_type>
<validate_group>false</validate_group>
<validate_email>false</validate_email>
<validate_not_null>false</validate_not_null>
<validate_minlength></validate_minlength>
<validate_maxlength></validate_maxlength>
<validate_regex></validate_regex>
<src></src>
<select_allowed>true</select_allowed>
<update_allowed>true</update_allowed>
<insert_allowed>true</insert_allowed>
<isCustomized>false</isCustomized>
<labelStyle></labelStyle>
<labelTitle></labelTitle>
<labelTitleKey></labelTitleKey>
<i18nLabelTitleKey></i18nLabelTitleKey>
<fieldGridSize></fieldGridSize>
<queryOperator></queryOperator>
<round_value></round_value>
<field_prefix></field_prefix>
<field_sufix></field_sufix>
<write>false</write>
<fieldSetProperty>
</fieldSetProperty>
</fieldSetProperty>
<value></value>
<codeItem></codeItem>
</fields_item>
<fields_item>
<class>com.egen.develop.generator.form.Hidden</class>
<name>dt_final</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Clientes_marca</block_name>
<role_item></role_item>
<database_column></database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs>tab0</tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<property>dt_final</property>
<label>dt_final</label>
<label_pos>Left</label_pos>
<label_bg_color></label_bg_color>
<label_fg_color></label_fg_color>
<label_size></label_size>
<label_align>start</label_align>
<label_font></label_font>
<labelPropertytext></labelPropertytext>
<label_bold>false</label_bold>
<label_italic>false</label_italic>
<justification>start</justification>
<not_null>false</not_null>
<type>java.lang.String</type>
<validate_message></validate_message>
<validate_message_user></validate_message_user>
<case_restriction></case_restriction>
<break_line>true</break_line>
<lovObject></lovObject>
<lowest_value></lowest_value>
<highest_value></highest_value>
<validate_value>false</validate_value>
<validate_type>false</validate_type>
<validate_group>false</validate_group>
<validate_email>false</validate_email>
<validate_not_null>false</validate_not_null>
<validate_minlength></validate_minlength>
<validate_maxlength></validate_maxlength>
<validate_regex></validate_regex>
<src></src>
<select_allowed>true</select_allowed>
<update_allowed>true</update_allowed>
<insert_allowed>true</insert_allowed>
<isCustomized>false</isCustomized>
<labelStyle></labelStyle>
<labelTitle></labelTitle>
<labelTitleKey></labelTitleKey>
<i18nLabelTitleKey></i18nLabelTitleKey>
<fieldGridSize></fieldGridSize>
<queryOperator></queryOperator>
<round_value></round_value>
<field_prefix></field_prefix>
<field_sufix></field_sufix>
<write>false</write>
<fieldSetProperty>
</fieldSetProperty>
</fieldSetProperty>
<value></value>
<codeItem></codeItem>
</fields_item>
<fields_item>
<class>com.egen.develop.generator.form.Hidden</class>
<name>lin_cdgo</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Clientes_marca</block_name>
<role_item></role_item>
<database_column></database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs>tab0</tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<property>lin_cdgo</property>
<label>lin_cdgo</label>
<label_pos>Left</label_pos>
<label_bg_color></label_bg_color>
<label_fg_color></label_fg_color>
<label_size></label_size>
<label_align>start</label_align>
<label_font></label_font>
<labelPropertytext></labelPropertytext>
<label_bold>false</label_bold>
<label_italic>false</label_italic>
<justification>start</justification>
<not_null>false</not_null>
<type>java.lang.String</type>
<validate_message></validate_message>
<validate_message_user></validate_message_user>
<case_restriction></case_restriction>
<break_line>true</break_line>
<lovObject></lovObject>
<lowest_value></lowest_value>
<highest_value></highest_value>
<validate_value>false</validate_value>
<validate_type>false</validate_type>
<validate_group>false</validate_group>
<validate_email>false</validate_email>
<validate_not_null>false</validate_not_null>
<validate_minlength></validate_minlength>
<validate_maxlength></validate_maxlength>
<validate_regex></validate_regex>
<src></src>
<select_allowed>true</select_allowed>
<update_allowed>true</update_allowed>
<insert_allowed>true</insert_allowed>
<isCustomized>false</isCustomized>
<labelStyle></labelStyle>
<labelTitle></labelTitle>
<labelTitleKey></labelTitleKey>
<i18nLabelTitleKey></i18nLabelTitleKey>
<fieldGridSize></fieldGridSize>
<queryOperator></queryOperator>
<round_value></round_value>
<field_prefix></field_prefix>
<field_sufix></field_sufix>
<write>false</write>
<fieldSetProperty>
</fieldSetProperty>
</fieldSetProperty>
<value></value>
<codeItem></codeItem>
</fields_item>
<fields_item>
<class>com.egen.develop.generator.form.Hidden</class>
<name>codigo_marca</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Clientes_marca</block_name>
<role_item></role_item>
<database_column></database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs>tab0</tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<property>codigo_marca</property>
<label>codigo_marca</label>
<label_pos>Left</label_pos>
<label_bg_color></label_bg_color>
<label_fg_color></label_fg_color>
<label_size></label_size>
<label_align>start</label_align>
<label_font></label_font>
<labelPropertytext></labelPropertytext>
<label_bold>false</label_bold>
<label_italic>false</label_italic>
<justification>start</justification>
<not_null>false</not_null>
<type>java.lang.String</type>
<validate_message></validate_message>
<validate_message_user></validate_message_user>
<case_restriction></case_restriction>
<break_line>true</break_line>
<lovObject></lovObject>
<lowest_value></lowest_value>
<highest_value></highest_value>
<validate_value>false</validate_value>
<validate_type>false</validate_type>
<validate_group>false</validate_group>
<validate_email>false</validate_email>
<validate_not_null>false</validate_not_null>
<validate_minlength></validate_minlength>
<validate_maxlength></validate_maxlength>
<validate_regex></validate_regex>
<src></src>
<select_allowed>true</select_allowed>
<update_allowed>true</update_allowed>
<insert_allowed>true</insert_allowed>
<isCustomized>false</isCustomized>
<labelStyle></labelStyle>
<labelTitle></labelTitle>
<labelTitleKey></labelTitleKey>
<i18nLabelTitleKey></i18nLabelTitleKey>
<fieldGridSize></fieldGridSize>
<queryOperator></queryOperator>
<round_value></round_value>
<field_prefix></field_prefix>
<field_sufix></field_sufix>
<write>false</write>
<fieldSetProperty>
</fieldSetProperty>
</fieldSetProperty>
<value></value>
<codeItem></codeItem>
</fields_item>
<fields_item>
<class>com.egen.develop.generator.form.Hidden</class>
<name>codigo_regional</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Clientes_marca</block_name>
<role_item></role_item>
<database_column></database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n></i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs>tab0</tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left></left>
<top></top>
<z_index></z_index>
<property>codigo_regional</property>
<label>codigo_regional</label>
<label_pos>Left</label_pos>
<label_bg_color></label_bg_color>
<label_fg_color></label_fg_color>
<label_size></label_size>
<label_align>start</label_align>
<label_font></label_font>
<labelPropertytext></labelPropertytext>
<label_bold>false</label_bold>
<label_italic>false</label_italic>
<justification>start</justification>
<not_null>false</not_null>
<type>java.lang.String</type>
<validate_message></validate_message>
<validate_message_user></validate_message_user>
<case_restriction></case_restriction>
<break_line>true</break_line>
<lovObject></lovObject>
<lowest_value></lowest_value>
<highest_value></highest_value>
<validate_value>false</validate_value>
<validate_type>false</validate_type>
<validate_group>false</validate_group>
<validate_email>false</validate_email>
<validate_not_null>false</validate_not_null>
<validate_minlength></validate_minlength>
<validate_maxlength></validate_maxlength>
<validate_regex></validate_regex>
<src></src>
<select_allowed>true</select_allowed>
<update_allowed>true</update_allowed>
<insert_allowed>true</insert_allowed>
<isCustomized>false</isCustomized>
<labelStyle></labelStyle>
<labelTitle></labelTitle>
<labelTitleKey></labelTitleKey>
<i18nLabelTitleKey></i18nLabelTitleKey>
<fieldGridSize></fieldGridSize>
<queryOperator></queryOperator>
<round_value></round_value>
<field_prefix></field_prefix>
<field_sufix></field_sufix>
<write>false</write>
<fieldSetProperty>
</fieldSetProperty>
</fieldSetProperty>
<value></value>
<codeItem></codeItem>
</fields_item>
</fields>
<buttons>
<buttons_item>
<class>com.egen.develop.generator.form.Submit</class>
<name>select_action</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Clientes_marca</block_name>
<role_item></role_item>
<database_column></database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n>ApplicationResources</i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left>200</left>
<top>100</top>
<z_index></z_index>
<value>jsp.select</value>
<accesskey></accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass>myhidden</styleClass>
<styleId></styleId>
<tabindex></tabindex>
<bean_validate>false</bean_validate>
<src></src>
<isCustomized>true</isCustomized>
<codeItem><% if(!(request.getParameter("excel")+"").equals("true")){ %>
<html:submit styleClass="myhidden" property="select_action"><bean:message bundle="ApplicationResources" key="jsp.select"/></html:submit>
<% } %>
</codeItem>
<buttonPosition></buttonPosition>
<select_clause></select_clause>
<where_clause></where_clause>
<order_by_clause></order_by_clause>
<group_by_clause></group_by_clause>
<having_clause></having_clause>
<button_db_object></button_db_object>
<triggers></triggers>
<template></template>
<action_code>public ActionForward perform_select_action(ActionMapping mapping, ActionForm form, HttpServletRequest request, HttpServletResponse response) {
  HttpSession session = request.getSession(true);
  ActionForward actionForward = null;
  com.egen.util.jdbc.JdbcUtil j = null;
  try {
    j = new com.egen.util.jdbc.JdbcUtil();    
    select_action(j, mapping, form, request, response);
    actionForward = mapping.findForward("same");
  } catch (Exception e) {
    ActionErrors errors = new ActionErrors();
    errors.add("ActionErrors.GLOBAL_ERROR_bl_form_Clientes_marca", new ActionMessage("error.action.exception",com.egen.util.system.Error.getMessage(e)));
    request.setAttribute(org.apache.struts.Globals.ERROR_KEY, errors);
    session.setAttribute("exception", com.egen.util.system.Error.getDescription(e));
    actionForward = mapping.findForward("same");
  } finally {
    if (j != null) {
         j.close();
         j = null;    
    }
  }
  return actionForward;
}

private void select_action(JdbcUtil j, ActionMapping mapping, ActionForm form, HttpServletRequest request, HttpServletResponse response) throws Exception {
  HttpSession session = request.getSession(true);
  Clientes_marcaActionForm f = (Clientes_marcaActionForm) form;
  portalbr.dbobj.view.Clientes_marca table = new portalbr.dbobj.view.Clientes_marca();
  portalbr.dbobj.view.Jw_grupos_ativos_qtd table_grupos_ativos = new portalbr.dbobj.view.Jw_grupos_ativos_qtd();
  portalbr.dbobj.view.Jw_clientes_ativos_qtd table_clientes_ativos = new portalbr.dbobj.view.Jw_clientes_ativos_qtd();
  portalbr.dbobj.view.Jw_clientes_atendidos_qtd table_clientes_atendidos = new portalbr.dbobj.view.Jw_clientes_atendidos_qtd();
  portalbr.dbobj.view.Jw_cidades_ativas_qtd table_cidades_ativas = new portalbr.dbobj.view.Jw_cidades_ativas_qtd();
  portalbr.dbobj.view.Jw_cidades_atendidas_qtd table_cidades_atendidas = new portalbr.dbobj.view.Jw_cidades_atendidas_qtd();
  portalbr.dbobj.view.Jw_clientes_atendidos_segmentos table_segmentos = new portalbr.dbobj.view.Jw_clientes_atendidos_segmentos();
  portalbr.dbobj.view.Jw_clientes_nao_atendidos_segmentos table_segmentos_nao_atendidos = new portalbr.dbobj.view.Jw_clientes_nao_atendidos_segmentos();
  portalbr.dbobj.view.Jw_clientes_segmentos_regional table_clientes_regional = new portalbr.dbobj.view.Jw_clientes_segmentos_regional();

  String lin_cdgo        = null;
  String codigo_marca    = null;
  String codigo_regional = null;
  if(!f.getLin_cdgo().equals("")){
         lin_cdgo=f.getLin_cdgo();  
  }
  if(!f.getCodigo_marca().equals("")){
         codigo_marca=f.getCodigo_marca();  
  }
  if(!f.getCodigo_regional().equals("")){
         codigo_regional=f.getCodigo_regional();  
  }

  StringBuilder query = new StringBuilder();
  query.append("  SELECT /*+ all_rows */ marca ");
  query.append("       , codigo_marca ");
  if (session.getAttribute("ca_abrir_meses") == "S") {
      query.append("  ,TRUNC(data_dig, 'MONTH') mes ");
  }
  query.append("       , 0 grupos_ativos ");
  query.append("       , 0 grupos_atendidos ");
  query.append("       , 0 grupos_nao_atendidos ");
  query.append("       , 0 clientes_ativos ");
  query.append("       , 0 clientes_atendidos ");
  query.append("       , 0 clientes_nao_atendidos ");
  query.append("       , 0 cidades_ativas ");
  query.append("       , 0 cidades_atendidas ");
  query.append("       , 0 cidades_nao_atendidas ");
  query.append("       , nvl(sum(pares), 0) pares ");
  query.append("       , nvl(sum(valor), 0) valor ");
  query.append("    FROM (   ");
  query.append("  SELECT lpad(res.codigo_marca, 3, 0) || '-' || mp.descricao_marca marca ");
  query.append("       , res.codigo_marca ");
  query.append("       , res.pares pares ");
  query.append("       , res.valor valor ");
  if (session.getAttribute("ca_abrir_meses") == "S") {
      query.append("  ,res.data_dig");
  }
  query.append("    FROM resumo_ped res ");
  query.append("       , cli ");
  query.append("       , regionais_vendas rv ");
  query.append("       , rep ");
  query.append("       , cliente_representante clr ");
  query.append("       , representante_marca rm ");
  query.append("       , marcas_produtos mp ");
  query.append("   WHERE cli.cli_cdgo             =  res.cli_cdgo  ");
  query.append("     AND mp.codigo_marca          =  res.codigo_marca   ");
  query.append("     AND rv.codigo_regional       =  res.codigo_regional  ");
  query.append("     AND cli.cli_cdgo             =  res.cli_cdgo  ");
  query.append("     AND clr.codigo_sequencial    =  res.esc_seqn  ");
  query.append("     AND clr.codigo_representante =  rep.rep_cdgo  ");
  query.append("     AND cli.cli_cdgo             =  clr.codigo_cliente  ");
  query.append("     AND rm.codigo_representante  =  rep.rep_cdgo  ");
  query.append("     AND rep.rep_cdgo             =  res.rep_cdgo  ");
  query.append("     AND rm.marca_produto         =  res.codigo_marca  ");
  query.append("     AND cli.cli_situ             =  nvl('A',cli.cli_situ) ");
  query.append("     AND cli.seg_cdgo             NOT IN (9,153) ");
  query.append("     AND clr.situacao             =  nvl(").append(session.getAttribute("situacao_cliente_representante")).append(",clr.situacao) ");
  query.append("     AND rm.situacao              =  nvl(").append(session.getAttribute("situacao_representante_marca")).append(",rm.situacao) ");
  query.append("     AND rep.rep_situ             =  nvl(").append(session.getAttribute("situacao_representante")).append(",rep.rep_situ) ");
  query.append("     AND res.data_dig             >= to_date('").append(session.getAttribute("dt_inicial")).append("','dd/MM/yyyy') ");
  query.append("     AND res.data_dig             <  to_date('").append(session.getAttribute("dt_final")).append("','dd/MM/yyyy')+1 ");
  query.append("     AND res.lin_cdgo             =  nvl(").append(session.getAttribute("lin_cdgo")).append(",res.lin_cdgo) ");
  query.append("     AND res.codigo_regional      =  nvl(").append(session.getAttribute("codigo_regional")).append(", res.codigo_regional) ");
  query.append("     AND res.codigo_marca         =  nvl(").append(session.getAttribute("codigo_marca")).append(",res.codigo_marca) ");
  query.append("   UNION ALL ");
  query.append("  SELECT lpad(res.codigo_marca, 3, 0) || '-' || mp.descricao_marca marca ");
  query.append("       , res.codigo_marca ");
  query.append("       , res.pares pares ");
  query.append("       , res.valor valor ");
  if (session.getAttribute("ca_abrir_meses") == "S") {
      query.append("  ,res.data_dig ");
  }
  query.append("    FROM resumo_pedidos res ");
  query.append("       , cli ");
  query.append("       , regionais_vendas rv ");
  query.append("       , rep ");
  query.append("       , cliente_representante clr ");
  query.append("       , representante_marca rm ");
  query.append("       , marcas_produtos mp ");
  query.append("   WHERE cli.cli_cdgo             =  res.cli_cdgo  ");
  query.append("     AND mp.codigo_marca          =  res.codigo_marca ");
  query.append("     AND rv.codigo_regional       =  res.codigo_regional  ");
  query.append("     AND cli.cli_cdgo             =  res.cli_cdgo  ");
  query.append("     AND clr.codigo_sequencial    =  res.esc_seqn  ");
  query.append("     AND clr.codigo_representante =  rep.rep_cdgo  ");
  query.append("     AND cli.cli_cdgo             =  clr.codigo_cliente  ");
  query.append("     AND rm.codigo_representante  =  rep.rep_cdgo  ");
  query.append("     AND rep.rep_cdgo             =  res.rep_cdgo  ");
  query.append("     AND cli.cli_situ             =  nvl('A',cli.cli_situ) ");
  query.append("     AND cli.seg_cdgo             NOT IN (9,153) ");
  query.append("     AND clr.situacao             =  nvl(").append(session.getAttribute("situacao_cliente_representante")).append(",clr.situacao) ");
  query.append("     AND rm.situacao              =  nvl(").append(session.getAttribute("situacao_representante_marca")).append(",rm.situacao) ");
  query.append("     AND rep.rep_situ             =  nvl(").append(session.getAttribute("situacao_representante")).append(",rep.rep_situ) ");
  query.append("     AND res.data_dig             >= to_date('").append(session.getAttribute("dt_inicial")).append("','dd/MM/yyyy') ");
  query.append("     AND res.data_dig             <  to_date('").append(session.getAttribute("dt_final")).append("','dd/MM/yyyy')+1 ");
  query.append("     AND res.lin_cdgo             =  nvl(").append(session.getAttribute("lin_cdgo")).append(",res.lin_cdgo) ");
  query.append("     AND res.codigo_regional      =  nvl(").append(session.getAttribute("codigo_regional")).append(", res.codigo_regional) ");
  query.append("     AND res.codigo_marca         =  nvl(").append(session.getAttribute("codigo_marca")).append(",res.codigo_marca) ");
  query.append("     AND rm.marca_produto         =  res.codigo_marca ) ");
  query.append("   GROUP BY marca ");
  query.append("          , codigo_marca ");
  if (session.getAttribute("ca_abrir_meses") == "S") {
      query.append("  ,TRUNC(data_dig, 'MONTH') ");
  }

  if (session.getAttribute("ca_abrir_meses") == "S") {
      query.append("  ORDER BY  3 ");
  }else{
      query.append(" ORDER BY 1 ");
  }


  Vector res_Clientes_marca = j.select(table,
                                       query.toString(),
                                       null);

  
if (res_Clientes_marca != null && res_Clientes_marca.size() > 0) {


  for(int x=0; x<res_Clientes_marca.size(); x++ ){
  portalbr.dbobj.view.Clientes_marca r = (portalbr.dbobj.view.Clientes_marca) res_Clientes_marca.elementAt(x);

//-----grupos ativos-------
  StringBuilder qgrupos = new StringBuilder();
  qgrupos.append(" SELECT /*+ all_rows */ count(distinct grec.gre_grupo) qtd_grupos ");
  qgrupos.append("   FROM cliente_representante        clre ");
  qgrupos.append("      , grupo_economico              grec ");
  qgrupos.append("      , representante_marca          rema ");
  qgrupos.append("      , rep                          repr ");
  qgrupos.append("      , regionais_vendas             reve ");
  qgrupos.append("      , marcas_produtos              mapr ");
  qgrupos.append("  WHERE clre.codigo_representante =  repr.rep_cdgo ");
  qgrupos.append("    AND grec.cli_cdgo             =  clre.codigo_cliente ");
  qgrupos.append("    AND rema.codigo_representante =  repr.rep_cdgo ");
  qgrupos.append("    AND reve.codigo_regional      =  repr.codigo_regional ");
  qgrupos.append("    AND mapr.codigo_marca         =  rema.marca_produto ");
  qgrupos.append("    AND mapr.codigo_marca         =  ").append(r.getCodigo_marca());
  qgrupos.append("    AND mapr.codigo_marca         =  nvl(").append(session.getAttribute("codigo_marca")).append(",mapr.codigo_marca) ");
  qgrupos.append("    AND reve.codigo_regional      =  nvl(").append(session.getAttribute("codigo_regional")).append(",reve.codigo_regional) ");
  qgrupos.append("    AND clre.situacao             =  nvl(").append(session.getAttribute("situacao_cliente_representante")).append(",clre.situacao) ");
  qgrupos.append("    AND rema.situacao             =  nvl(").append(session.getAttribute("situacao_representante_marca")).append(",rema.situacao) ");
  qgrupos.append("    AND repr.rep_situ             =  nvl(").append(session.getAttribute("situacao_representante")).append(",repr.rep_situ) ");

  if(session.getAttribute("ca_consulta_grupos")=="S"){
     Vector res_Grupos_ativos = j.select(table_grupos_ativos,
                                         qgrupos.toString(),
                                         null);

     portalbr.dbobj.view.Jw_grupos_ativos_qtd r1 = (portalbr.dbobj.view.Jw_grupos_ativos_qtd) res_Grupos_ativos.elementAt(0);
     r.setGrupos_ativos(r1.getQtd_grupos());
  }


  StringBuilder grupos_atendidos = new StringBuilder();
  grupos_atendidos.append(" SELECT /*+ all_rows */ count(distinct gre_grupo) atendidos_qtd ");
  grupos_atendidos.append("   FROM ( "); 
  grupos_atendidos.append(" SELECT gre.gre_grupo ");
  grupos_atendidos.append("   FROM resumo_ped res ");
  grupos_atendidos.append("      , cli ");
  grupos_atendidos.append("      , rep ");
  grupos_atendidos.append("      , cliente_representante clr ");
  grupos_atendidos.append("      , representante_marca rm ");
  grupos_atendidos.append("      , grupo_economico gre ");
  if (session.getAttribute("ca_abrir_meses") == "S") {
      grupos_atendidos.append("  WHERE res.data_dig >= to_date('"+r.getMes()+"', 'yyyy-mm-dd') ");
      grupos_atendidos.append("  AND res.data_dig < last_day(to_date('"+r.getMes()+"', 'yyyy-mm-dd')) + 1 ");
  }
  else{
  grupos_atendidos.append("  WHERE res.data_dig             >= to_date('").append(session.getAttribute("dt_inicial")).append("','dd/MM/yyyy') ");
  grupos_atendidos.append("    AND res.data_dig             <  to_date('").append(session.getAttribute("dt_final")).append("','dd/MM/yyyy')+1 ");
  }
  grupos_atendidos.append("    AND res.lin_cdgo             =  nvl(").append(session.getAttribute("lin_cdgo")).append(",res.lin_cdgo) ");
  grupos_atendidos.append("    AND res.codigo_marca         =  nvl(").append(session.getAttribute("codigo_marca")).append(",res.codigo_marca) ");
  grupos_atendidos.append("    AND res.codigo_regional      =  nvl(").append(session.getAttribute("codigo_regional")).append(", res.codigo_regional) ");
  grupos_atendidos.append("    AND rm.situacao              =  nvl(").append(session.getAttribute("situacao_representante_marca")).append(", rm.situacao) ");
  grupos_atendidos.append("    AND clr.situacao             =  nvl(").append(session.getAttribute("situacao_cliente_representante")).append(", clr.situacao) ");
  grupos_atendidos.append("    AND rep.rep_situ             =  nvl(").append(session.getAttribute("situacao_representante")).append(",rep.rep_situ) ");
  grupos_atendidos.append("    AND res.codigo_marca         =  nvl(").append(r.getCodigo_marca()).append(",res.codigo_marca) ");
  grupos_atendidos.append("    AND gre.cli_cdgo             =  cli.cli_cdgo ");
  grupos_atendidos.append("    AND cli.cli_cdgo             =  res.cli_cdgo ");
  grupos_atendidos.append("    AND rep.rep_cdgo             =  res.rep_cdgo ");
  grupos_atendidos.append("    AND res.esc_seqn             =  clr.codigo_sequencial ");
  grupos_atendidos.append("    AND rm.marca_produto         =  res.codigo_marca ");
  grupos_atendidos.append("    AND clr.codigo_representante =  rep.rep_cdgo ");
  grupos_atendidos.append("    AND cli.cli_cdgo             =  clr.codigo_cliente ");
  grupos_atendidos.append("    AND rm.codigo_representante  =  rep.rep_cdgo ");
  grupos_atendidos.append("    AND cli.cli_situ             =  nvl('A',cli.cli_situ) ");
  grupos_atendidos.append("    AND cli.seg_cdgo              NOT IN (9,153) ");
  grupos_atendidos.append("  UNION ALL ");
  grupos_atendidos.append(" SELECT gre.gre_grupo ");
  grupos_atendidos.append("   FROM resumo_pedidos res "); 
  grupos_atendidos.append("      , cli ");
  grupos_atendidos.append("      , rep "); 
  grupos_atendidos.append("      , cliente_representante clr "); 
  grupos_atendidos.append("      , representante_marca rm ");
  grupos_atendidos.append("      , grupo_economico gre ");
  if (session.getAttribute("ca_abrir_meses") == "S") {
      grupos_atendidos.append("  WHERE res.data_dig >= to_date('"+r.getMes()+"', 'yyyy-mm-dd') ");
      grupos_atendidos.append("  AND res.data_dig < last_day(to_date('"+r.getMes()+"', 'yyyy-mm-dd')) + 1 ");
  }
  else{
  grupos_atendidos.append("  WHERE res.data_dig             >= to_date('").append(session.getAttribute("dt_inicial")).append("','dd/MM/yyyy') ");
  grupos_atendidos.append("    AND res.data_dig             <  to_date('").append(session.getAttribute("dt_final")).append("','dd/MM/yyyy')+1 ");
  }
  grupos_atendidos.append("    AND res.lin_cdgo             =  nvl(").append(session.getAttribute("lin_cdgo")).append(",res.lin_cdgo) ");
  grupos_atendidos.append("    AND res.codigo_marca         =  nvl(").append(session.getAttribute("codigo_marca")).append(",res.codigo_marca) ");
  grupos_atendidos.append("    AND res.codigo_regional      =  nvl(").append(session.getAttribute("codigo_regional")).append(", res.codigo_regional) ");
  grupos_atendidos.append("    AND rm.situacao              =  nvl(").append(session.getAttribute("situacao_representante_marca")).append(", rm.situacao) ");
  grupos_atendidos.append("    AND clr.situacao             =  nvl(").append(session.getAttribute("situacao_cliente_representante")).append(", clr.situacao) ");
  grupos_atendidos.append("    AND rep.rep_situ             =  nvl(").append(session.getAttribute("situacao_representante")).append(",rep.rep_situ) ");
  grupos_atendidos.append("    AND res.codigo_marca         =  nvl(").append(r.getCodigo_marca()).append(",res.codigo_marca) ");
  grupos_atendidos.append("    AND gre.cli_cdgo             =  cli.cli_cdgo");
  grupos_atendidos.append("    AND cli.cli_cdgo             =  res.cli_cdgo ");
  grupos_atendidos.append("    AND rep.rep_cdgo             =  res.rep_cdgo ");
  grupos_atendidos.append("    AND res.esc_seqn             =  clr.codigo_sequencial ");
  grupos_atendidos.append("    AND rm.marca_produto         =  res.codigo_marca ");
  grupos_atendidos.append("    AND clr.codigo_representante =  rep.rep_cdgo ");
  grupos_atendidos.append("    AND cli.cli_cdgo             =  clr.codigo_cliente ");
  grupos_atendidos.append("    AND rm.codigo_representante  =  rep.rep_cdgo ");
  grupos_atendidos.append("    AND cli.cli_situ             =  nvl('A',cli.cli_situ) ");
  grupos_atendidos.append("    AND cli.seg_cdgo              NOT IN (9,153) ");
  grupos_atendidos.append(" ) ");

  java.sql.PreparedStatement pstm = null;
  java.sql.ResultSet rset = null;
  try {
    if(session.getAttribute("ca_consulta_grupos")=="S"){
       pstm = j.getConn().prepareStatement(grupos_atendidos.toString());
       rset = pstm.executeQuery();
       while (rset.next()) {
            r.setGrupos_atendidos(rset.getInt(1));
            r.setGrupos_nao_atendidos(r.getGrupos_ativos()-r.getGrupos_atendidos());
       }
    }
  } finally {
     if (rset != null){
	   rset.close();
	 }
	 if (pstm != null){
	   pstm.close();	  
     }
     
  }		

//-----clientes ativos-------
  StringBuilder qclientes = new StringBuilder();
  qclientes.append(" SELECT /*+ all_rows */ count(distinct cli.cli_cdgo) ativos_qtd ");
  qclientes.append("   FROM rep ");
  qclientes.append("      , cliente_representante clr ");
  qclientes.append("      , cli ");
  qclientes.append("      , representante_marca rm ");
  qclientes.append("  WHERE clr.codigo_representante =  rep.rep_cdgo ");
  qclientes.append("    AND cli.cli_cdgo             =  clr.codigo_cliente ");
  qclientes.append("    AND rm.codigo_representante  =  rep.rep_cdgo ");
  qclientes.append("    AND rm.marca_produto         =  nvl(").append(r.getCodigo_marca()).append(", rm.marca_produto) ");
  qclientes.append("    AND rm.marca_produto         =  nvl(").append(session.getAttribute("codigo_marca")).append(",rm.marca_produto) ");
  qclientes.append("    AND rep.codigo_regional      =  nvl(").append(session.getAttribute("codigo_regional")).append(",rep.codigo_regional) ");
  qclientes.append("    AND cli.cli_situ             =  nvl('A',cli.cli_situ) ");
  qclientes.append("    AND cli.seg_cdgo             NOT IN (9,153) ");
  qclientes.append("    AND rm.situacao              =  nvl(").append(session.getAttribute("situacao_representante_marca")).append(", rm.situacao) ");
  qclientes.append("    AND clr.situacao             =  nvl(").append(session.getAttribute("situacao_cliente_representante")).append(", clr.situacao) ");
  qclientes.append("    AND rep.rep_situ             =  nvl(").append(session.getAttribute("situacao_representante")).append(",rep.rep_situ) ");


  if(session.getAttribute("ca_consulta_clientes")=="S"){
     Vector res_Clientes_ativos = j.select(table_clientes_ativos,
                                           qclientes.toString(),
                                           null);

     portalbr.dbobj.view.Jw_clientes_ativos_qtd r2 = (portalbr.dbobj.view.Jw_clientes_ativos_qtd) res_Clientes_ativos.elementAt(0);
     r.setClientes_ativos(r2.getAtivos_qtd());
  }



//----- Clientes atendidos recolocação -------
/*
  StringBuilder qatendidosr = new StringBuilder();
  qatendidosr .append(" SELECT count(distinct cli_cdgo) atendidos_qtd ");
  qatendidosr .append("   FROM ( SELECT cli.cli_cdgo ");
  qatendidosr.append("   FROM resumo_pedidos res ");
  qatendidosr.append("      , cli ");
  qatendidosr.append("      , rep ");
  qatendidosr.append("      , cliente_representante clr ");
  qatendidosr.append("      , representante_marca rm ");
  qatendidosr.append("  WHERE res.data_dig             >= to_date('").append(session.getAttribute("dt_inicial")).append("','dd/MM/yyyy') ");
  qatendidosr.append("    AND res.data_dig             <  to_date('").append(session.getAttribute("dt_final")).append("','dd/MM/yyyy')+1 ");
  qatendidosr.append("    AND res.lin_cdgo             =  nvl(").append(session.getAttribute("lin_cdgo")).append(",res.lin_cdgo) ");
  qatendidosr.append("    AND res.codigo_marca         =  nvl(").append(session.getAttribute("codigo_marca")).append(",res.codigo_marca) ");
  qatendidosr.append("    AND res.codigo_regional      =  nvl(").append(session.getAttribute("codigo_regional")).append(", res.codigo_regional) ");
  qatendidosr.append("    AND cli.cli_cdgo             =  res.cli_cdgo ");
  qatendidosr.append("    AND rep.rep_cdgo             =  res.rep_cdgo ");
  qatendidosr.append("    AND res.esc_seqn             =  clr.codigo_sequencial ");
  qatendidosr.append("    AND rm.marca_produto         =  res.codigo_marca ");
  qatendidosr.append("    AND clr.codigo_representante =  rep.rep_cdgo ");
  qatendidosr.append("    AND cli.cli_cdgo             =  clr.codigo_cliente ");
  qatendidosr.append("    AND rm.codigo_representante  =  rep.rep_cdgo ");
  qatendidosr.append("    AND res.codigo_marca         =  nvl(").append(r.getCodigo_marca()).append(",res.codigo_marca) ");
  qatendidosr.append("    AND cli.cli_situ             =  nvl('A',cli.cli_situ) ");
  qatendidosr.append("    AND cli.seg_cdgo             NOT IN (9,153) ");
  qatendidosr.append("    AND rm.situacao              =  nvl(").append(session.getAttribute("situacao_representante_marca")).append(", rm.situacao) ");
  qatendidosr.append("    AND rep.rep_situ             =  nvl(").append(session.getAttribute("situacao_representante")).append(",rep.rep_situ) ");
  qatendidosr.append("    AND clr.situacao             =  nvl(").append(session.getAttribute("situacao_cliente_representante")).append(", clr.situacao) ");
  qatendidosr.append("    AND NOT EXISTS (SELECT 1 ");
  qatendidosr.append("                      FROM ped ped ");
  qatendidosr.append("                     WHERE ped.cli_cdgo = cli.cli_cdgo ");
  qatendidosr.append("                       AND ped.rep_cdgo = rep.rep_cdgo ");
  qatendidosr.append("                       AND ped.ped_especie_pedido <> 'C' ");
  qatendidosr.append("                       AND ped.ped_dadg >= TO_DATE('").append(session.getAttribute("dt_inicial")).append("', 'dd/MM/yyyy') ");
  qatendidosr.append("                       AND ped.ped_dadg <= TO_DATE('").append(session.getAttribute("dt_final")).append("', 'dd/MM/yyyy') + 1 ");
  qatendidosr.append("                       AND NOT EXISTS (SELECT 1 ");
  qatendidosr.append("                                     FROM ped pdd ");
  qatendidosr.append("                                    WHERE pdd.ped_nmro = ped.ped_recolocado ");
  qatendidosr.append("                                      AND pdd.ped_dadg < TO_DATE('").append(session.getAttribute("dt_inicial")).append("', 'dd/MM/yyyy'))) ");
  qatendidosr.append("    ) ");

  if(session.getAttribute("ca_consulta_clientes")=="S"){
     Vector res_Clientes_atendidos_recolocacao = j.select(table_clientes_atendidos,
                                                          qatendidosr.toString(),
                                                          null);

     portalbr.dbobj.view.Jw_clientes_atendidos_qtd r3 = (portalbr.dbobj.view.Jw_clientes_atendidos_qtd) res_Clientes_atendidos_recolocacao.elementAt(0);
     r.setClientes_atendidos_recolocacao(r3.getAtendidos_qtd());
  }
*/



//-----clientes atendidos-------
  StringBuilder qatendidos = new StringBuilder();
  qatendidos.append(" SELECT /*+ all_rows */ count(distinct cli_cdgo) atendidos_qtd ");
  qatendidos.append("   FROM (  ");
  qatendidos.append(" SELECT cli.cli_cdgo ");
  qatendidos.append("   FROM resumo_ped res ");
  qatendidos.append("      , cli ");
  qatendidos.append("      , rep ");
  qatendidos.append("      , cliente_representante clr ");
  qatendidos.append("      , representante_marca rm ");
  if (session.getAttribute("ca_abrir_meses") == "S") {
      qatendidos.append("  WHERE res.data_dig >= to_date('"+r.getMes()+"', 'yyyy-mm-dd') ");
      qatendidos.append("  AND res.data_dig < last_day(to_date('"+r.getMes()+"', 'yyyy-mm-dd')) + 1 ");
  }
  else{
      qatendidos.append("  WHERE res.data_dig             >= to_date('").append(session.getAttribute("dt_inicial")).append("','dd/MM/yyyy') ");
      qatendidos.append("    AND res.data_dig             <  to_date('").append(session.getAttribute("dt_final")).append("','dd/MM/yyyy')+1 ");
  }
  qatendidos.append("    AND res.lin_cdgo             =  nvl(").append(session.getAttribute("lin_cdgo")).append(",res.lin_cdgo) ");
  qatendidos.append("    AND res.codigo_marca         =  nvl(").append(session.getAttribute("codigo_marca")).append(",res.codigo_marca) ");
  qatendidos.append("    AND res.codigo_regional      =  nvl(").append(session.getAttribute("codigo_regional")).append(", res.codigo_regional) ");
  qatendidos.append("    AND rm.situacao              =  nvl(").append(session.getAttribute("situacao_representante_marca")).append(", rm.situacao) ");
  qatendidos.append("    AND clr.situacao             =  nvl(").append(session.getAttribute("situacao_cliente_representante")).append(", clr.situacao) ");
  qatendidos.append("    AND rep.rep_situ             =  nvl(").append(session.getAttribute("situacao_representante")).append(",rep.rep_situ) ");
  qatendidos.append("    AND res.codigo_marca         =  nvl(").append(r.getCodigo_marca()).append(",res.codigo_marca) ");
  qatendidos.append("    AND cli.cli_cdgo             =  res.cli_cdgo ");
  qatendidos.append("    AND rep.rep_cdgo             =  res.rep_cdgo ");
  qatendidos.append("    AND res.esc_seqn             =  clr.codigo_sequencial ");
  qatendidos.append("    AND rm.marca_produto         =  res.codigo_marca ");
  qatendidos.append("    AND clr.codigo_representante =  rep.rep_cdgo ");
  qatendidos.append("    AND cli.cli_cdgo             =  clr.codigo_cliente ");
  qatendidos.append("    AND rm.codigo_representante  =  rep.rep_cdgo ");
  qatendidos.append("    AND cli.cli_situ             =  nvl('A',cli.cli_situ) ");
  qatendidos.append("    AND cli.seg_cdgo             NOT IN (9,153) ");
  qatendidos.append("  UNION ALL ");
  qatendidos.append(" SELECT cli.cli_cdgo ");
  qatendidos.append("   FROM resumo_pedidos res ");
  qatendidos.append("      , cli ");
  qatendidos.append("      , rep ");
  qatendidos.append("      , cliente_representante clr ");
  qatendidos.append("      , representante_marca rm ");
  if (session.getAttribute("ca_abrir_meses") == "S") {
      qatendidos.append("  WHERE res.data_dig >= to_date('"+r.getMes()+"', 'yyyy-mm-dd') ");
      qatendidos.append("  AND res.data_dig < last_day(to_date('"+r.getMes()+"', 'yyyy-mm-dd')) + 1 ");
  }
  else{
  qatendidos.append("  WHERE res.data_dig             >= to_date('").append(session.getAttribute("dt_inicial")).append("','dd/MM/yyyy') ");
  qatendidos.append("    AND res.data_dig             <  to_date('").append(session.getAttribute("dt_final")).append("','dd/MM/yyyy')+1 ");
  }
  qatendidos.append("    AND res.lin_cdgo             =  nvl(").append(session.getAttribute("lin_cdgo")).append(",res.lin_cdgo) ");
  qatendidos.append("    AND res.codigo_marca         =  nvl(").append(session.getAttribute("codigo_marca")).append(",res.codigo_marca) ");
  qatendidos.append("    AND res.codigo_regional      =  nvl(").append(session.getAttribute("codigo_regional")).append(", res.codigo_regional) ");
  qatendidos.append("    AND cli.cli_cdgo             =  res.cli_cdgo ");
  qatendidos.append("    AND rep.rep_cdgo             =  res.rep_cdgo ");
  qatendidos.append("    AND res.esc_seqn             =  clr.codigo_sequencial ");
  qatendidos.append("    AND rm.marca_produto         =  res.codigo_marca ");
  qatendidos.append("    AND clr.codigo_representante =  rep.rep_cdgo ");
  qatendidos.append("    AND cli.cli_cdgo             =  clr.codigo_cliente ");
  qatendidos.append("    AND rm.codigo_representante  =  rep.rep_cdgo ");
  qatendidos.append("    AND res.codigo_marca         =  nvl(").append(r.getCodigo_marca()).append(",res.codigo_marca) ");
  qatendidos.append("    AND cli.cli_situ             =  nvl('A',cli.cli_situ) ");
  qatendidos.append("    AND cli.seg_cdgo             NOT IN (9,153) ");
  qatendidos.append("    AND rm.situacao              =  nvl(").append(session.getAttribute("situacao_representante_marca")).append(", rm.situacao) ");
  qatendidos.append("    AND rep.rep_situ             =  nvl(").append(session.getAttribute("situacao_representante")).append(",rep.rep_situ) ");
  qatendidos.append("    AND clr.situacao             =  nvl(").append(session.getAttribute("situacao_cliente_representante")).append(", clr.situacao) ");
  /*
  qatendidos.append("    AND NOT EXISTS (SELECT 1 ");
  qatendidos.append("                      FROM ped ped ");
  qatendidos.append("                     WHERE ped.cli_cdgo = cli.cli_cdgo ");
  qatendidos.append("                       AND ped.rep_cdgo = rep.rep_cdgo ");
  qatendidos.append("                       AND ped.ped_especie_pedido = 'C' ");
  qatendidos.append("                       AND ped.ped_dadg >= TO_DATE('").append(session.getAttribute("dt_inicial")).append("', 'dd/MM/yyyy') ");
  qatendidos.append("                       AND ped.ped_dadg <= TO_DATE('").append(session.getAttribute("dt_final")).append("', 'dd/MM/yyyy') + 1 ");
  qatendidos.append("                       AND EXISTS (SELECT 1 ");
  qatendidos.append("                                     FROM ped pdd ");
  qatendidos.append("                                    WHERE pdd.ped_nmro = ped.ped_recolocado ");
  qatendidos.append("                                      AND pdd.ped_dadg < TO_DATE('").append(session.getAttribute("dt_inicial")).append("', 'dd/MM/yyyy'))) ");
  */

  qatendidos.append("    ) ");

  if(session.getAttribute("ca_consulta_clientes")=="S"){
     Vector res_Clientes_atendidos = j.select(table_clientes_atendidos,
                                              qatendidos.toString(),
                                              null);

     portalbr.dbobj.view.Jw_clientes_atendidos_qtd r3 = (portalbr.dbobj.view.Jw_clientes_atendidos_qtd) res_Clientes_atendidos.elementAt(0);
     r.setClientes_atendidos(r3.getAtendidos_qtd());
     r.setClientes_nao_atendidos(r.getClientes_ativos()-(r.getClientes_atendidos()));
  }

//-----cidades ativas-------
  StringBuilder qativas = new StringBuilder();
  qativas.append(" SELECT /*+ all_rows */ count(distinct ecl.ecl_cdad||' - '||ecl.est_unifed) cidades_ativas_qtd ");
  qativas.append("   FROM ecl ");
  qativas.append("      , cliente_representante cr ");
  qativas.append("      , rep r ");
  qativas.append("      , representante_marca rm ");
  qativas.append("      , cli c ");
  qativas.append("  WHERE ecl.ned_cdgo            in ('COB', 'UNI') ");
  qativas.append("    AND ecl.cli_cdgo            =  cr.codigo_cliente ");
  qativas.append("    AND cr.codigo_representante =  r.rep_cdgo ");
  qativas.append("    AND r.rep_cdgo              =  rm.codigo_representante ");
  qativas.append("    AND c.cli_cdgo              =  cr.codigo_cliente ");
  qativas.append("    AND cr.codigo_sequencial    =  ecl.esc_seqn ");
  qativas.append("    AND rm.marca_produto        =  nvl(").append(session.getAttribute("codigo_marca")).append(",rm.marca_produto) ");
  qativas.append("    AND r.codigo_regional       =  nvl(").append(session.getAttribute("codigo_regional")).append(",r.codigo_regional) ");
  qativas.append("    AND rm.marca_produto        =  nvl(").append(r.getCodigo_marca()).append(",rm.marca_produto) ");
  qativas.append("    AND c.cli_situ              =  nvl('A',c.cli_situ) ");
  qativas.append("    AND c.seg_cdgo              NOT IN (9,153) ");
  qativas.append("    AND rm.situacao             =  nvl(").append(session.getAttribute("situacao_representante_marca")).append(", rm.situacao) ");
  qativas.append("    AND r.rep_situ              =  nvl(").append(session.getAttribute("situacao_representante")).append(",r.rep_situ) ");
  qativas.append("    AND cr.situacao             =  nvl(").append(session.getAttribute("situacao_cliente_representante")).append(", cr.situacao) ");

  if(session.getAttribute("ca_consulta_cidades")=="S"){
     Vector res_Cidades_ativas = j.select(table_cidades_ativas,
                                          qativas.toString(),
                                          null);

     portalbr.dbobj.view.Jw_cidades_ativas_qtd r4 = (portalbr.dbobj.view.Jw_cidades_ativas_qtd) res_Cidades_ativas.elementAt(0);
     r.setCidades_ativas(r4.getCidades_ativas_qtd());
  }

//-----cidades atendidas-------
  StringBuilder qatendidas = new StringBuilder();
  qatendidas.append(" SELECT /*+ all_rows */ count(distinct cidade) cidades_atendidas_qtd ");
  qatendidas.append("   FROM ( ");
  qatendidas.append(" SELECT DISTINCT ");
  qatendidas.append("        (ecl.ecl_cdad || ' - ' || ecl.est_unifed) cidade ");
  qatendidas.append("   FROM resumo_ped res ");
  qatendidas.append("      , ecl ");
  qatendidas.append("      , cli ");
  qatendidas.append("      , rep ");
  qatendidas.append("      , cliente_representante clr ");
  qatendidas.append("      , representante_marca   rm ");
  if (session.getAttribute("ca_abrir_meses") == "S") {
      qatendidas.append("  WHERE res.data_dig >= to_date('"+r.getMes()+"', 'yyyy-mm-dd') ");
      qatendidas.append("  AND res.data_dig < last_day(to_date('"+r.getMes()+"', 'yyyy-mm-dd')) + 1 ");
  }
  else{
  qatendidas.append("  WHERE res.data_dig             >= to_date('").append(session.getAttribute("dt_inicial")).append("','dd/MM/yyyy') ");
  qatendidas.append("    AND res.data_dig             <  to_date('").append(session.getAttribute("dt_final")).append("','dd/MM/yyyy')+1 ");
  }
  qatendidas.append("    AND res.lin_cdgo             =  nvl(").append(session.getAttribute("lin_cdgo")).append(",res.lin_cdgo) ");
  qatendidas.append("    AND res.codigo_marca         =  nvl(").append(session.getAttribute("codigo_marca")).append(",res.codigo_marca) ");
  qatendidas.append("    AND res.codigo_regional      =  nvl(").append(session.getAttribute("codigo_regional")).append(", res.codigo_regional) ");
  qatendidas.append("    AND ecl.cli_cdgo             =  res.cli_cdgo ");
  qatendidas.append("    AND cli.cli_cdgo             =  res.cli_cdgo ");
  qatendidas.append("    AND rep.rep_cdgo             =  res.rep_cdgo ");
  qatendidas.append("    AND clr.codigo_cliente       =  cli.cli_cdgo ");
  qatendidas.append("    AND rm.codigo_representante  =  rep.rep_cdgo ");
  qatendidas.append("    AND clr.codigo_representante =  rep.rep_cdgo ");
  qatendidas.append("    AND clr.codigo_sequencial    =  res.esc_seqn "); 
  qatendidas.append("    AND rm.marca_produto         =  res.codigo_marca ");
  qatendidas.append("    AND rm.marca_produto         =  nvl(").append(r.getCodigo_marca()).append(",rm.marca_produto) ");
  qatendidas.append("    AND ecl.ned_cdgo             in ('COB', 'UNI') ");
  qatendidas.append("    AND ecl.esc_seqn             =  res.esc_seqn ");
  qatendidas.append("    AND cli.cli_situ             =  nvl('A',cli.cli_situ) ");
  qatendidas.append("    AND cli.seg_cdgo             NOT IN (9,153) ");
  qatendidas.append("    AND rm.situacao              =  nvl(").append(session.getAttribute("situacao_representante_marca")).append(", rm.situacao) ");
  qatendidas.append("    AND rep.rep_situ             =  nvl(").append(session.getAttribute("situacao_representante")).append(",rep.rep_situ) ");
  qatendidas.append("    AND clr.situacao             =  nvl(").append(session.getAttribute("situacao_cliente_representante")).append(", clr.situacao) ");
  qatendidas.append("  UNION ALL ");
  qatendidas.append(" SELECT DISTINCT ");
  qatendidas.append("        (ecl.ecl_cdad || ' - ' || ecl.est_unifed) cidade ");
  qatendidas.append("   FROM resumo_pedidos res ");
  qatendidas.append("      , ecl ");
  qatendidas.append("      , cli ");
  qatendidas.append("      , rep ");
  qatendidas.append("      , cliente_representante clr ");
  qatendidas.append("      , representante_marca rm ");
  if (session.getAttribute("ca_abrir_meses") == "S") {
      qatendidas.append("  WHERE res.data_dig >= to_date('"+r.getMes()+"', 'yyyy-mm-dd') ");
      qatendidas.append("  AND res.data_dig < last_day(to_date('"+r.getMes()+"', 'yyyy-mm-dd')) + 1 ");
  }
  else{
  qatendidas.append("  WHERE res.data_dig             >= to_date('").append(session.getAttribute("dt_inicial")).append("','dd/MM/yyyy') ");
  qatendidas.append("    AND res.data_dig             <  to_date('").append(session.getAttribute("dt_final")).append("','dd/MM/yyyy')+1 ");
  }
  qatendidas.append("    AND res.lin_cdgo             =  nvl(").append(session.getAttribute("lin_cdgo")).append(",res.lin_cdgo) ");
  qatendidas.append("    AND res.codigo_marca         =  nvl(").append(session.getAttribute("codigo_marca")).append(",res.codigo_marca) ");
  qatendidas.append("    AND res.codigo_regional      =  nvl(").append(session.getAttribute("codigo_regional")).append(", res.codigo_regional) ");
  qatendidas.append("    AND ecl.cli_cdgo             =  res.cli_cdgo ");
  qatendidas.append("    AND cli.cli_cdgo             =  res.cli_cdgo ");
  qatendidas.append("    AND rep.rep_cdgo             =  res.rep_cdgo ");
  qatendidas.append("    AND clr.codigo_cliente       =  cli.cli_cdgo ");
  qatendidas.append("    AND clr.codigo_representante =  rep.rep_cdgo ");
  qatendidas.append("    AND clr.codigo_sequencial    =  res.esc_seqn ");
  qatendidas.append("    AND rm.codigo_representante  =  rep.rep_cdgo ");
  qatendidas.append("    AND ecl.ned_cdgo             in ('COB', 'UNI') ");
  qatendidas.append("    AND ecl.esc_seqn             =  res.esc_seqn ");
  qatendidas.append("    AND rm.marca_produto         =  res.codigo_marca ");
  qatendidas.append("    AND rm.marca_produto         =  nvl(").append(r.getCodigo_marca()).append(",rm.marca_produto) ");
  qatendidas.append("    AND cli.cli_situ             =  nvl('A',cli.cli_situ) ");
  qatendidas.append("    AND cli.seg_cdgo             NOT IN (9,153) ");
  qatendidas.append("    AND rm.situacao              =  nvl(").append(session.getAttribute("situacao_representante_marca")).append(", rm.situacao) ");
  qatendidas.append("    AND rep.rep_situ             =  nvl(").append(session.getAttribute("situacao_representante")).append(",rep.rep_situ) ");
  qatendidas.append("    AND clr.situacao             =  nvl(").append(session.getAttribute("situacao_cliente_representante")).append(", clr.situacao) ");
  qatendidas.append(" ) ");

  if(session.getAttribute("ca_consulta_cidades")=="S"){
     Vector res_Cidades_atendidas = j.select(table_cidades_atendidas,
                                             qatendidas.toString(),
                                             null);

     portalbr.dbobj.view.Jw_cidades_atendidas_qtd r5 = (portalbr.dbobj.view.Jw_cidades_atendidas_qtd) res_Cidades_atendidas.elementAt(0);
     r.setCidades_atendidas(r5.getCidades_atendidas_qtd());
     r.setCidades_nao_atendidas(r.getCidades_ativas()-r.getCidades_atendidas());
  }

 }



}


if(session.getAttribute("ca_consulta_segmentos")=="S"){
     StringBuilder qsegmentos = new StringBuilder();
     qsegmentos.append(" select /*+ all_rows */ seg_cdgo, ");
     qsegmentos.append("        seg_desc, ");
     qsegmentos.append("        sum(pequeno) pequenos, ");
     qsegmentos.append("        sum(medio) medios, ");
     qsegmentos.append("        sum(grande) grandes, ");
     qsegmentos.append("        sum(todos) todos ");
     qsegmentos.append("   from ( ");
     qsegmentos.append("          select seg_cdgo, ");
     qsegmentos.append("                 seg_desc, ");
     qsegmentos.append("                 DECODE(limite, 'Pequeno', count(distinct cli_cdgo), 0) pequeno, ");
     qsegmentos.append("                 DECODE(limite, 'Médio', count(distinct cli_cdgo), 0) medio, ");
     qsegmentos.append("                 DECODE(limite, 'Grande', count(distinct cli_cdgo), 0) grande, ");
     qsegmentos.append("                 nvl(count(distinct cli_cdgo), 0) todos ");
     qsegmentos.append("           from (SELECT cli_cdgo, ");
     qsegmentos.append("                         seg_cdgo, ");
     qsegmentos.append("                         seg_desc, ");
     qsegmentos.append("                         case ");
     qsegmentos.append("                           when limite_credito <= 50000 then ");
     qsegmentos.append("                            'Pequeno' ");
     qsegmentos.append("                           when limite_credito > 50000 and ");
     qsegmentos.append("                                limite_credito <= 200000 then ");
     qsegmentos.append("                            'Médio' ");
     qsegmentos.append("                           when limite_credito > 200000 then ");
     qsegmentos.append("                            'Grande' ");
     qsegmentos.append("                         end limite ");
     qsegmentos.append("                    from (SELECT distinct cli.cli_cdgo, ");
     qsegmentos.append("                                          cli.cli_nome, ");
     qsegmentos.append("                                          cli.cli_rzao, ");
     qsegmentos.append("                                          seg.seg_cdgo, ");
     qsegmentos.append("                                          seg.seg_desc, ");
     qsegmentos.append("                                          p.limite_credito ");
     qsegmentos.append("                            FROM resumo_ped res, ");
     qsegmentos.append("                                 cli, ");
     qsegmentos.append("                                 rep, ");
     qsegmentos.append("                                 cliente_representante clr, ");
     qsegmentos.append("                                 representante_marca rm, ");
     qsegmentos.append("                                 seg, ");
     qsegmentos.append("                                 parametros_cliente p ");
     qsegmentos.append("                           WHERE res.data_dig            >= to_date('").append(session.getAttribute("dt_inicial")).append("', 'dd/MM/yyyy') ");
     qsegmentos.append("                             AND res.data_dig             < to_date('").append(session.getAttribute("dt_final")).append("', 'dd/MM/yyyy') + 1 ");
     qsegmentos.append("                             AND res.lin_cdgo             = nvl(").append(session.getAttribute("lin_cdgo")).append(", res.lin_cdgo) ");
     qsegmentos.append("                             AND res.codigo_marca         = nvl(").append(session.getAttribute("codigo_marca")).append(", res.codigo_marca) ");
     qsegmentos.append("                             AND res.codigo_regional      = nvl(").append(session.getAttribute("codigo_regional")).append(", res.codigo_regional) ");
     qsegmentos.append("                             AND cli.cli_cdgo             = res.cli_cdgo ");
     qsegmentos.append("                             AND seg.seg_cdgo             = cli.seg_cdgo ");
     qsegmentos.append("                             and p.cli_cdgo               = cli.cli_cdgo ");
     qsegmentos.append("                             AND rep.rep_cdgo             = res.rep_cdgo ");
     qsegmentos.append("                             AND clr.codigo_representante = rep.rep_cdgo ");
     qsegmentos.append("                             AND cli.cli_cdgo             = clr.codigo_cliente ");
     qsegmentos.append("                             AND res.esc_seqn             = clr.codigo_sequencial ");
     qsegmentos.append("                             AND rm.marca_produto         = res.codigo_marca ");
     qsegmentos.append("                             AND rm.codigo_representante  = rep.rep_cdgo ");
     qsegmentos.append("                             AND cli.cli_situ             = nvl('A', cli.cli_situ) ");
     qsegmentos.append("                             AND cli.seg_cdgo             NOT IN (9, 153) ");
     qsegmentos.append("                             AND res.codigo_marca         = nvl(").append(session.getAttribute("codigo_marca")).append(", res.codigo_marca) ");
     qsegmentos.append("                             AND res.codigo_regional      = nvl(").append(session.getAttribute("codigo_regional")).append(", res.codigo_regional) ");
     qsegmentos.append("                             AND res.rep_cdgo             = nvl(null, res.rep_cdgo) ");
     qsegmentos.append("                             AND rep.rep_situ             = nvl(").append(session.getAttribute("situacao_representante")).append(", rep.rep_situ) ");
     qsegmentos.append("                             AND clr.situacao             = nvl(").append(session.getAttribute("situacao_cliente_representante")).append(", clr.situacao) ");
     qsegmentos.append("                             AND rm.situacao              = nvl(").append(session.getAttribute("situacao_representante_marca")).append(", rm.situacao) ");
     qsegmentos.append("                          UNION ");
     qsegmentos.append("                          SELECT distinct cli.cli_cdgo, ");
     qsegmentos.append("                                          cli.cli_nome, ");
     qsegmentos.append("                                          cli.cli_rzao, ");
     qsegmentos.append("                                          seg.seg_cdgo, ");
     qsegmentos.append("                                          seg.seg_desc, ");
     qsegmentos.append("                                          p.limite_credito ");
     qsegmentos.append("                            FROM resumo_pedidos res, ");
     qsegmentos.append("                                 cli, ");
     qsegmentos.append("                                 rep, ");
     qsegmentos.append("                                 cliente_representante clr, ");
     qsegmentos.append("                                 representante_marca rm, ");
     qsegmentos.append("                                 seg, ");
     qsegmentos.append("                                 parametros_cliente p ");
     qsegmentos.append("                           WHERE res.data_dig            >= to_date('").append(session.getAttribute("dt_inicial")).append("', 'dd/MM/yyyy') ");
     qsegmentos.append("                             AND res.data_dig             < to_date('").append(session.getAttribute("dt_final")).append("', 'dd/MM/yyyy') + 1 ");
     qsegmentos.append("                             AND res.lin_cdgo             = nvl(").append(session.getAttribute("lin_cdgo")).append(", res.lin_cdgo) ");
     qsegmentos.append("                             AND res.codigo_marca         = nvl(").append(session.getAttribute("codigo_marca")).append(", res.codigo_marca) ");
     qsegmentos.append("                             AND res.codigo_regional      = nvl(").append(session.getAttribute("codigo_regional")).append(", res.codigo_regional) ");
     qsegmentos.append("                             AND cli.cli_cdgo             = res.cli_cdgo ");
     qsegmentos.append("                             AND seg.seg_cdgo             = cli.seg_cdgo ");
     qsegmentos.append("                             and p.cli_cdgo               = cli.cli_cdgo ");
     qsegmentos.append("                             AND rep.rep_cdgo             = res.rep_cdgo ");
     qsegmentos.append("                             AND res.esc_seqn             = clr.codigo_sequencial ");
     qsegmentos.append("                             AND rm.marca_produto         = res.codigo_marca ");
     qsegmentos.append("                             AND clr.codigo_representante = rep.rep_cdgo ");
     qsegmentos.append("                             AND cli.cli_cdgo             = clr.codigo_cliente ");
     qsegmentos.append("                             AND rm.codigo_representante  = rep.rep_cdgo ");
     qsegmentos.append("                             AND cli.cli_situ             = nvl('A', cli.cli_situ) ");
     qsegmentos.append("                             AND cli.seg_cdgo             NOT IN (9, 153) ");
     qsegmentos.append("                             AND res.codigo_marca         = nvl(").append(session.getAttribute("codigo_marca")).append(", res.codigo_marca) ");
     qsegmentos.append("                             AND res.codigo_regional      = nvl(").append(session.getAttribute("codigo_regional")).append(", res.codigo_regional) ");
     qsegmentos.append("                             AND res.rep_cdgo             = nvl(null, res.rep_cdgo) ");
     qsegmentos.append("                             AND rep.rep_situ             = nvl(").append(session.getAttribute("situacao_representante")).append(", rep.rep_situ) ");
     qsegmentos.append("                             AND clr.situacao             = nvl(").append(session.getAttribute("situacao_cliente_representante")).append(", clr.situacao) ");
     qsegmentos.append("                             AND rm.situacao              = nvl(").append(session.getAttribute("situacao_representante_marca")).append(", rm.situacao) ");
     qsegmentos.append("                          ) ");
     qsegmentos.append("                  ) ");
     qsegmentos.append("          group by seg_cdgo, seg_desc, limite ");
     qsegmentos.append("         ) ");
     qsegmentos.append("  group by seg_cdgo, seg_desc ");


  
//     if(true){throw new Exception(qsegmentos.toString());}
     Vector res_Jw_clientes_atendidos_segmentos = j.select(table_segmentos,
                                                           qsegmentos.toString(),
                                                           null);
     session.setAttribute("res_Jw_clientes_atendidos_segmentos",res_Jw_clientes_atendidos_segmentos);
  }




if(session.getAttribute("ca_consulta_segmentos")=="S"){
     StringBuilder qsegmentosn = new StringBuilder();
     qsegmentosn.append(" select /*+ all_rows */ seg_cdgo, ");
     qsegmentosn.append("        seg_desc, ");
     qsegmentosn.append("        sum(pequeno) pequenos, ");
     qsegmentosn.append("        sum(medio) medios, ");
     qsegmentosn.append("        sum(grande) grandes, ");
     qsegmentosn.append("        sum(todos) todos ");
     qsegmentosn.append("   from ( ");
     qsegmentosn.append("          select seg_cdgo, ");
     qsegmentosn.append("                 seg_desc, ");
     qsegmentosn.append("                 DECODE(limite, 'Pequeno', count(distinct cli_cdgo), 0) pequeno, ");
     qsegmentosn.append("                 DECODE(limite, 'Médio', count(distinct cli_cdgo), 0) medio, ");
     qsegmentosn.append("                 DECODE(limite, 'Grande', count(distinct cli_cdgo), 0) grande, ");
     qsegmentosn.append("                 nvl(count(distinct cli_cdgo), 0) todos ");
     qsegmentosn.append("           from (SELECT cli_cdgo, ");
     qsegmentosn.append("                         seg_cdgo, ");
     qsegmentosn.append("                         seg_desc, ");
     qsegmentosn.append("                         case ");
     qsegmentosn.append("                           when limite_credito <= 50000 then ");
     qsegmentosn.append("                            'Pequeno' ");
     qsegmentosn.append("                           when limite_credito > 50000 and ");
     qsegmentosn.append("                                limite_credito <= 200000 then ");
     qsegmentosn.append("                            'Médio' ");
     qsegmentosn.append("                           when limite_credito > 200000 then ");
     qsegmentosn.append("                            'Grande' ");
     qsegmentosn.append("                         end limite ");
     qsegmentosn.append("                    from ( ");
     qsegmentosn.append(" SELECT DISTINCT ");
     qsegmentosn.append("	        cli.cli_cdgo ");
     qsegmentosn.append("	      , cli.cli_nome ");
     qsegmentosn.append("	      , cli.cli_rzao ");
     qsegmentosn.append("        , seg.seg_cdgo,");
     qsegmentosn.append("          seg.seg_desc,");
     qsegmentosn.append("          p.limite_credito ");
     qsegmentosn.append("	   FROM rep ");
     qsegmentosn.append("	      , cliente_representante clr ");
     qsegmentosn.append("	      , cli ");
     qsegmentosn.append("	      , representante_marca rm ");
     qsegmentosn.append("        , seg ");
     qsegmentosn.append("        , parametros_cliente p ");
     qsegmentosn.append("	  WHERE clr.codigo_representante =  rep.rep_cdgo  ");
     qsegmentosn.append("      AND seg.seg_cdgo              = cli.seg_cdgo ");
     qsegmentosn.append("      and p.cli_cdgo                = cli.cli_cdgo ");
     qsegmentosn.append("	    AND cli.cli_cdgo              =  clr.codigo_cliente  ");
     qsegmentosn.append("	    AND rm.codigo_representante   =  rep.rep_cdgo  ");
     qsegmentosn.append("	    AND cli.cli_situ              =  'A'  ");
     qsegmentosn.append("	    AND cli.seg_cdgo              NOT IN (9,153)  ");
     qsegmentosn.append("	    AND rep.rep_situ              =  nvl(").append(session.getAttribute("situacao_representante")).append(",rep.rep_situ)  ");
     qsegmentosn.append("	    AND clr.situacao              =  nvl(").append(session.getAttribute("situacao_cliente_representante")).append(",clr.situacao)  ");
     qsegmentosn.append("	    AND rm.situacao               =  nvl(").append(session.getAttribute("situacao_representante_marca")).append(",rm.situacao)  ");
     qsegmentosn.append("	    AND rep.codigo_regional       =  nvl(").append(session.getAttribute("codigo_regional")).append(",rep.codigo_regional)  ");
     qsegmentosn.append("	    AND rm.marca_produto          =  nvl(").append(session.getAttribute("codigo_marca")).append(",rm.marca_produto)  ");
     qsegmentosn.append("	  MINUS (     ");



     qsegmentosn.append("                          SELECT distinct cli.cli_cdgo, ");
     qsegmentosn.append("                                          cli.cli_nome, ");
     qsegmentosn.append("                                          cli.cli_rzao, ");
     qsegmentosn.append("                                          seg.seg_cdgo, ");
     qsegmentosn.append("                                          seg.seg_desc, ");
     qsegmentosn.append("                                          p.limite_credito ");
     qsegmentosn.append("                            FROM resumo_ped res, ");
     qsegmentosn.append("                                 cli, ");
     qsegmentosn.append("                                 rep, ");
     qsegmentosn.append("                                 cliente_representante clr, ");
     qsegmentosn.append("                                 representante_marca rm, ");
     qsegmentosn.append("                                 seg, ");
     qsegmentosn.append("                                 parametros_cliente p ");
     qsegmentosn.append("                           WHERE res.data_dig            >= to_date('").append(session.getAttribute("dt_inicial")).append("', 'dd/MM/yyyy') ");
     qsegmentosn.append("                             AND res.data_dig             < to_date('").append(session.getAttribute("dt_final")).append("', 'dd/MM/yyyy') + 1 ");
     qsegmentosn.append("                             AND res.lin_cdgo             = nvl(").append(session.getAttribute("lin_cdgo")).append(", res.lin_cdgo) ");
     qsegmentosn.append("                             AND res.codigo_marca         = nvl(").append(session.getAttribute("codigo_marca")).append(", res.codigo_marca) ");
     qsegmentosn.append("                             AND res.codigo_regional      = nvl(").append(session.getAttribute("codigo_regional")).append(", res.codigo_regional) ");
     qsegmentosn.append("                             AND cli.cli_cdgo             = res.cli_cdgo ");
     qsegmentosn.append("                             AND seg.seg_cdgo             = cli.seg_cdgo ");
     qsegmentosn.append("                             and p.cli_cdgo               = cli.cli_cdgo ");
     qsegmentosn.append("                             AND rep.rep_cdgo             = res.rep_cdgo ");
     qsegmentosn.append("                             AND clr.codigo_representante = rep.rep_cdgo ");
     qsegmentosn.append("                             AND cli.cli_cdgo             = clr.codigo_cliente ");
     qsegmentosn.append("                             AND res.esc_seqn             = clr.codigo_sequencial ");
     qsegmentosn.append("                             AND rm.marca_produto         = res.codigo_marca ");
     qsegmentosn.append("                             AND rm.codigo_representante  = rep.rep_cdgo ");
     qsegmentosn.append("                             AND cli.cli_situ             = nvl('A', cli.cli_situ) ");
     qsegmentosn.append("                             AND cli.seg_cdgo             NOT IN (9, 153) ");
     qsegmentosn.append("                             AND res.codigo_marca         = nvl(").append(session.getAttribute("codigo_marca")).append(", res.codigo_marca) ");
     qsegmentosn.append("                             AND res.codigo_regional      = nvl(").append(session.getAttribute("codigo_regional")).append(", res.codigo_regional) ");
     qsegmentosn.append("                             AND res.rep_cdgo             = nvl(null, res.rep_cdgo) ");
     qsegmentosn.append("                             AND rep.rep_situ             = nvl(").append(session.getAttribute("situacao_representante")).append(", rep.rep_situ) ");
     qsegmentosn.append("                             AND clr.situacao             = nvl(").append(session.getAttribute("situacao_cliente_representante")).append(", clr.situacao) ");
     qsegmentosn.append("                             AND rm.situacao              = nvl(").append(session.getAttribute("situacao_representante_marca")).append(", rm.situacao) ");
     qsegmentosn.append("                          UNION ");
     qsegmentosn.append("                          SELECT distinct cli.cli_cdgo, ");
     qsegmentosn.append("                                          cli.cli_nome, ");
     qsegmentosn.append("                                          cli.cli_rzao, ");
     qsegmentosn.append("                                          seg.seg_cdgo, ");
     qsegmentosn.append("                                          seg.seg_desc, ");
     qsegmentosn.append("                                          p.limite_credito ");
     qsegmentosn.append("                            FROM resumo_pedidos res, ");
     qsegmentosn.append("                                 cli, ");
     qsegmentosn.append("                                 rep, ");
     qsegmentosn.append("                                 cliente_representante clr, ");
     qsegmentosn.append("                                 representante_marca rm, ");
     qsegmentosn.append("                                 seg, ");
     qsegmentosn.append("                                 parametros_cliente p ");
     qsegmentosn.append("                           WHERE res.data_dig            >= to_date('").append(session.getAttribute("dt_inicial")).append("', 'dd/MM/yyyy') ");
     qsegmentosn.append("                             AND res.data_dig             < to_date('").append(session.getAttribute("dt_final")).append("', 'dd/MM/yyyy') + 1 ");
     qsegmentosn.append("                             AND res.lin_cdgo             = nvl(").append(session.getAttribute("lin_cdgo")).append(", res.lin_cdgo) ");
     qsegmentosn.append("                             AND res.codigo_marca         = nvl(").append(session.getAttribute("codigo_marca")).append(", res.codigo_marca) ");
     qsegmentosn.append("                             AND res.codigo_regional      = nvl(").append(session.getAttribute("codigo_regional")).append(", res.codigo_regional) ");
     qsegmentosn.append("                             AND cli.cli_cdgo             = res.cli_cdgo ");
     qsegmentosn.append("                             AND seg.seg_cdgo             = cli.seg_cdgo ");
     qsegmentosn.append("                             and p.cli_cdgo               = cli.cli_cdgo ");
     qsegmentosn.append("                             AND rep.rep_cdgo             = res.rep_cdgo ");
     qsegmentosn.append("                             AND res.esc_seqn             = clr.codigo_sequencial ");
     qsegmentosn.append("                             AND rm.marca_produto         = res.codigo_marca ");
     qsegmentosn.append("                             AND clr.codigo_representante = rep.rep_cdgo ");
     qsegmentosn.append("                             AND cli.cli_cdgo             = clr.codigo_cliente ");
     qsegmentosn.append("                             AND rm.codigo_representante  = rep.rep_cdgo ");
     qsegmentosn.append("                             AND cli.cli_situ             = nvl('A', cli.cli_situ) ");
     qsegmentosn.append("                             AND cli.seg_cdgo             NOT IN (9, 153) ");
     qsegmentosn.append("                             AND res.codigo_marca         = nvl(").append(session.getAttribute("codigo_marca")).append(", res.codigo_marca) ");
     qsegmentosn.append("                             AND res.codigo_regional      = nvl(").append(session.getAttribute("codigo_regional")).append(", res.codigo_regional) ");
     qsegmentosn.append("                             AND res.rep_cdgo             = nvl(null, res.rep_cdgo) ");
     qsegmentosn.append("                             AND rep.rep_situ             = nvl(").append(session.getAttribute("situacao_representante")).append(", rep.rep_situ) ");
     qsegmentosn.append("                             AND clr.situacao             = nvl(").append(session.getAttribute("situacao_cliente_representante")).append(", clr.situacao) ");
     qsegmentosn.append("                             AND rm.situacao              = nvl(").append(session.getAttribute("situacao_representante_marca")).append(", rm.situacao)) ");
     qsegmentosn.append("                          ) ");
     qsegmentosn.append("                  ) ");
     qsegmentosn.append("          group by seg_cdgo, seg_desc, limite ");
     qsegmentosn.append("         ) ");
     qsegmentosn.append("  group by seg_cdgo, seg_desc ");


  
//     if(true){throw new Exception(qsegmentos.toString());}
     Vector res_Jw_clientes_nao_atendidos_segmentos = j.select(table_segmentos_nao_atendidos,
                                                               qsegmentosn.toString(),
                                                               null);
     session.setAttribute("res_Jw_clientes_nao_atendidos_segmentos",res_Jw_clientes_nao_atendidos_segmentos);
  }



  if(session.getAttribute("ca_consulta_regionais")=="S"){
     StringBuilder qlimiteregional = new StringBuilder();
     qlimiteregional.append(" select /*+ all_rows */ codigo_regional, ");
     qlimiteregional.append("        pck_regionais_vendas.get_nome(codigo_regional) nome, ");
     qlimiteregional.append("        'Atendidos' situacao, ");
     qlimiteregional.append("        sum(pequeno) pequenos,  ");
     qlimiteregional.append("        sum(medio) medios,  ");
     qlimiteregional.append("        sum(grande) grandes,  ");
     qlimiteregional.append("        sum(todos) todos  ");
     qlimiteregional.append("   from (  ");
     qlimiteregional.append("          select codigo_regional, ");
     qlimiteregional.append("                 DECODE(limite, 'Pequeno', count(distinct cli_cdgo), 0) pequeno,  ");
     qlimiteregional.append("                 DECODE(limite, 'Médio', count(distinct cli_cdgo), 0) medio,  ");
     qlimiteregional.append("                 DECODE(limite, 'Grande', count(distinct cli_cdgo), 0) grande,  ");
     qlimiteregional.append("                 nvl(count(distinct cli_cdgo), 0) todos  ");
     qlimiteregional.append("           from (SELECT  codigo_regional, ");
     qlimiteregional.append("                         cli_cdgo, "); 
     qlimiteregional.append("                         case  ");
     qlimiteregional.append("                           when limite_credito <= 50000 then  ");
     qlimiteregional.append("                            'Pequeno'  ");
     qlimiteregional.append("                           when limite_credito > 50000 and  ");
     qlimiteregional.append("                                limite_credito <= 200000 then  ");
     qlimiteregional.append("                            'Médio'  ");
     qlimiteregional.append("                           when limite_credito > 200000 then  ");
     qlimiteregional.append("                            'Grande'  ");
     qlimiteregional.append("                         end limite  ");
     qlimiteregional.append("                    from (SELECT distinct rep.codigo_regional, ");
     qlimiteregional.append("                                          cli.cli_cdgo,  ");
     qlimiteregional.append("                                          cli.cli_nome,  ");
     qlimiteregional.append("                                          cli.cli_rzao,  ");
     qlimiteregional.append("                                          p.limite_credito  ");
     qlimiteregional.append("                            FROM resumo_ped res,  ");
     qlimiteregional.append("                                 cli,  ");
     qlimiteregional.append("                                 rep,  ");
     qlimiteregional.append("                                 cliente_representante clr,  ");
     qlimiteregional.append("                                 representante_marca rm,  ");
     qlimiteregional.append("                                 seg,  ");
     qlimiteregional.append("                                 parametros_cliente p  ");
     qlimiteregional.append("                           WHERE res.data_dig            >= to_date('").append(session.getAttribute("dt_inicial")).append("', 'dd/MM/yyyy')  ");
     qlimiteregional.append("                             AND res.data_dig             < to_date('").append(session.getAttribute("dt_final")).append("', 'dd/MM/yyyy') + 1  ");
     qlimiteregional.append("                             AND res.lin_cdgo             = nvl(").append(session.getAttribute("lin_cdgo")).append(", res.lin_cdgo)  ");
     qlimiteregional.append("                             AND res.codigo_marca         = nvl(").append(session.getAttribute("codigo_marca")).append(", res.codigo_marca)  ");
     qlimiteregional.append("                             AND res.codigo_regional      = nvl(").append(session.getAttribute("codigo_regional")).append(", res.codigo_regional)  ");
     qlimiteregional.append("                             AND cli.cli_cdgo             = res.cli_cdgo  ");
     qlimiteregional.append("                             AND seg.seg_cdgo             = cli.seg_cdgo  ");
     qlimiteregional.append("                             and p.cli_cdgo               = cli.cli_cdgo  ");
     qlimiteregional.append("                             AND rep.rep_cdgo             = res.rep_cdgo  ");
     qlimiteregional.append("                             AND clr.codigo_representante = rep.rep_cdgo  ");
     qlimiteregional.append("                             AND cli.cli_cdgo             = clr.codigo_cliente  ");
     qlimiteregional.append("                             AND res.esc_seqn             = clr.codigo_sequencial  ");
     qlimiteregional.append("                             AND rm.marca_produto         = res.codigo_marca  ");
     qlimiteregional.append("                             AND rm.codigo_representante  = rep.rep_cdgo  ");
     qlimiteregional.append("                             AND cli.cli_situ             = nvl('A', cli.cli_situ)  ");
     qlimiteregional.append("                             AND cli.seg_cdgo             NOT IN (9, 153)  ");
     qlimiteregional.append("                             AND res.codigo_marca         = nvl(").append(session.getAttribute("codigo_marca")).append(", res.codigo_marca)  ");
     qlimiteregional.append("                             AND res.codigo_regional      = nvl(").append(session.getAttribute("codigo_regional")).append(", res.codigo_regional)  ");
     qlimiteregional.append("                             AND res.rep_cdgo             = nvl(null, res.rep_cdgo)  ");
     qlimiteregional.append("                             AND rep.rep_situ             = nvl(").append(session.getAttribute("situacao_representante")).append(", rep.rep_situ)  ");
     qlimiteregional.append("                             AND clr.situacao             = nvl(").append(session.getAttribute("situacao_cliente_representante")).append(", clr.situacao)  ");
     qlimiteregional.append("                             AND rm.situacao              = nvl(").append(session.getAttribute("situacao_representante_marca")).append(", rm.situacao)  ");
     qlimiteregional.append("                          UNION  ");
     qlimiteregional.append("                          SELECT distinct rep.codigo_regional, ");
     qlimiteregional.append("                                          cli.cli_cdgo,  ");
     qlimiteregional.append("                                          cli.cli_nome,  ");
     qlimiteregional.append("                                          cli.cli_rzao,  ");
     qlimiteregional.append("                                          p.limite_credito  ");
     qlimiteregional.append("                            FROM resumo_pedidos res,  ");
     qlimiteregional.append("                                 cli,  ");
     qlimiteregional.append("                                 rep,  ");
     qlimiteregional.append("                                 cliente_representante clr,  ");
     qlimiteregional.append("                                 representante_marca rm,  ");
     qlimiteregional.append("                                 seg,  ");
     qlimiteregional.append("                                 parametros_cliente p  ");
     qlimiteregional.append("                           WHERE res.data_dig            >= to_date('").append(session.getAttribute("dt_inicial")).append("', 'dd/MM/yyyy')  ");
     qlimiteregional.append("                             AND res.data_dig             < to_date('").append(session.getAttribute("dt_final")).append("', 'dd/MM/yyyy') + 1  ");
     qlimiteregional.append("                             AND res.lin_cdgo             = nvl(").append(session.getAttribute("lin_cdgo")).append(", res.lin_cdgo)  ");
     qlimiteregional.append("                             AND res.codigo_marca         = nvl(").append(session.getAttribute("codigo_marca")).append(", res.codigo_marca)  ");
     qlimiteregional.append("                             AND res.codigo_regional      = nvl(").append(session.getAttribute("codigo_regional")).append(", res.codigo_regional)  ");
     qlimiteregional.append("                             AND cli.cli_cdgo             = res.cli_cdgo  ");
     qlimiteregional.append("                             AND seg.seg_cdgo             = cli.seg_cdgo  ");
     qlimiteregional.append("                             and p.cli_cdgo               = cli.cli_cdgo  ");
     qlimiteregional.append("                             AND rep.rep_cdgo             = res.rep_cdgo  ");
     qlimiteregional.append("                             AND res.esc_seqn             = clr.codigo_sequencial "); 
     qlimiteregional.append("                             AND rm.marca_produto         = res.codigo_marca  ");
     qlimiteregional.append("                             AND clr.codigo_representante = rep.rep_cdgo  ");
     qlimiteregional.append("                             AND cli.cli_cdgo             = clr.codigo_cliente  ");
     qlimiteregional.append("                             AND rm.codigo_representante  = rep.rep_cdgo  ");
     qlimiteregional.append("                             AND cli.cli_situ             = nvl('A', cli.cli_situ)  ");
     qlimiteregional.append("                             AND cli.seg_cdgo             NOT IN (9, 153)  ");
     qlimiteregional.append("                             AND res.codigo_marca         = nvl(").append(session.getAttribute("codigo_marca")).append(", res.codigo_marca)  ");
     qlimiteregional.append("                             AND res.codigo_regional      = nvl(").append(session.getAttribute("codigo_regional")).append(", res.codigo_regional)  ");
     qlimiteregional.append("                             AND res.rep_cdgo             = nvl(null, res.rep_cdgo)  ");
     qlimiteregional.append("                             AND rep.rep_situ             = nvl(").append(session.getAttribute("situacao_representante")).append(", rep.rep_situ)  ");
     qlimiteregional.append("                             AND clr.situacao             = nvl(").append(session.getAttribute("situacao_cliente_representante")).append(", clr.situacao)  ");
     qlimiteregional.append("                             AND rm.situacao              = nvl(").append(session.getAttribute("situacao_representante_marca")).append(", rm.situacao)  ");
     qlimiteregional.append("                          )  ");
     qlimiteregional.append("                  )  ");
     qlimiteregional.append("          group by codigo_regional, limite  ");
     qlimiteregional.append("         )  ");
     qlimiteregional.append("  group by codigo_regional ");
     qlimiteregional.append("  union ");
     qlimiteregional.append(" select  codigo_regional, ");
     qlimiteregional.append("         pck_regionais_vendas.get_nome(codigo_regional) nome, ");
     qlimiteregional.append("         'Não Atendidos' situacao, ");
     qlimiteregional.append("         sum(pequeno) pequenos,  ");
     qlimiteregional.append("         sum(medio) medios,  ");
     qlimiteregional.append("         sum(grande) grandes,  ");
     qlimiteregional.append("         sum(todos) todos  ");
     qlimiteregional.append("    from (  ");
     qlimiteregional.append("           select codigo_regional, ");
     qlimiteregional.append("                  DECODE(limite, 'Pequeno', count(distinct cli_cdgo), 0) pequeno,  ");
     qlimiteregional.append("                  DECODE(limite, 'Médio', count(distinct cli_cdgo), 0) medio,  ");
     qlimiteregional.append("                  DECODE(limite, 'Grande', count(distinct cli_cdgo), 0) grande,  ");
     qlimiteregional.append("                  nvl(count(distinct cli_cdgo), 0) todos  ");
     qlimiteregional.append("            from (SELECT cli_cdgo,  ");
     qlimiteregional.append("                          codigo_regional, ");
     qlimiteregional.append("                          case  ");
     qlimiteregional.append("                            when limite_credito <= 50000 then  ");
     qlimiteregional.append("                             'Pequeno'  ");
     qlimiteregional.append("                            when limite_credito > 50000 and  ");
     qlimiteregional.append("                                 limite_credito <= 200000 then  ");
     qlimiteregional.append("                             'Médio'  ");
     qlimiteregional.append("                            when limite_credito > 200000 then  ");
     qlimiteregional.append("                             'Grande'  ");
     qlimiteregional.append("                          end limite  ");
     qlimiteregional.append("                     from (  ");
     qlimiteregional.append("  SELECT DISTINCT  ");
     qlimiteregional.append("           cl.cli_cdgo  ");
     qlimiteregional.append("         , cl.cli_nome  ");
     qlimiteregional.append("         , cl.cli_rzao  ");
     qlimiteregional.append("         , rep.codigo_regional ");
     qlimiteregional.append("         ,  p.limite_credito  ");
     qlimiteregional.append("      FROM rep  ");
     qlimiteregional.append("         , cliente_representante clr  ");
     qlimiteregional.append("         , cli cl ");
     qlimiteregional.append("         , representante_marca rm  ");
     qlimiteregional.append("         , seg  ");
     qlimiteregional.append("         , parametros_cliente p  ");
     qlimiteregional.append("     WHERE clr.codigo_representante  =  rep.rep_cdgo   ");
     qlimiteregional.append("       AND seg.seg_cdgo              = cl.seg_cdgo  ");
     qlimiteregional.append("       and p.cli_cdgo                = cl.cli_cdgo  ");
     qlimiteregional.append("       AND cl.cli_cdgo               =  clr.codigo_cliente  "); 
     qlimiteregional.append("       AND rm.codigo_representante   =  rep.rep_cdgo   ");
     qlimiteregional.append("       AND cl.cli_situ               =  'A'   ");
     qlimiteregional.append("       AND cl.seg_cdgo              NOT IN (9,153)   ");
     qlimiteregional.append("       AND rep.rep_situ              =  nvl(").append(session.getAttribute("situacao_representante")).append(",rep.rep_situ)   ");
     qlimiteregional.append("       AND clr.situacao              =  nvl(").append(session.getAttribute("situacao_cliente_representante")).append(",clr.situacao)   ");
     qlimiteregional.append("       AND rm.situacao               =  nvl(").append(session.getAttribute("situacao_representante_marca")).append(",rm.situacao)   ");
     qlimiteregional.append("       AND rep.codigo_regional       =  nvl(").append(session.getAttribute("codigo_regional")).append(",rep.codigo_regional) ");  
     qlimiteregional.append("       AND rm.marca_produto          =  nvl(").append(session.getAttribute("codigo_marca")).append(",rm.marca_produto)   ");
     qlimiteregional.append("     minus (      ");
     qlimiteregional.append("                           SELECT distinct cli.cli_cdgo,  ");
     qlimiteregional.append("                                           cli.cli_nome,  ");
     qlimiteregional.append("                                           cli.cli_rzao,  ");
     qlimiteregional.append("                                           rep.codigo_regional, ");
     qlimiteregional.append("                                           p.limite_credito  ");
     qlimiteregional.append("                             FROM resumo_ped res,  ");
     qlimiteregional.append("                                  cli,  ");
     qlimiteregional.append("                                  rep,  ");
     qlimiteregional.append("                                  cliente_representante clr,  ");
     qlimiteregional.append("                                  representante_marca rm,  ");
     qlimiteregional.append("                                  seg,  ");
     qlimiteregional.append("                                  parametros_cliente p  ");
     qlimiteregional.append("                            WHERE res.data_dig            >= to_date('").append(session.getAttribute("dt_inicial")).append("', 'dd/MM/yyyy')  ");
     qlimiteregional.append("                              AND res.data_dig             < to_date('").append(session.getAttribute("dt_final")).append("', 'dd/MM/yyyy') + 1  ");
     qlimiteregional.append("                              AND res.lin_cdgo             = nvl(").append(session.getAttribute("lin_cdgo")).append(", res.lin_cdgo)  ");
     qlimiteregional.append("                              AND res.codigo_marca         = nvl(").append(session.getAttribute("codigo_marca")).append(", res.codigo_marca)  ");
     qlimiteregional.append("                              AND res.codigo_regional      = nvl(").append(session.getAttribute("codigo_regional")).append(", res.codigo_regional)  ");
     qlimiteregional.append("                              AND cli.cli_cdgo             = res.cli_cdgo  ");
     qlimiteregional.append("                              AND seg.seg_cdgo             = cli.seg_cdgo  ");
     qlimiteregional.append("                              and p.cli_cdgo               = cli.cli_cdgo  ");
     qlimiteregional.append("                              AND rep.rep_cdgo             = res.rep_cdgo  ");
     qlimiteregional.append("                              AND clr.codigo_representante = rep.rep_cdgo  ");
     qlimiteregional.append("                              AND cli.cli_cdgo             = clr.codigo_cliente  ");
     qlimiteregional.append("                              AND res.esc_seqn             = clr.codigo_sequencial  ");
     qlimiteregional.append("                              AND rm.marca_produto         = res.codigo_marca  ");
     qlimiteregional.append("                              AND rm.codigo_representante  = rep.rep_cdgo  ");
     qlimiteregional.append("                              AND cli.cli_situ             = nvl('A', cli.cli_situ)  ");
     qlimiteregional.append("                              AND cli.seg_cdgo             NOT IN (9, 153) ");
     qlimiteregional.append("                              AND res.codigo_marca         = nvl(").append(session.getAttribute("codigo_marca")).append(", res.codigo_marca)  ");
     qlimiteregional.append("                              AND res.codigo_regional      = nvl(").append(session.getAttribute("codigo_regional")).append(", res.codigo_regional)  ");
     qlimiteregional.append("                              AND res.rep_cdgo             = nvl(null, res.rep_cdgo)  ");
     qlimiteregional.append("                              AND rep.rep_situ             = nvl(").append(session.getAttribute("situacao_representante")).append(", rep.rep_situ)  ");
     qlimiteregional.append("                              AND clr.situacao             = nvl(").append(session.getAttribute("situacao_cliente_representante")).append(", clr.situacao)  ");
     qlimiteregional.append("                              AND rm.situacao              = nvl(").append(session.getAttribute("situacao_representante_marca")).append(", rm.situacao)  ");
     qlimiteregional.append("                           UNION  ");
     qlimiteregional.append("                           SELECT distinct cli.cli_cdgo,  ");
     qlimiteregional.append("                                           cli.cli_nome,  ");
     qlimiteregional.append("                                           cli.cli_rzao,  ");
     qlimiteregional.append("                                           rep.codigo_regional, ");
     qlimiteregional.append("                                           p.limite_credito  ");
     qlimiteregional.append("                             FROM resumo_pedidos res,  ");
     qlimiteregional.append("                                  cli,  ");
     qlimiteregional.append("                                  rep,  ");
     qlimiteregional.append("                                  cliente_representante clr,  ");
     qlimiteregional.append("                                  representante_marca rm,  ");
     qlimiteregional.append("                                  seg,  ");
     qlimiteregional.append("                                  parametros_cliente p  ");
     qlimiteregional.append("                            WHERE res.data_dig            >= to_date('").append(session.getAttribute("dt_inicial")).append("', 'dd/MM/yyyy')  ");
     qlimiteregional.append("                              AND res.data_dig             < to_date('").append(session.getAttribute("dt_final")).append("', 'dd/MM/yyyy') + 1  ");
     qlimiteregional.append("                              AND res.lin_cdgo             = nvl(").append(session.getAttribute("lin_cdgo")).append(", res.lin_cdgo)  ");
     qlimiteregional.append("                              AND res.codigo_marca         = nvl(").append(session.getAttribute("codigo_marca")).append(", res.codigo_marca)  ");
     qlimiteregional.append("                              AND res.codigo_regional      = nvl(").append(session.getAttribute("codigo_regional")).append(", res.codigo_regional)  ");
     qlimiteregional.append("                              AND cli.cli_cdgo             = res.cli_cdgo  ");
     qlimiteregional.append("                              AND seg.seg_cdgo             = cli.seg_cdgo  ");
     qlimiteregional.append("                              and p.cli_cdgo               = cli.cli_cdgo  ");
     qlimiteregional.append("                              AND rep.rep_cdgo             = res.rep_cdgo  ");
     qlimiteregional.append("                              AND res.esc_seqn             = clr.codigo_sequencial  ");
     qlimiteregional.append("                              AND rm.marca_produto         = res.codigo_marca  ");
     qlimiteregional.append("                              AND clr.codigo_representante = rep.rep_cdgo  ");
     qlimiteregional.append("                              AND cli.cli_cdgo             = clr.codigo_cliente  ");
     qlimiteregional.append("                              AND rm.codigo_representante  = rep.rep_cdgo  ");
     qlimiteregional.append("                              AND cli.cli_situ             = nvl('A', cli.cli_situ)  ");
     qlimiteregional.append("                              AND cli.seg_cdgo             NOT IN (9, 153)  ");
     qlimiteregional.append("                              AND res.codigo_marca         = nvl(").append(session.getAttribute("codigo_marca")).append(", res.codigo_marca)  ");
     qlimiteregional.append("                              AND res.codigo_regional      = nvl(").append(session.getAttribute("codigo_regional")).append(", res.codigo_regional)  ");
     qlimiteregional.append("                              AND res.rep_cdgo             = nvl(null, res.rep_cdgo)  ");
     qlimiteregional.append("                              AND rep.rep_situ             = nvl(").append(session.getAttribute("situacao_representante")).append(", rep.rep_situ)  ");
     qlimiteregional.append("                              AND clr.situacao             = nvl(").append(session.getAttribute("situacao_cliente_representante")).append(", clr.situacao)  ");
     qlimiteregional.append("                              AND rm.situacao              = nvl(").append(session.getAttribute("situacao_representante_marca")).append(", rm.situacao) ");
     qlimiteregional.append(" )  ");
     qlimiteregional.append("                           )  ");
     qlimiteregional.append("                   )  ");
     qlimiteregional.append("           group by codigo_regional, limite  ");
     qlimiteregional.append("          )  ");
     qlimiteregional.append("   group by codigo_regional ");


     Vector res_Jw_clientes_segmentos_regional = j.select(table_clientes_regional,
                                                          qlimiteregional.toString(),
                                                          null);

     session.setAttribute("res_Jw_clientes_segmentos_regional",res_Jw_clientes_segmentos_regional);
  }



  session.setAttribute("res_Clientes_marca",res_Clientes_marca);
  if (res_Clientes_marca != null && res_Clientes_marca.size() > 0) {
    portalbr.dbobj.view.Clientes_marca r = (portalbr.dbobj.view.Clientes_marca) res_Clientes_marca.elementAt(0);
    f.setCodigo_marca((r.getCodigo_marca() != null) ? r.getCodigo_marca() + "":"");
  } else {
    ActionErrors errors = (ActionErrors) request.getAttribute(org.apache.struts.Globals.ERROR_KEY);
    if (errors == null) {
      errors = new ActionErrors();
    }
    errors.add("ActionErrors.GLOBAL_ERROR_bl_form_Clientes_marca", new ActionMessage("warn.norowsselected",""));
    request.setAttribute(org.apache.struts.Globals.ERROR_KEY, errors);
  }
  session.setAttribute(mapping.getName(), form);
}</action_code>
<property>select_action</property>
<forward>same</forward>
<forward_error>same</forward_error>
<baseButtonSetProperty>
</baseButtonSetProperty>
</baseButtonSetProperty>
</buttons_item>
<buttons_item>
<class>com.egen.develop.generator.form.Submit</class>
<name>resetfull_action</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Clientes_marca</block_name>
<role_item></role_item>
<database_column></database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n>ApplicationResources</i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left>320</left>
<top>100</top>
<z_index></z_index>
<value>jsp.reset</value>
<accesskey>r</accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass>myhidden</styleClass>
<styleId></styleId>
<tabindex></tabindex>
<bean_validate>false</bean_validate>
<src></src>
<isCustomized>true</isCustomized>
<codeItem><% if(!(request.getParameter("excel")+"").equals("true")){ %>
<html:submit accesskey="r" styleClass="myhidden" property="resetfull_action"><bean:message bundle="ApplicationResources" key="jsp.reset"/></html:submit>
<% } %>
</codeItem>
<buttonPosition></buttonPosition>
<select_clause></select_clause>
<where_clause></where_clause>
<order_by_clause></order_by_clause>
<group_by_clause></group_by_clause>
<having_clause></having_clause>
<button_db_object></button_db_object>
<triggers></triggers>
<template>reset_full_button_action</template>
<action_code></action_code>
<property>resetfull_action</property>
<forward>same</forward>
<forward_error>same</forward_error>
<baseButtonSetProperty>
</baseButtonSetProperty>
</baseButtonSetProperty>
</buttons_item>
<buttons_item>
<class>com.egen.develop.generator.form.Submit</class>
<name>back_action</name>
<help></help>
<i18nHelp></i18nHelp>
<develHelp></develHelp>
<block_name>bl_form_Clientes_marca</block_name>
<role_item></role_item>
<database_column></database_column>
<roleinclude>false</roleinclude>
<open_form>false</open_form>
<close_form>false</close_form>
<i18n>ApplicationResources</i18n>
<show_help>false</show_help>
<show_help_label>false</show_help_label>
<tabs></tabs>
<format></format>
<title></title>
<titleKey></titleKey>
<i18nTitleKey></i18nTitleKey>
<left>200</left>
<top>100</top>
<z_index></z_index>
<value>jsp.back</value>
<accesskey>a</accesskey>
<disabled>false</disabled>
<onblur></onblur>
<onchange></onchange>
<onclick></onclick>
<ondblclick></ondblclick>
<onfocus></onfocus>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmousemove></onmousemove>
<style></style>
<styleClass></styleClass>
<styleId></styleId>
<tabindex></tabindex>
<bean_validate>false</bean_validate>
<src></src>
<isCustomized>true</isCustomized>
<codeItem><% if(!(request.getParameter("excel")+"").equals("true")){ %>
<html:submit accesskey="a" styleClass="baseButton" property="back_action"><bean:message bundle="ApplicationResources" key="jsp.back"/></html:submit>
<% } %>
</codeItem>
<buttonPosition></buttonPosition>
<select_clause></select_clause>
<where_clause></where_clause>
<order_by_clause></order_by_clause>
<group_by_clause></group_by_clause>
<having_clause></having_clause>
<button_db_object></button_db_object>
<triggers></triggers>
<template></template>
<action_code></action_code>
<property>back_action</property>
<forward>back</forward>
<forward_error>same</forward_error>
<baseButtonSetProperty>
</baseButtonSetProperty>
</baseButtonSetProperty>
</buttons_item>
</buttons>
<formTemplate>default_form_block</formTemplate>
<form_code></form_code>
<number_column></number_column>
</blocks_item>
</blocks>
<strutsConfig>
<class>com.egen.develop.generator.struts.StrutsConfig</class>
<strutsConfigFileName>struts-config.xml</strutsConfigFileName>
<formBeans>
<formBeans_item>
<class>com.egen.develop.struts.FormBean</class>
<className></className>
<dynamic>false</dynamic>
<name>Clientes_marcaActionForm</name>
<type>portalbr.adm.Clientes_marcaActionForm</type>
<description></description>
<display_name></display_name>
<icon></icon>
<formProperties></formProperties>
<setProperties></setProperties>
</formBeans_item>
</formBeans>
<actions>
<actions_item>
<class>com.egen.develop.struts.Action</class>
<path>/adm/Clientes_marcaForm</path>
<type>portalbr.adm.Clientes_marcaAction</type>
<name>Clientes_marcaActionForm</name>
<attribute></attribute>
<input>/adm/Clientes_marcaForm.jsp</input>
<className></className>
<forward></forward>
<include></include>
<validate>true</validate>
<scope></scope>
<parameter></parameter>
<prefix></prefix>
<roles></roles>
<suffix></suffix>
<unknown></unknown>
<description></description>
<display_name></display_name>
<icon></icon>
<forwards>
<forwards_item>
<class>com.egen.develop.struts.Forward</class>
<className></className>
<contextRelative></contextRelative>
<name>same</name>
<path>/adm/Clientes_marcaForm.jsp</path>
<description></description>
<display_name></display_name>
<icon></icon>
<setProperties></setProperties>
</forwards_item>
<forwards_item>
<class>com.egen.develop.struts.Forward</class>
<className></className>
<contextRelative></contextRelative>
<name>back</name>
<path>/adm/Clientes_atendidosForm.jsp</path>
<description></description>
<display_name></display_name>
<icon></icon>
<setProperties></setProperties>
</forwards_item>
</forwards>
<strutsExceptions></strutsExceptions>
<setProperties></setProperties>
</actions_item>
</actions>
</strutsConfig>
<page>
<class>com.egen.develop.generator.EditPage</class>
<info></info>
<language></language>
<contentType></contentType>
<extends_>acesso.web.HttpJspSessao</extends_>
<import_></import_>
<errorPage></errorPage>
<include></include>
<buffer></buffer>
<session>true</session>
<autoFlush>true</autoFlush>
<isThreadSafe>true</isThreadSafe>
<isErrorPage>false</isErrorPage>
<cache>true</cache>
<show_buffer>false</show_buffer>
<show_header>false</show_header>
<isELIgnored>false</isELIgnored>
<trimWhiteSpace>false</trimWhiteSpace>
<enter_effects>normal</enter_effects>
<role></role>
<roleinclude>false</roleinclude>
<http_equiv></http_equiv>
<content></content>
<name></name>
<url></url>
<moremeta></moremeta>
<addHeaderCode><head><title>Sumário de Clientes</title></addHeaderCode>
<editPageSetProperty>
</editPageSetProperty>
</editPageSetProperty>
</page>
<time></time>
<body></body>
<header>
<class>com.egen.develop.generator.Header</class>
<id></id>
<class_></class_>
<style></style>
<include>../system/header_data.jsp</include>
<freeSource><%
if(!user.isSuperUsuario() && !user.isAutorizado(58)){
   response.sendRedirect("../system/Error.jsp");
}
%></freeSource>
<onclick></onclick>
<ondblclick></ondblclick>
<onkeydown></onkeydown>
<onkeypress></onkeypress>
<onkeyup></onkeyup>
<onmousedown></onmousedown>
<onmouseup></onmouseup>
<onmousemove></onmousemove>
<onmouseover></onmouseover>
<onmouseout></onmouseout>
<left></left>
<top></top>
<z_index></z_index>
<message_header>no_message</message_header>
<message_header_user></message_header_user>
<border></border>
<frame></frame>
<title>no_message</title>
<headerSetProperty>
</headerSetProperty>
</headerSetProperty>
</header>
<footer></footer>
<tabs_gen></tabs_gen>
<files></files>
<pluggableValidators></pluggableValidators>
<hasModelAjax>false</hasModelAjax>
<hasActionAjax>false</hasActionAjax>
<generatorSetProperty>
</generatorSetProperty>
</generatorSetProperty>
</generator>
